#login-sky.dawn { background: radial-gradient(1000px 520px at 20% 14%, rgba(255,214,176,0.18), rgba(255,214,176,0)), linear-gradient(180deg,#ffe8c8 0%, #ffe0d4 28%, #f3ecff 58%, #c7dcff 100%); }
#login-sky.day { background: radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,0.14), rgba(255,255,255,0.0)), linear-gradient(180deg,#8ed2ff 0%,#cdefff 55%,#eaf7ff 100%); }
#login-sky.dusk { background: radial-gradient(900px 450px at 70% 12%, rgba(255,190,120,0.12), rgba(255,190,120,0)), linear-gradient(180deg,#ffb36b 0%, #ffdfb0 30%, #ffd79a 45%, #f3b277 58%, #a24f3c 80%, #522b37 100%); }
#login-sky .sun { position:absolute; bottom: 10vh; left: 12vw; width: 120px; height: 120px; border-radius: 50%; background: radial-gradient(circle at 40% 40%, #fff4cf, #ffd38a 45%, rgba(255,167,76,0.85) 60%, rgba(255,140,0,0.0) 80%); box-shadow: 0 0 30px rgba(255,200,120,0.55), 0 0 60px rgba(255,160,70,0.35); opacity: 0; transform: translateZ(0); transition: opacity .8s ease, transform 1.2s ease, filter 1.2s ease; }
#login-sky.dawn .sun { opacity: 1; left: 16vw; right: auto; bottom: 11vh; width: 134px; height: 134px; background: radial-gradient(circle at 42% 44%, #fff7da 0%, #ffd7a8 45%, rgba(255,173,86,0.9) 62%, rgba(255,120,40,0) 82%); box-shadow: 0 0 36px rgba(255,196,120,0.6), 0 0 90px rgba(255,168,72,0.35); filter: saturate(1.05); }
#login-sky.day .sun { opacity: 1; left: 20vw; right: auto; bottom: 23vh; width: 160px; height: 160px; background: radial-gradient(circle at 45% 45%, #fffce6 0%, #ffe9a8 40%, rgba(255,190,90,0.85) 60%, rgba(255,176,64,0) 80%); box-shadow: 0 0 38px rgba(255,220,150,0.55), 0 0 110px rgba(255,200,120,0.4); filter: saturate(1.08); }
#login-sky.dusk .sun { opacity: 1; left: auto; right: 16vw; bottom: 13vh; width: 140px; height: 140px; background: radial-gradient(circle at 62% 40%, #fff1d0 0%, #ffc37c 42%, rgba(255,140,60,0.85) 62%, rgba(150,60,60,0) 82%); box-shadow: 0 0 42px rgba(255,180,90,0.65), 0 0 110px rgba(140,45,40,0.38); filter: saturate(1.05); }
#login-sky.night .sun { opacity: 0; }
#login-sky.dawn .cloud { opacity: .72; filter: blur(1.2px) saturate(1.12) brightness(1.05); }
#login-sky.day .cloud { opacity: .82; filter: blur(1px) saturate(1.05) brightness(1.02); }
#login-sky.dusk .cloud { opacity: .6; filter: blur(1.2px) saturate(1.05); }
/* ==========================================================================
   Variables de Tema y Estilos Base
   ========================================================================== */
:root {
    --sidebar-width: 240px;
    --font-family-base: 'Roboto', sans-serif;
    --font-family-mono: 'Roboto Mono', monospace;
    --primary-color: #003366;
    --primary-color-dark: #002244;
    --primary-color-light: #d6e4f0;
    --header-bg: #ffffff;
    --sidebar-bg: linear-gradient(180deg, var(--primary-color) 0%, var(--primary-color-dark) 100%);
    --body-bg: #f4f7fc;
    --card-bg: #ffffff;
    --text-color: #343a40;
    --text-muted-color: #6c757d;
    --border-color: #dee2e6;
    --shadow-color: rgba(0, 0, 0, 0.05);
    --tech-table-bg: rgba(255, 255, 255, 0.7);
}

body.dark-mode {
    --primary-color: #4dabf7;
    --primary-color-dark: #1e88e5;
    --primary-color-light: #2c3e50;
    --header-bg: #1e2a38;
    --sidebar-bg: linear-gradient(180deg, #1e2a38 0%, #151d27 100%);
    --body-bg: #151d27;
    --card-bg: #1e2a38;
    --text-color: #e8eaed;
    --text-muted-color: #9aa0a6;
    --border-color: #3c4043;
    --shadow-color: rgba(0, 0, 0, 0.2);
    --tech-table-bg: rgba(30, 42, 56, 0.7);
}

body {
    font-family: var(--font-family-base);
    background-color: var(--body-bg);
    color: var(--text-color);
    overflow-x: hidden;
    transition: background-color 0.3s, color 0.3s;
}

/* ==========================================================================
   Login
   ========================================================================== */
.login-screen { background-image: url('images/pistas_aifa.jpg'); background-size: cover; background-position: center; display: flex; justify-content: center; align-items: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; padding-top: env(safe-area-inset-top, 0px); padding-bottom: env(safe-area-inset-bottom, 0px); }
.login-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 20, 0.55); transition: background 0.8s ease, opacity 0.8s ease; z-index: 0; }
.login-overlay.day { background: linear-gradient(180deg, rgba(8,32,66,0.35) 0%, rgba(18,52,96,0.42) 45%, rgba(10,30,60,0.58) 100%); }
.login-overlay.dawn { background: linear-gradient(180deg, rgba(84,36,20,0.58) 0%, rgba(32,26,58,0.5) 100%); }
.login-overlay.dusk { background: linear-gradient(180deg, rgba(52,24,44,0.65) 0%, rgba(16,28,66,0.62) 100%); }
.login-overlay.night { background: radial-gradient(circle at 50% 32%, rgba(2,4,20,0.78) 0%, rgba(0,0,20,0.88) 65%, rgba(0,0,22,0.92) 100%); }
.login-container { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(8px); border-radius: 15px; padding: 2.5rem; width: 90%; max-width: 450px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); text-align: center; z-index: 1; border: 1px solid rgba(255, 255, 255, 0.2); }
.login-screen { position: fixed; }
/* Cielo animado para inicio de sesión */
#login-sky { position:absolute; inset:0; z-index:0; overflow:hidden; background: radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,0.14), rgba(255,255,255,0.0)), linear-gradient(180deg,#8ed2ff 0%,#cdefff 55%,#eaf7ff 100%); transition: background 0.8s ease, filter 0.6s ease; --planeBase: clamp(22px, 2.8vw, 30px); }
#login-sky::after { content:""; position:absolute; inset:0; pointer-events:none; opacity: 0; transition: opacity .6s ease; }
#login-sky.night { background: radial-gradient(800px 400px at 75% 10%, rgba(255,255,255,0.06), rgba(255,255,255,0.0)), linear-gradient(180deg,#0b1630 0%, #0e2240 55%, #0c1c33 100%); }
#login-sky.night::after { opacity: 1; background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.25) 75%, rgba(0,0,0,0.5) 100%); }
#login-sky .moon { position:absolute; top: 8vh; right: 10vw; width: 90px; height: 90px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, #fff, #e7eefc 45%, rgba(220,230,255,0.85) 55%, rgba(180,200,255,0.0) 70%); box-shadow: 0 0 22px rgba(200,220,255,0.55), 0 0 46px rgba(180,200,255,0.22); opacity: 0; transform: translateZ(0); transition: opacity .8s ease; }
#login-sky.night .moon { opacity: 1; }
#login-sky .star { position:absolute; width: 2px; height: 2px; background: rgba(255,255,255,0.95); border-radius: 50%; opacity: .85; animation: twinkle linear infinite; animation-duration: var(--tw, 3s); animation-delay: var(--td, 0s); filter: drop-shadow(0 0 4px rgba(255,255,255,0.7)); }
#login-sky .star.big { width: 3px; height:3px; filter: drop-shadow(0 0 6px rgba(255,255,255,0.9)); }
@keyframes twinkle { 0%,100% { opacity: .15; } 50% { opacity: .95; } }
/* Logo superior en el login (sobre el overlay para mayor presencia) */
#login-sky .sky-top-logo, .login-overlay .sky-top-logo {
   position: absolute;
   top: calc(18px + env(safe-area-inset-top, 0px));
   left: 50%;
   transform: translateX(-50%);
   width: clamp(150px, 26vw, 240px);
   max-width: 52vw;
   opacity: 0.55;
   pointer-events: none;
   z-index: 0;
   filter: drop-shadow(0 4px 10px rgba(0,0,0,0.45)) saturate(1.06) contrast(1.05);
   mix-blend-mode: screen;
}
#login-sky.night .sky-top-logo, .login-screen .night + .login-overlay .sky-top-logo { opacity: 0.75; }
#login-sky.dusk .sky-top-logo, .login-screen .dusk + .login-overlay .sky-top-logo { opacity: 0.7; }
@media (max-width: 576px) { #login-sky .sky-top-logo, .login-overlay .sky-top-logo { width: clamp(160px, 36vw, 220px); top: calc(12px + env(safe-area-inset-top, 0px)); } }
#login-sky .cloud { position:absolute; top:0; left:-40vw; width: 38vw; height: 18vw; background: radial-gradient(closest-side, rgba(255,255,255,0.9), rgba(255,255,255,0.75) 60%, rgba(255,255,255,0) 70%); filter: blur(1px); opacity: .8; animation: cloudDrift linear infinite; animation-duration: var(--dur, 60s); animation-delay: var(--delay, 0s); transform: translateY(var(--y, 0)); }
#login-sky.night .cloud { opacity: .25; filter: blur(1.4px) brightness(0.9); }
#login-sky .cloud::before, #login-sky .cloud::after { content:""; position:absolute; background: inherit; border-radius: 50%; filter: blur(1px); }
#login-sky .cloud::before { width: 22vw; height: 12vw; left: 8vw; top: -3vw; }
#login-sky .cloud::after { width: 16vw; height: 10vw; left: 18vw; top: 2vw; }
@keyframes cloudDrift { from { transform: translate(-40vw, var(--y,0)); } to { transform: translate(140vw, var(--y,0)); } }

/* Aviones volando */
#login-sky .plane { position:absolute; left:-12vw; top: 40vh; transform: translateZ(0); will-change: transform, opacity; color:#1a3d7a; opacity: 1; filter: drop-shadow(0 3px 8px rgba(0,0,0,0.35)); animation: planeFly linear infinite; animation-duration: var(--flight, 22s); animation-delay: var(--delay, 0s); }
#login-sky .plane.reverse { left:auto; right:-12vw; transform: scaleX(-1); animation-name: planeFlyReverse; }
#login-sky .plane .osc { position: relative; display: inline-block; animation: bob var(--bobTime, 7s) ease-in-out infinite; }
@keyframes bob { 0%,100% { transform: translateY(-1px) rotate(0deg); } 50% { transform: translateY(2px) rotate(calc(var(--tilt,8deg) * 0.04)); } }
/* Make planes more visible: larger icon and subtle highlight */
#login-sky .plane .icon { display:inline-block; font-size: calc(var(--planeBase, 26px) * var(--scale, 1)); transform: rotate(var(--tilt, 8deg)); position: relative; color: #eaf3ff; }
#login-sky .plane .icon i { text-shadow: 0 0 4px rgba(255,255,255,0.45); filter: drop-shadow(0 2px 6px rgba(0,0,0,0.45)); }
#login-sky .plane .osc .trail { position:absolute; height:0.10em; left:-20vw; right: calc(100% + 2vw); top: 50%; transform: translateY(-50%); background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.95)); opacity:.95; border-radius:0.18em; filter: blur(0.6px); }
#login-sky.dawn .plane .icon { color: #fff5e8; }
#login-sky.day .plane .icon { color: #fffdf5; }
#login-sky.dusk .plane .icon { color: #ffeede; }
#login-sky.dawn .plane .osc .trail { background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,245,225,0.88)); }
#login-sky.day .plane .osc .trail { background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.72)); }
/* Parallax: capas de profundidad */
#login-sky .plane.far { opacity: .65; filter: blur(0.3px) drop-shadow(0 1px 3px rgba(0,0,0,0.2)); }
#login-sky .plane.mid { opacity: .85; }
#login-sky .plane.near { opacity: .98; filter: drop-shadow(0 3px 8px rgba(0,0,0,0.28)); }
#login-sky .plane.far .osc .trail { height: 1px; opacity: .6; }
#login-sky .plane.near .osc .trail { height: 2px; opacity: .9; }
/* Luces del avión: visibles solo de noche */
#login-sky .plane .light { display:none; position:absolute; width: 0.28em; height: 0.28em; border-radius: 50%; opacity: 0.95; z-index: 2; }
#login-sky.night .plane .light { display:block; }
/* Nav lights (rojo izquierda, verde derecha) */
#login-sky .plane .nav-red { left: -0.85em; top: 50%; transform: translateY(-50%); background: #ff4b4b; box-shadow: 0 0 8px rgba(255,75,75,0.95); animation: navPulse 2.2s ease-in-out infinite; }
#login-sky .plane .nav-green { right: -0.85em; top: 50%; transform: translateY(-50%); background: #4aff8a; box-shadow: 0 0 8px rgba(74,255,138,0.95); animation: navPulse 2.2s ease-in-out infinite; }
#login-sky .plane.reverse .nav-red { right: -0.85em; left: auto; }
#login-sky .plane.reverse .nav-green { left: -0.85em; right: auto; }
@keyframes navPulse { 0%,100% { transform: scale(0.9); filter: brightness(1); } 50% { transform: scale(1.1); filter: brightness(1.2); } }
/* Beacon rojo intermitente (anti-colisión) arriba del fuselaje) */
#login-sky .plane .beacon { left: 0; top: -10px; background:#ff2d2d; box-shadow: 0 0 12px rgba(255,45,45,0.95), 0 0 24px rgba(255,45,45,0.6); animation: beaconBlink 1.1s infinite; }
@keyframes beaconBlink { 0%,20%,100% { opacity: 0; } 8% { opacity: 1; } 10% { opacity: 0.2; } }
/* Estrobo blanco (cola o puntas) */
#login-sky .plane .strobe { right: -0.6em; top: 0.15em; width: 0.28em; height: 0.28em; background: #ffffff; box-shadow: 0 0 0.7em rgba(255,255,255,1), 0 0 1.2em rgba(255,255,255,0.8); animation: strobeDouble 1.2s linear infinite; }
#login-sky .plane.reverse .strobe { left: -0.6em; right: auto; }
/* Doble destello: flash-flash-pausa */
@keyframes strobeDouble { 0% { opacity: 1; } 3% { opacity: 0; } 6% { opacity: 1; } 9% { opacity: 0; } 100% { opacity: 0; } }
/* Luz de aterrizaje (frontal sutil) */
#login-sky .plane .landing { display: none !important; box-shadow: none !important; animation: none !important; opacity: 0 !important; }
#login-sky .plane.reverse .landing { display: none !important; }
@keyframes landingPulse { 0%,100% { opacity: .65; } 50% { opacity: .95; } }
@keyframes planeFly { from { transform: translate(-12vw, var(--y, 0)) rotate(var(--tilt, 8deg)); } to { transform: translate(112vw, var(--y, 0)) rotate(var(--tilt, 8deg)); } }
@keyframes planeFlyReverse { from { transform: translate(12vw, var(--y, 0)) scaleX(-1) rotate(calc(-1 * var(--tilt, 8deg))); } to { transform: translate(-112vw, var(--y, 0)) scaleX(-1) rotate(calc(-1 * var(--tilt, 8deg))); } }
/* (ruta curva eliminada; se mantiene animación lineal original) */

/* Respetar preferencia de movimiento reducido */
@media (prefers-reduced-motion: reduce) {
   #login-sky .cloud, #login-sky .plane { animation: none !important; }
   #login-sky .star, #login-sky .plane .light { animation: none !important; }
}

/* Luces de aeropuerto en el horizonte */
#login-sky .airport-lights { position:absolute; left:0; right:0; bottom:0; height: 14vh; pointer-events: none; opacity: 0; transition: opacity .8s ease; }
#login-sky.night .airport-lights { opacity: .85; }
#login-sky.dusk .airport-lights { opacity: .55; }
#login-sky.dawn .airport-lights { opacity: .38; }
#login-sky.day .airport-lights { opacity: .16; }
#login-sky .ap-light { position:absolute; bottom: 3vh; width: 4px; height: 4px; border-radius: 50%; opacity: .9; animation: apTwinkle 3.2s ease-in-out infinite; animation-delay: var(--d, 0s); transform: translateZ(0) scale(var(--s,1)); filter: blur(.2px); }
@keyframes apTwinkle { 0%,100% { opacity: .55; } 50% { opacity: .95; } }
#login-sky .ap-yellow { background: #ffd36b; box-shadow: 0 0 10px rgba(255,211,107,0.85), 0 0 18px rgba(255,211,107,0.45); }
#login-sky .ap-green { background: #7dff9e; box-shadow: 0 0 10px rgba(125,255,158,0.85), 0 0 18px rgba(125,255,158,0.45); }
#login-sky .ap-blue { background: #7ab6ff; box-shadow: 0 0 10px rgba(122,182,255,0.85), 0 0 18px rgba(122,182,255,0.45); }
.login-hero { position: relative; border-radius: 12px; overflow: hidden; box-shadow: 0 6px 16px rgba(0,0,0,0.25); }
.login-hero::after { content: ""; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0)); pointer-events: none; }
.login-hero-img { display: block; width: 100%; height: 140px; object-fit: cover; }
.login-logo { width: 90px; height: 90px; object-fit: contain; margin-bottom: 1rem; border-radius: 50%; border: 4px solid #003366; padding: 5px; background: #f8f9fa; }
#login-title { font-family: var(--font-family-mono); font-weight: bold; color: #002244; border-right: 3px solid #002244; white-space: nowrap; overflow: hidden; display: inline-block; margin: 0 auto 0.5rem; letter-spacing: .1em; animation: typing 3s steps(15, end), blink-caret .75s step-end infinite; }
@keyframes typing { from { width: 0 } to { width: 100% } }
@keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: #002244; } }
#login-button { transition: background-color 0.3s, transform 0.2s; }
#login-button:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0, 51, 102, 0.3); }
#login-button .spinner { display: none; width: 1.2rem; height: 1.2rem; border: 2px solid #fff; border-bottom-color: transparent; border-radius: 50%; animation: rotation 1s linear infinite; margin: 0 auto; }
#login-button.loading .spinner { display: block; }
#login-button.loading .btn-text { display: none; }
/* Nuevo spinner tipo avión orbitando */
#login-button .spinner-plane { display:none; position:relative; width:46px; height:46px; }
#login-button.loading .spinner-plane { display:inline-block; }
#login-button .spinner-plane::before { content:""; position:absolute; inset:4px; border:3px solid rgba(255,255,255,0.35); border-top-color:transparent; border-radius:50%; animation: rotation 1.1s linear infinite; }
#login-button .spinner-plane::after { content:"✈"; position:absolute; left:50%; top:50%; transform-origin: -6px center; animation: planeSpin 1.1s linear infinite; font-size:18px; color:#fff; }
@keyframes planeSpin { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
@keyframes rotation { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* ==========================================================================
   Animación de Avión CSS con Estela
   ========================================================================== */
#flying-plane { position: absolute; top: 50%; left: -100px; z-index: 1; animation: fly-arc 30s linear infinite; pointer-events: none; opacity: 0.6; width: 25px; height: 8px; background: var(--text-muted-color); border-radius: 40%; }
#flying-plane::before, #flying-plane::after { content: ''; position: absolute; background: var(--text-muted-color); }
#flying-plane::before { width: 8px; height: 22px; left: 7px; top: -9px; transform: skew(-30deg, -10deg); border-radius: 3px; }
#flying-plane::after { width: 5px; height: 10px; left: -2px; top: -1px; transform: skew(40deg, 20deg); border-radius: 1px; }
.contrail { position: absolute; width: 150px; height: 2px; background: linear-gradient(to left, transparent, var(--text-muted-color)); top: 50%; right: 100%; transform: translateY(-50%); opacity: 0.8; }
@keyframes fly-arc { 0% { transform: translate(0, 0) rotate(15deg); } 30% { transform: translate(35vw, -80px) rotate(-10deg); } 70% { transform: translate(75vw, -80px) rotate(-10deg); } 100% { transform: translate(110vw, 20px) rotate(15deg); } }

.header { position: relative; overflow: hidden; }
.header-content { position: relative; z-index: 2; }

/* Mostrar avión animado también en móviles (preferencia del usuario) */
/* Ajuste XS: más chico y ligeramente más transparente para no tapar título */
@media (max-width: 400px) {
   .header .header-content { flex-direction: column; align-items: center; gap: .35rem; }
   /* Acomodo vertical para evitar encimado entre logos */
   .header .d-flex.align-items-center:first-child { order: 1; }
   .header .header-center-content { order: 2; width: 100%; }
   .header .header-right-content { order: 3; }
}

/* ==========================================================================
   Tablas de Inicio "Glassmorphism"
   ========================================================================== */
.table-container-tech { background-color: var(--tech-table-bg); backdrop-filter: blur(10px); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; box-shadow: 0 4px 15px var(--shadow-color); overflow: hidden; }


/* Evitar colisión visual entre cluster derecho y centro en tablets chicas */
@media (max-width: 991.98px) {
   .header-right-content { max-width: 100%; flex-wrap: wrap; justify-content: center; }
}
/* Vertical scroll within the table on mobile: allow pan-y and set a reasonable max-height */
.vertical-scroll { max-height: 60vh; overflow-y: auto; -webkit-overflow-scrolling: touch; touch-action: pan-y; }
.vertical-scroll table { margin: 0; }
.table-container-tech table { --bs-table-color: var(--text-color); --bs-table-bg: transparent; --bs-table-border-color: var(--border-color); --bs-table-hover-color: var(--text-color); --bs-table-hover-bg: var(--body-bg); }

/* Horizontal itinerary scrolling wrapper */
.itinerary-horizontal {
   width: 100%;
}
.h-scroll-area {
   overflow-x: auto;
   -webkit-overflow-scrolling: touch;
}

.h-scroll-area {
   width: 100%;
   white-space: nowrap; /* prevent inline children from wrapping */
}

/* Enable horizontal pan gestures on touch devices */
.h-scroll-area {
   touch-action: pan-x;
   -ms-touch-action: pan-x;
}

/* Optional class to force a wider table when automatic measurement isn't enough */
.force-wide { min-width: 1200px !important; }
.h-scroll-area > .table-container-tech {
   /* Make the inner table container size itself to its content so the h-scroll-area
      can detect overflow and enable horizontal scrolling. */
   display: inline-block;
   vertical-align: top;
   min-width: max-content;
}

/* Controls shown only on small screens */
.h-scroll-controls .scroll-range {
   height: 28px;
}
.h-scroll-controls .btn {
   width: 36px;
   height: 36px;
   padding: 6px 8px;
}

/* Hide native scrollbar in WebKit for a cleaner UI while preserving scrolling */
.h-scroll-area::-webkit-scrollbar {
   height: 8px;
}
.h-scroll-area::-webkit-scrollbar-thumb {
   background: rgba(0,0,0,0.2);
   border-radius: 4px;
}
/* Make horizontal scroll functional on any element using this helper */
.h-scroll-area {
   overflow-x: auto;
   -webkit-overflow-scrolling: touch;
   overscroll-behavior-x: contain;
   touch-action: pan-x;
   scrollbar-width: thin;
}
/* For all browsers/devices: ensure horizontal scroll area only intercepts horizontal pan, not vertical */
#fauna-section .h-scroll-area {
   touch-action: pan-x;
   -ms-touch-action: pan-x;
   overscroll-behavior-x: contain;
   -webkit-overflow-scrolling: touch;
}
@media (pointer: coarse) {
   #fauna-section .h-scroll-area {
      scroll-snap-type: x mandatory;
      scroll-padding: 0 16px;
   }
}

/* Ensure table inside can be wider than container */
.table-container-tech table {
   width: max-content;
}

.table-container-tech table { display: inline-table; }

/* Fauna table specific improvements */
.fauna-table { width: max-content; border-collapse: separate; border-spacing: 0; }
.fauna-table thead th { position: sticky; top: 0; z-index: 2; background: rgba(0,0,0,0.05); backdrop-filter: blur(2px); }
.fauna-table th, .fauna-table td { white-space: nowrap; }
.fauna-table tbody { display: table-row-group; }
.fauna-table thead { display: table-header-group; }
/* On mobile/tablet, ensure the table is wider than the viewport to allow horizontal scrolling */
@media (max-width: 991.98px) {
   #fauna-section #fauna-table-container,
   #fauna-section .table-container-tech,
   #fauna-section .h-scroll-area { overflow-x: auto; -webkit-overflow-scrolling: touch; }
   #fauna-section .fauna-table { min-width: 720px; }
}

/* Ensure origin and destino columns are wide enough to show values */
/* Usamos clases semánticas para columnas anchas */
.table-container-tech table td.col-origen, .table-container-tech table th.col-origen,
.table-container-tech table td.col-destino, .table-container-tech table th.col-destino { min-width: 160px; white-space: nowrap; }
.table-container-tech table td:nth-child(2), .table-container-tech table th:nth-child(2) { min-width: 90px; } /* Aeronave */

/* Keep tables as wide as their content so horizontal scrolling works on all viewports.
   Ensure origin/destination columns are wide enough to show values and force horizontal overflow when needed. */
.table-container-tech table td:nth-child(5), .table-container-tech table th:nth-child(5),
.table-container-tech table td:last-child, .table-container-tech table th:last-child {
   min-width: 160px;
   white-space: nowrap;
}
.table-container-tech thead th { background-color: rgba(0,0,0,0.05); border-bottom: 2px solid var(--primary-color) !important; text-transform: uppercase; font-size: 0.8rem; font-weight: 500; }
body.dark-mode .table-container-tech thead th { background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(0,0,0,0.1)); }
.table-container-tech tbody tr { transition: background-color 0.2s, transform 0.2s, border-left-color 0.2s; border-left: 4px solid var(--airline-color, transparent); }
.table-container-tech tbody tr:hover { transform: translateY(-2px) scale(1.01); box-shadow: 0 4px 10px rgba(0,0,0,0.1); background-color: var(--body-bg); }
.table-container-tech .airline-dot { width: 8px; height: 8px; vertical-align: middle; border-radius: 50%; margin-right: 8px; display: inline-block;}

/* ===================== Responsive "recortada" para móviles ===================== */
@media (max-width: 576px) {
   /* Oculta columnas menos críticas y compacta tablas de itinerario */
   /* Ya no ocultamos columnas en móvil; dejamos todo accesible con scroll horizontal */
   #passenger-itinerary-container table thead th,
   #passenger-itinerary-container table tbody td,
   #cargo-itinerary-container table thead th,
   #cargo-itinerary-container table tbody td { display: table-cell !important; }

   /* Reduce altura de fila y tamaño de logo en móviles para mejor densidad */
   :root { --fids-row-height: 68px; }
   .airline-logo.lg { width: 56px; height: 56px; }
   .airline-logo.xl { width: 72px; height: 72px; }
   .table-container-tech thead th { font-size: 0.8rem; }

   /* Controles de scroll más compactos */
   .h-scroll-controls .btn { width: 32px; height: 32px; }
}

/* Airline logo inline in cells/cards */
.airline-cell { display: inline-flex; align-items: center; gap: 8px; }
/* Tamaños de logo: pensado para simular pantallas de aeropuerto */
.airline-logo { width: 36px; height: 36px; object-fit: contain; background: transparent; }
.airline-logo.sm { width: 30px; height: 30px; }
.airline-logo.md { width: 44px; height: 44px; }
.airline-logo.lg { width: 64px; height: 64px; }
.airline-logo.xl { width: 80px; height: 80px; }
.table-container-tech td:first-child .airline-logo { filter: none; }
/* En modo oscuro algunos logos claros se ven lavados; aumentamos contraste y leve sombra */
body.dark-mode .table-container-tech td:first-child .airline-logo { filter: brightness(0.98) contrast(1.08) saturate(1.02) drop-shadow(0 0 2px rgba(0,0,0,0.35)); }

/* En celdas: si hay logo, el nombre puede omitirse vía JS; aquí aseguramos buen alineado */
.table-container-tech td:first-child .airline-cell { min-height: 72px; }

/* Modo pantalla de aeropuerto (FIDS-like) */
/* FIDS-like global styling (siempre activo) */
:root {
   --fids-row-height: 84px;
   /* Colores sutiles para franjas de filas en modo claro */
   --fids-row-odd-bg: rgba(0, 0, 0, 0.06);
   --fids-row-even-bg: rgba(0, 0, 0, 0.025);
}
.table-container-tech table { font-size: 1.1rem; letter-spacing: 0.4px; }
.table-container-tech tbody tr { height: var(--fids-row-height); }
.table-container-tech td:first-child .airline-cell { min-height: var(--fids-row-height); }
.airline-logo.lg { width: 72px; height: 72px; }
.airline-logo.xl { width: 92px; height: 92px; }
.table-container-tech thead th { font-size: 0.9rem; letter-spacing: 0.6px; }
.table-container-tech tbody tr:hover { transform: none; box-shadow: none; }
/* Centrar todo el contenido en tablas de itinerario/resumen */
.table-container-tech table th,
.table-container-tech table td { text-align: center; vertical-align: middle; }
.table-container-tech table td .airline-cell { justify-content: center; }
/* Franjas por fila (una fuerte, otra suave) */
.table-container-tech tbody tr:nth-child(odd) { background-color: var(--fids-row-odd-bg); }
.table-container-tech tbody tr:nth-child(even) { background-color: var(--fids-row-even-bg); }
/* Conservar franja al hacer hover */
.table-container-tech tbody tr:nth-child(odd):hover { background-color: var(--fids-row-odd-bg); }
.table-container-tech tbody tr:nth-child(even):hover { background-color: var(--fids-row-even-bg); }
/* Ajuste de contraste en modo oscuro */
body.dark-mode { --fids-row-odd-bg: rgba(255, 255, 255, 0.06); --fids-row-even-bg: rgba(255, 255, 255, 0.035); }

/* ================== Itinerario (Inicio) — Encabezados estilo FIDS en azul ================== */
#passenger-itinerary-container .table thead th,
#cargo-itinerary-container .table thead th {
   background: linear-gradient(180deg, var(--primary-color) 0%, var(--primary-color-dark) 100%) !important;
   color: #fff !important;
   text-transform: uppercase;
   font-weight: 700;
   letter-spacing: .7px;
   border-bottom: 2px solid var(--primary-color-dark) !important;
}
body.dark-mode #passenger-itinerary-container .table thead th,
body.dark-mode #cargo-itinerary-container .table thead th {
   background: linear-gradient(180deg, #2a5fa3 0%, #0d2d56 100%) !important; /* tonos azules adaptados para contraste en oscuro */
   border-bottom-color: #0d2d56 !important;
}

/* Mejor legibilidad numérica (alineación de dígitos) y tamaño */
#passenger-itinerary-container .table,
#cargo-itinerary-container .table {
   font-variant-numeric: tabular-nums; /* dígitos de ancho fijo */
   font-family: 'Roboto Condensed', var(--font-family-base), system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
#passenger-itinerary-container .table td,
#cargo-itinerary-container .table td {
   font-weight: 500;
}

/* Ocultar nombre y punto de color cuando el logo esté disponible (JS añade clases) */
.airline-cell.has-logo .airline-name { display: none; }
.airline-header.airline-has-logo .airline-name { display: none; }
/* También ocultar el punto de color en el encabezado cuando hay logo */
.airline-header.airline-has-logo .airline-dot { display: none; }

/* ==========================================================================
   Barra Lateral Plegable
   ========================================================================== */
.app-body { position: relative; }
.sidebar { position: fixed; left: 0; top: 0; bottom: 0; transform: translateX(0); transition: transform 0.3s ease; }
.main-content { margin-left: var(--sidebar-width); transition: margin-left 0.3s ease, width 0.3s ease; width: calc(100% - var(--sidebar-width)); }
.sidebar-toggler-btn { color: var(--text-color); border: none; font-size: 1.2rem; }
body.sidebar-collapsed .sidebar { transform: translateX(calc(-1 * var(--sidebar-width))); }
body.sidebar-collapsed .main-content { margin-left: 0; width: 100%; }

/* Mobile sidebar behavior */
@media (max-width: 991.98px) {
   .sidebar { transform: translateX(-100%); width: var(--sidebar-width); box-shadow: 4px 0 12px rgba(0,0,0,0.2); }
   .sidebar.visible { transform: translateX(0); }
   .main-content { margin-left: 0; width: 100%; }
   .sidebar-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.35); opacity: 0; visibility: hidden; transition: opacity .2s ease, visibility .2s ease; z-index: 1040; }
   .sidebar-overlay.active { opacity: 1; visibility: visible; }
}

/* ==========================================================================
   Animaciones Generales
   ========================================================================== */
.animated-row { opacity: 0; transform-origin: top; transform: rotateX(-90deg); animation: flipIn 0.8s ease-out forwards; animation-delay: var(--delay); }
@keyframes flipIn { to { opacity: 1; transform: rotateX(0deg); } }
.fade-in-row { opacity: 0; animation: fadeInUp 0.8s ease-out forwards; animation-delay: var(--delay); }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* ==========================================================================
   Resto de Estilos
   ========================================================================== */
body.dark-mode .card h1, body.dark-mode .card h2, body.dark-mode .card h3, body.dark-mode .card h4, body.dark-mode .card h5, body.dark-mode .h5 { color: var(--text-color); }
.hidden { display: none !important; }
.aifa-logo { width: 120px; height:auto; max-width:100%; }
@media (min-width: 577px) and (max-width: 991.98px) {
   /* Tablets: logo más pequeño para evitar saturación del encabezado */
   .aifa-logo { width: 90px; }
}
@media (max-width: 576px) {
   .aifa-logo { width: 70px; }
}
.header-logo { height: 45px; }
.main-title { font-size: 1.4rem; font-weight: 500; color: var(--text-color); }
.current-user-display { color: var(--primary-color); }
.gob-logo { height: 35px; }
.formal-clock-container { text-align: center; background-color: var(--body-bg); padding: 0.5rem 1rem; border-radius: 0.5rem; border: 1px solid var(--border-color); }
.clock-label { font-size: 0.7rem; font-weight: 600; color: var(--text-muted-color); text-transform: uppercase; }
.formal-clock { font-family: 'Courier New', monospace; font-weight: 700; font-size: 1.05rem; color: var(--primary-color); }
/* UTC clock styling - same size as local clock */
.utc-clock { font-family: 'Courier New', monospace; font-weight: 700; font-size: 1.05rem; color: var(--primary-color); }
.utc-clock-container .clock-label { font-size: 0.65rem; }

/* Clocks wrapper adjustments - make both clocks visually identical */
.clocks-wrapper .formal-clock-container, .clocks-wrapper .utc-clock-container { background: transparent; padding: 0.18rem 0.45rem; border-radius: 0.4rem; }
.formal-clock, .utc-clock { padding: 0.18rem 0.6rem; border-radius: 6px; background: rgba(255,255,255,0.92); color: #002244; box-shadow: 0 2px 6px rgba(0,0,0,0.06); }

body.dark-mode .formal-clock, body.dark-mode .utc-clock { background: rgba(255,255,255,0.04); color: #e8eaed; box-shadow: none; }

/* Improve contrast in dark mode across the app for text-heavy areas */
body.dark-mode { color: #e8eaed; }
body.dark-mode .card, body.dark-mode .filter-container { background-color: #1e2a38; border-color: rgba(255,255,255,0.06); }
body.dark-mode .menu-item { color: rgba(255,255,255,0.95); }
body.dark-mode .menu-item:hover { background-color: rgba(255,255,255,0.05); }
body.dark-mode .table-container-tech { background-color: rgba(255,255,255,0.04); }

.update-note { font-size: 0.9rem; color: var(--text-muted-color); display: inline-flex; align-items: center; gap: 0.5rem; }
.update-note i { color: var(--primary-color); }
body.dark-mode .update-note { color: #c9d6e6; }
.date-bar { background-color: var(--card-bg); border-bottom: 1px solid var(--border-color); }
.theme-toggle-btn { color: var(--text-color); }
.sidebar { background: var(--sidebar-bg); color: white; width: var(--sidebar-width); flex-shrink: 0; z-index: 1050; }
.menu-item { display: flex; align-items: center; padding: 0.85rem 1.5rem; color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.2s ease; border-left: 4px solid transparent; }
.menu-item:hover { background-color: rgba(255, 255, 255, 0.1); color: white; }
.menu-item.active { background-color: var(--primary-color-light); color: var(--primary-color-dark); font-weight: 700; border-left-color: var(--primary-color); }
body.dark-mode .menu-item.active { background-color: var(--primary-color-light); color: white; border-left-color: var(--primary-color); }
.menu-item i { margin-right: 12px; width: 20px; text-align: center; }
/* Composite icon for punctuality: clock with a small check overlay */
.icon-clock-check { position: relative; display: inline-block; width: 20px; height: 20px; margin-right: 12px; color: rgba(255,255,255,0.9); }
.icon-clock-check i { position: absolute; left: 0; top: 0; width: 100%; height: 100%; line-height: 20px; text-align: center; }
.icon-clock-check i.check { font-size: 0.65rem; color: #fff; background: #198754; border-radius: 50%; width: 12px; height: 12px; display: inline-flex; align-items: center; justify-content: center; right: -2px; top: 8px; position: absolute; box-shadow: 0 1px 2px rgba(0,0,0,0.2); }
body.dark-mode .icon-clock-check { color: #e8eaed; }
.logout-item { margin-top: auto; border-top: 1px solid rgba(255, 255, 255, 0.2); }
.filter-container { background-color: var(--body-bg); border: 1px solid var(--border-color); border-radius: 0.5rem; padding: 1rem; box-shadow: var(--shadow-color) 0px 2px 8px 0px; }
.filter-header { display: flex; align-items: center; color: var(--primary-color); margin-bottom: 0.75rem; }
.pdf-preview-container { position: relative; width: 100%; height: 550px; border: 1px solid var(--border-color); border-radius: .375rem; overflow: hidden; }
.pdf-preview-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
.content-section { display: none; animation: fadeIn 0.5s; }
.content-section.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
.card { background-color: var(--card-bg); border: 1px solid var(--border-color); transition: background-color 0.3s, border-color 0.3s; }
.card-header, .card-body, .card-footer { background-color: transparent; border-color: var(--border-color); }
.nav-tabs .nav-link { color: var(--text-muted-color); }
.nav-tabs .nav-link.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
.table-stylish thead { background-color: var(--primary-color); color: white; font-weight: 500; text-transform: uppercase; font-size: 0.8rem; }
.table-stylish-footer { background-color: var(--primary-color-light); font-weight: bold; color: var(--primary-color-dark); border-top: 2px solid var(--primary-color); }
body.dark-mode .table-stylish-footer { color: var(--text-color); }
.table-dark { --bs-table-bg: var(--primary-color); }
.table-total-row { background-color: var(--primary-color-light); font-weight: bold; }
.pdf-container { position: relative; }
.pdf-container iframe { background: #fff; }
/* Limit vertical PDF viewers to viewport height with scroll */
.pdf-singlepage-viewer.v-scroll {
   max-height: 80vh;
   overflow-y: auto;
}
/* Improve contrast for PDF/iframe containers in dark mode so text inside PDFs is easier to read against a white backdrop */
body.dark-mode .pdf-container, body.dark-mode .pdf-preview-container {
   background: #fff;
   border: 1px solid var(--border-color);
   border-radius: .375rem;
   padding: 6px;
}
body.dark-mode .pdf-container iframe, body.dark-mode .pdf-preview-container iframe {
   background: #fff;
}
/* Chart containers - consistent height and spacing to avoid overlapping visuals */
.chart-container { height: 300px; position: relative; }
.card .chart-container canvas { width: 100% !important; height: 100% !important; }
.card .chart-container > div { width: 100% !important; height: 100% !important; }

/* Itinerary charts: dedicated horizontal scroll wrapper */
.itinerary-charts-scroll {
   overflow-x: auto;
   -webkit-overflow-scrolling: touch;
   touch-action: pan-x;
   white-space: nowrap;
}
/* En escritorio no forzamos ancho extra; solo en móvil (ver más abajo) */

/* Gráficas Itinerario Diario: en móviles, poner ambas en una fila horizontal scrolleable */
@media (max-width: 576px) {
   /* Forzar que la fila de gráficas sea más ancha que la pantalla para habilitar scroll */
   .itinerary-charts-scroll > .row { min-width: 120%; display: inline-block; white-space: normal; }
   .chart-row-mobile-scroll {
      display: block;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      white-space: nowrap;
      padding-bottom: 6px;
   }
   .chart-row-mobile-scroll > [class^="col-"],
   .chart-row-mobile-scroll > [class*=" col-"] {
      display: inline-block;
      vertical-align: top;
      /* cada tarjeta más ancha que la pantalla para que se lean bien las horas */
      width: 88vw;
      margin-right: 12px;
      white-space: normal; /* permitir saltos dentro de cada tarjeta */
   }
   /* Altura un poco mayor para que labels no se encimen */
   #pasajeros-grafica-pane .chart-container,
   #carga-grafica-pane .chart-container { height: 340px; }
   /* Evitar recorte del eje X */
   .chart-container { padding-bottom: 8px; }
}

/* Eliminado fondo detrás de logos; se regresa al estilo original sin realce de color */

/* Iconos de sección para Operaciones Totales */
.section-icon { display:inline-flex; align-items:center; justify-content:center; width:32px; height:32px; border-radius:8px; margin-right:8px; font-size:1.05rem; font-weight:600; box-shadow:0 2px 6px rgba(0,0,0,0.15); letter-spacing:-1px; }
.icon-commercial { background: linear-gradient(135deg,#1e88e5,#0d47a1); color:#fff; }
.icon-cargo { background: linear-gradient(135deg,#fb8c00,#ef6c00); color:#fff; }
.icon-general { background: linear-gradient(135deg,#2e7d32,#1b5e20); color:#fff; }
body.dark-mode .section-icon { box-shadow:0 2px 8px rgba(0,0,0,0.4); }

/* Loader global de avión orbitando */
.global-loader { position:fixed; inset:0; background:radial-gradient(circle at 30% 30%, rgba(0,0,0,0.65), rgba(0,0,0,0.8)); backdrop-filter: blur(4px); display:flex; align-items:center; justify-content:center; z-index:4000; transition: opacity .35s, visibility .35s; }
.global-loader.hidden { opacity:0; visibility:hidden; pointer-events:none; }
.global-loader .loader-content { text-align:center; color:#fff; font-family: var(--font-family-base); }
.plane-orbit { position:relative; width:200px; height:200px; margin:0 auto 1rem; }
.plane-orbit .orbit-ring { position:absolute; inset:0; border:4px solid rgba(255,255,255,0.15); border-top-color: var(--primary-color); border-right-color: rgba(255,255,255,0.28); border-bottom-color: var(--primary-color-dark); border-left-color: rgba(255,255,255,0.05); border-radius:50%; animation: ringSpin 14s linear infinite; box-shadow:0 0 14px rgba(255,255,255,0.15), 0 0 28px rgba(0,136,255,0.25) inset; backdrop-filter: blur(2px); }
.plane-orbit .plane-icon { position:absolute; left:50%; top:50%; font-size:42px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.55)) drop-shadow(0 0 6px rgba(255,255,255,0.35)); animation: planeOrbit 5s linear infinite; }
/* AIFA logo dentro del loader */
.plane-orbit .loader-aifa-logo {
   position: absolute;
   left: 50%;
   top: 50%;
   transform: translate(-50%, -50%);
   width: 110px;
   height: 110px;
   object-fit: cover;
   border-radius: 50%;
      border: 2px solid var(--primary-color);
   /* quitar borde; conservar glow suave */
   box-shadow: 0 10px 22px rgba(0,0,0,0.35), 0 0 28px rgba(13,45,86,0.42);
}

   /* Loader de sección (Manifiestos) */
   .section-loader { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,0.85); backdrop-filter: blur(2px); z-index: 50; transition: opacity .25s ease, visibility .25s ease; }
   .section-loader.hidden { opacity:0; visibility:hidden; pointer-events:none; }
   .section-loader .loader-content { color:#222; }
   .section-loader .loader-text { font-weight:600; color:#333; }
   /* Escala reducida para el orbitador dentro de contenedor */
   .section-loader .plane-orbit { width:140px; height:140px; }
   .section-loader .plane-orbit .plane-icon { font-size:34px; }
@keyframes planeOrbit {
  0%   { transform: translate(-50%, -50%) rotate(0deg)   translateX(86px) rotate(90deg)  rotate(0deg); }
  12.5%{ transform: translate(-50%, -50%) rotate(45deg)  translateX(86px) rotate(90deg)  rotate(-10deg); }
  25%  { transform: translate(-50%, -50%) rotate(90deg)  translateX(86px) rotate(90deg)  rotate(-16deg); }
  37.5%{ transform: translate(-50%, -50%) rotate(135deg) translateX(86px) rotate(90deg)  rotate(-8deg); }
  50%  { transform: translate(-50%, -50%) rotate(180deg) translateX(86px) rotate(90deg)  rotate(0deg); }
  62.5%{ transform: translate(-50%, -50%) rotate(225deg) translateX(86px) rotate(90deg)  rotate(8deg); }
  75%  { transform: translate(-50%, -50%) rotate(270deg) translateX(86px) rotate(90deg)  rotate(16deg); }
  87.5%{ transform: translate(-50%, -50%) rotate(315deg) translateX(86px) rotate(90deg)  rotate(10deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg) translateX(86px) rotate(90deg)  rotate(0deg); }
}
@keyframes ringSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.loader-text { font-weight:600; letter-spacing:.5px; font-size:1rem; animation: fadeInUp .6s ease; }
.global-loader .loader-content::after { content:''; display:block; margin:10px auto 0; width:60px; height:8px; background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6), rgba(255,255,255,0)); border-radius:50%; filter:blur(4px); animation: pulseShadow 1.8s ease-in-out infinite; }
@keyframes pulseShadow { 0%,100% { transform: scale(0.9); opacity:0.5; } 50% { transform: scale(1.05); opacity:0.9; } }
body.dark-mode .global-loader { background:rgba(0,0,0,0.7); }

/* Extra dark mode contrast */
#summary-table-container .summary-total-card { border:none; background:linear-gradient(135deg,#0d47a1,#1976d2); color:#fff; position:relative; overflow:hidden; box-shadow:0 14px 30px rgba(13,71,161,0.35); }
#summary-table-container .summary-total-card::after { content:""; position:absolute; inset:auto -30% -60% -30%; height:160%; background:radial-gradient(circle at 50% 20%, rgba(255,255,255,0.45), rgba(255,255,255,0)); opacity:.25; }
.summary-total-icon { width:52px; height:52px; border-radius:16px; background:rgba(255,255,255,0.18); display:flex; align-items:center; justify-content:center; font-size:1.35rem; box-shadow:0 6px 14px rgba(0,0,0,0.2); }
.summary-total-title { font-size:1.12rem; font-weight:700; letter-spacing:.01em; }
.summary-total-sub { font-size:.85rem; opacity:.85; }
.summary-pill { display:inline-flex; align-items:center; gap:.35rem; padding:.35rem .85rem; border-radius:999px; font-weight:600; font-size:.85rem; backdrop-filter: blur(4px); box-shadow:0 6px 16px rgba(15,23,42,0.15); border:1px solid transparent; transition:transform .18s ease, box-shadow .18s ease; }
.summary-pill:hover { transform:translateY(-1px); box-shadow:0 10px 20px rgba(15,23,42,0.18); }
.summary-pill-total { background:linear-gradient(135deg, rgba(25,118,210,0.22), rgba(120,188,255,0.34)); color:#0b2f52; border-color:rgba(30,136,229,0.42); }
.summary-pill-arrivals { background:linear-gradient(135deg, rgba(76,175,80,0.2), rgba(165,214,167,0.34)); color:#0f3f24; border-color:rgba(76,175,80,0.42); }
.summary-pill-departures { background:linear-gradient(135deg, rgba(255,167,38,0.22), rgba(255,213,128,0.36)); color:#7a3f00; border-color:rgba(255,167,38,0.45); }
.summary-pill-total i,
.summary-pill-passenger i,
.summary-pill-cargo i { margin-right:0.35rem; font-size:0.95em; }
.summary-pill-passenger { background:linear-gradient(135deg, rgba(76,175,80,0.24), rgba(174,213,129,0.36)); color:#0c3b20; border-color:rgba(76,175,80,0.44); }
.summary-pill-cargo { background:linear-gradient(135deg, rgba(255,160,0,0.22), rgba(255,213,79,0.36)); color:#6a3a00; border-color:rgba(255,160,0,0.45); }
.summary-pill-general { background:linear-gradient(135deg, rgba(0,150,136,0.22), rgba(128,203,196,0.36)); color:#004d40; border-color:rgba(0,150,136,0.45); }

#summary-table-container .summary-positions-card { border:1px solid rgba(13,71,161,0.12); background:linear-gradient(135deg, rgba(13,71,161,0.05), rgba(25,118,210,0.08)); box-shadow:0 10px 24px rgba(15,23,42,0.08); }
.summary-position-groups { display:flex; flex-direction:column; gap:1.1rem; }
.summary-position-group { display:flex; flex-direction:column; gap:0.5rem; }
.summary-position-group-label { font-size:.74rem; text-transform:uppercase; letter-spacing:.12em; color:var(--text-muted-color); font-weight:700; padding-left:.1rem; }
.summary-position-group-row { display:flex; flex-wrap:wrap; gap:0.5rem; }
.summary-positions-card.compact .summary-position-group { align-items:center; }
.summary-positions-card.compact .summary-position-group-label { text-align:center; padding-left:0; }
.summary-positions-card.compact .summary-position-group-row { justify-content:center; }
.summary-positions-card.compact .summary-position-badge { font-size:1.05rem; }
.summary-positions-icon { width:42px; height:42px; border-radius:12px; display:flex; align-items:center; justify-content:center; background:rgba(25,118,210,0.15); color:var(--primary-color); font-size:1.1rem; }
.summary-positions-title { font-weight:700; letter-spacing:.01em; }
.summary-positions-sub { font-size:.78rem; color:var(--text-muted-color); }
.summary-position-badge { display:inline-flex; align-items:center; gap:.35rem; padding:.45rem .95rem; border-radius:12px; border:1px solid transparent; background:var(--card-bg); color:var(--text-color); font-weight:600; font-variant-numeric: tabular-nums; cursor:pointer; transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease; }
.summary-position-badge strong { font-weight:700; color:inherit; }
.summary-position-badge[data-intensity="low"] { background:linear-gradient(135deg, rgba(25,135,84,0.1), rgba(25,135,84,0.22)); color:#0f5132; border-color:rgba(25,135,84,0.35); }
.summary-position-badge[data-intensity="medium"] { background:linear-gradient(135deg, rgba(255,193,7,0.12), rgba(255,193,7,0.24)); color:#705700; border-color:rgba(255,193,7,0.4); }
.summary-position-badge[data-intensity="high"] { background:linear-gradient(135deg, rgba(220,53,69,0.12), rgba(220,53,69,0.26)); color:#842029; border-color:rgba(220,53,69,0.46); }
.summary-position-badge[data-special="cobus"] { border-color:rgba(33,150,243,0.6); box-shadow:0 12px 26px rgba(30,136,229,0.24); }
#summary-table-container .summary-position-flag { display:inline-flex; align-items:center; gap:0.3rem; margin-left:0.45rem; padding:0.18rem 0.5rem; border-radius:999px; font-size:.68rem; font-weight:700; letter-spacing:.05em; text-transform:uppercase; background:rgba(30,136,229,0.16); color:#0d47a1; }
#summary-table-container .summary-position-flag i { font-size:0.78rem; }
.summary-position-badge:hover { transform:translateY(-1px); box-shadow:0 10px 22px rgba(15,23,42,0.14); }
.summary-position-badge.active { border-width:2px; box-shadow:0 14px 26px rgba(13,71,161,0.22); }
#summary-table-container .summary-position-badge:focus-visible { outline:3px solid rgba(13,110,253,0.45); outline-offset:2px; }
#summary-table-container .summary-airline-card:focus-visible { outline:3px solid rgba(13,110,253,0.4); outline-offset:3px; }

#summary-table-container .summary-airline-grid { margin-top:0; }
#summary-table-container .summary-airline-card { position:relative; border:1px solid var(--border-color); border-radius:16px; background:var(--card-bg); box-shadow:0 10px 24px var(--shadow-color); cursor:pointer; transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease; overflow:hidden; min-height:162px; }
#summary-table-container .summary-airline-card::after { content:""; position:absolute; inset:0; background:radial-gradient(circle at 20% -20%, rgba(255,255,255,0.4), rgba(255,255,255,0)); opacity:0; transition:opacity .2s ease; pointer-events:none; }
#summary-table-container .summary-airline-card:hover { transform:translateY(-3px); box-shadow:0 16px 28px var(--shadow-color); }
#summary-table-container .summary-airline-card:hover::after { opacity:.4; }
#summary-table-container .summary-airline-card.active { border-color:rgba(13,110,253,0.55); box-shadow:0 20px 36px rgba(13,110,253,0.22); }
#summary-table-container .summary-airline-card.active::after { opacity:.55; }
.summary-airline-card-body { position:relative; z-index:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.75rem; padding:1.4rem 1rem; text-align:center; }
.summary-selection-controls { gap:0.5rem; }
.summary-selection-controls .summary-reset-btn { display:inline-flex; align-items:center; gap:0.35rem; }
.summary-airline-logo { width:92px; height:92px; border-radius:50%; background:transparent; display:flex; align-items:center; justify-content:center; overflow:hidden; padding:0.5rem; box-shadow:none; }
.summary-airline-logo .airline-logo { width:100% !important; height:100% !important; object-fit:contain; filter:none; }
.summary-airline-fallback { display:inline-flex; align-items:center; justify-content:center; width:92px; height:92px; border-radius:50%; background:var(--summary-airline-color, var(--primary-color)); color:#fff; font-weight:700; font-size:1.75rem; letter-spacing:-.02em; }
.summary-airline-total { font-size:1.9rem; font-weight:700; color:var(--summary-airline-color,#0d6efd); line-height:1; letter-spacing:-.015em; }
.summary-airline-total-label { font-size:.73rem; text-transform:uppercase; letter-spacing:.14em; color:var(--text-muted-color); font-weight:600; }
.summary-airline-section + .summary-airline-section { margin-top:1.5rem; }
.summary-section-label { font-size:.82rem; text-transform:uppercase; letter-spacing:.12em; color:var(--text-muted-color); font-weight:700; margin-bottom:.35rem; padding-left:.15rem; }

#summary-table-container .summary-detail-card { border:none; border-radius:20px; box-shadow:0 20px 40px rgba(15,23,42,0.12); overflow:hidden; }
.summary-detail-hero { background:linear-gradient(135deg,var(--summary-airline-color,#0d6efd),#42a5f5); color:#fff; padding:1.4rem 1.6rem; display:flex; align-items:center; flex-wrap:wrap; gap:1rem; }
.summary-detail-flag { display:inline-flex; align-items:center; gap:0.4rem; padding:0.3rem 0.85rem; border-radius:999px; font-size:0.75rem; font-weight:700; letter-spacing:.05em; text-transform:uppercase; background:rgba(255,255,255,0.22); color:#0d47a1; }
.summary-detail-flag i { font-size:0.9rem; }
.summary-detail-logo { width:96px; height:96px; border-radius:24px; background:rgba(255,255,255,0.2); display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow:0 12px 24px rgba(0,0,0,0.18); }
.summary-detail-logo .airline-logo { width:100% !important; height:100% !important; object-fit:contain; filter:none; }
.summary-detail-title { font-size:1.3rem; font-weight:700; letter-spacing:.01em; }
.summary-detail-sub { font-size:.85rem; color:rgba(255,255,255,0.85); }
.summary-detail-metrics { display:flex; gap:.5rem; }
.summary-detail-chip { display:inline-flex; align-items:center; gap:.4rem; padding:.4rem .9rem; border-radius:999px; font-weight:600; backdrop-filter: blur(4px); }
.summary-detail-chip-arrivals { background:rgba(76,175,80,0.28); color:#e8f5e9; }
.summary-detail-chip-departures { background:rgba(255,167,38,0.28); color:#fff3e0; }
.summary-detail-actions .btn { font-weight:600; }
.summary-detail-table { margin-top:1.6rem; }
.summary-detail-table .table { min-width:960px; }

#summary-table-container .tooltip.show { opacity:1; }
#summary-table-container .tooltip-inner { background:linear-gradient(135deg,#0d47a1,#1976d2); color:#fff; font-size:.95rem; padding:.55rem .85rem; border-radius:12px; box-shadow:0 12px 24px rgba(13,71,161,0.35); }
#summary-table-container .tooltip .tooltip-arrow::before { background:#1976d2; }

body.dark-mode #summary-table-container .summary-total-card { box-shadow:0 18px 40px rgba(5,10,20,0.65); }
body.dark-mode #summary-table-container .summary-pill-total { background:linear-gradient(135deg, rgba(21,53,92,0.58), rgba(15,40,70,0.78)); color:#d5e9ff; border-color:rgba(118,186,255,0.5); }
body.dark-mode #summary-table-container .summary-pill-arrivals { background:linear-gradient(135deg, rgba(27,73,44,0.56), rgba(19,54,32,0.78)); color:#c3f0d2; border-color:rgba(129,199,132,0.48); }
body.dark-mode #summary-table-container .summary-pill-departures { background:linear-gradient(135deg, rgba(87,52,11,0.58), rgba(60,36,6,0.8)); color:#ffdeb3; border-color:rgba(255,183,77,0.48); }
body.dark-mode #summary-table-container .summary-pill-passenger { background:linear-gradient(135deg, rgba(38,87,52,0.58), rgba(28,68,41,0.82)); color:#c7f5d6; border-color:rgba(129,199,132,0.5); }
body.dark-mode #summary-table-container .summary-pill-cargo { background:linear-gradient(135deg, rgba(94,55,9,0.6), rgba(65,38,5,0.82)); color:#ffe3b2; border-color:rgba(255,204,102,0.48); }
body.dark-mode #summary-table-container .summary-pill-general { background:linear-gradient(135deg, rgba(12,58,53,0.58), rgba(8,41,37,0.82)); color:#a7f3ea; border-color:rgba(64,224,208,0.48); }
body.dark-mode #summary-table-container .summary-positions-card { background:linear-gradient(135deg, rgba(77,171,247,0.1), rgba(13,71,161,0.2)); border-color:rgba(77,171,247,0.3); box-shadow:0 16px 32px rgba(0,0,0,0.45); }
body.dark-mode #summary-table-container .summary-positions-icon { background:rgba(77,171,247,0.22); color:#e1f2ff; }
body.dark-mode #summary-table-container .summary-positions-sub { color:#9ec5ff; }
body.dark-mode #summary-table-container .summary-position-badge { background:rgba(16,27,42,0.85); border-color:rgba(77,171,247,0.35); color:#dfe9f5; }
body.dark-mode #summary-table-container .summary-position-badge strong { color:inherit; }
body.dark-mode #summary-table-container .summary-position-badge[data-intensity="low"] { background:linear-gradient(135deg, rgba(25,135,84,0.28), rgba(12,84,48,0.55)); color:#c6f6dd; border-color:rgba(25,135,84,0.55); }
body.dark-mode #summary-table-container .summary-position-badge[data-intensity="medium"] { background:linear-gradient(135deg, rgba(255,193,7,0.28), rgba(189,139,17,0.52)); color:#ffe9a6; border-color:rgba(255,193,7,0.6); }
body.dark-mode #summary-table-container .summary-position-badge[data-intensity="high"] { background:linear-gradient(135deg, rgba(220,53,69,0.3), rgba(165,42,52,0.55)); color:#ffb8c4; border-color:rgba(220,53,69,0.65); }
body.dark-mode #summary-table-container .summary-position-badge[data-special="cobus"] { border-color:rgba(120,190,255,0.7); box-shadow:0 14px 30px rgba(33,150,243,0.34); }
body.dark-mode #summary-table-container .summary-position-badge:hover { box-shadow:0 12px 28px rgba(0,0,0,0.6); }
body.dark-mode #summary-table-container .summary-position-badge.active { border-width:2px; box-shadow:0 18px 32px rgba(0,0,0,0.65); }
body.dark-mode #summary-table-container .summary-position-group-label { color:#9fb4cc; }
body.dark-mode #summary-table-container .summary-section-label { color:#9fb4cc; }
body.dark-mode #summary-table-container .summary-position-badge:focus-visible { outline:3px solid rgba(120,190,255,0.65); }
body.dark-mode #summary-table-container .summary-position-flag { background:rgba(30,136,229,0.28); color:#8ec9ff; }
body.dark-mode #summary-table-container .summary-airline-card:focus-visible { outline:3px solid rgba(77,171,247,0.45); }
body.dark-mode #summary-table-container .summary-airline-card { background:rgba(20,30,46,0.95); border-color:rgba(255,255,255,0.08); box-shadow:0 18px 32px rgba(0,0,0,0.45); }
body.dark-mode #summary-table-container .summary-airline-card:hover { box-shadow:0 20px 34px rgba(0,0,0,0.55); }
body.dark-mode #summary-table-container .summary-airline-logo { background:transparent; }
body.dark-mode #summary-table-container .summary-airline-pill { background:rgba(77,171,247,0.2); border-color:rgba(77,171,247,0.35); color:#a9d7ff; }
body.dark-mode #summary-table-container .summary-airline-card.active .summary-airline-pill { color:#fff; }
body.dark-mode #summary-table-container .summary-airline-progress .progress-track { background:rgba(77,171,247,0.18); }
body.dark-mode #summary-table-container .summary-airline-sub { color:#9fb4cc; }
body.dark-mode #summary-table-container .summary-airline-card .summary-airline-total { color:#d3e6ff; }
body.dark-mode #summary-table-container .summary-airline-total-label { color:#8aa6c7; }
body.dark-mode #summary-table-container .summary-detail-card { box-shadow:0 22px 48px rgba(0,0,0,0.55); }
body.dark-mode #summary-table-container .summary-detail-chip-arrivals { background:rgba(129,199,132,0.32); color:#d0f5d3; }
body.dark-mode #summary-table-container .summary-detail-chip-departures { background:rgba(255,183,77,0.34); color:#ffe0b2; }
body.dark-mode #summary-table-container .summary-detail-flag { background:rgba(120,190,255,0.35); color:#dbeeff; }
body.dark-mode #summary-table-container .summary-detail-table { background:rgba(14,22,34,0.85); }
body.dark-mode #summary-table-container .tooltip-inner { background:linear-gradient(135deg,#1e88e5,#42a5f5); box-shadow:0 12px 28px rgba(0,0,0,0.55); }
body.dark-mode #summary-table-container .tooltip .tooltip-arrow::before { background:#42a5f5; }
#summary-table-container .summary-detail-logo.position-logo { background:rgba(255,255,255,0.25); color:#fff; font-size:2rem; display:flex; align-items:center; justify-content:center; }
body.dark-mode #summary-table-container .summary-detail-logo.position-logo { background:rgba(16,27,42,0.45); color:#e8f3ff; }
#summary-table-container .summary-detail-table .table thead th { background-color:rgba(0,0,0,0.04); }
body.dark-mode #summary-table-container .summary-detail-table .table thead th { background:rgba(255,255,255,0.08); }
body.dark-mode .filter-container { background:#243447; border-color:#2f3b4a; }
body.dark-mode .filter-container .form-control,
body.dark-mode .filter-container .form-select { background:#1b2733; color:#e8eaed; border-color:#3c4a57; }
body.dark-mode .filter-container .form-control::placeholder { color:#6f8394; }
body.dark-mode .filter-container .form-control:focus,
body.dark-mode .filter-container .form-select:focus { border-color:#4dabf7; box-shadow:0 0 0 2px rgba(77,171,247,0.25); }
body.dark-mode #ops-sections-filters label,
body.dark-mode #ops-years-filters label { color:#dbe5ee; }
body.dark-mode .form-check-input { background:#1e2a38; border-color:#3c4a57; }
body.dark-mode .form-check-input:checked { background-color:#4dabf7; border-color:#4dabf7; }
/* Loader compacto en móviles */
@media (max-width: 576px) {
  .plane-orbit { transform: scale(0.6); transform-origin: center; }
  .global-loader .loader-text { font-size: 0.9rem; }
}

/* Chips para meses 2025 */
#ops-months-2025 .chip {
   position: relative;
   display: inline-flex;
   align-items: center;
   justify-content: center;
   gap: .45rem;
   padding: .4rem .95rem;
   margin: 2px;
   border-radius: 14px;
   border: 1px solid rgba(13,71,161,0.12);
   background: rgba(255, 255, 255, 0.7);
   box-shadow: 0 4px 12px rgba(13,71,161,0.08);
   font-weight: 600;
   color: var(--text-color);
   cursor: pointer;
   user-select: none;
   transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}
#ops-months-2025 .chip input {
   position: absolute;
   inset: 0;
   opacity: 0;
   cursor: pointer;
}
#ops-months-2025 .chip .chip-text {
   pointer-events: none;
   font-size: .82rem;
   letter-spacing: .04em;
   text-transform: uppercase;
}
#ops-months-2025 .chip:hover { transform: translateY(-1px); box-shadow: 0 10px 20px rgba(13,71,161,0.12); }
#ops-months-2025 .chip:has(input:focus-visible) { outline: 2px solid rgba(13,71,161,0.45); outline-offset: 3px; }
#ops-months-2025 .chip:has(input:checked) {
   color: var(--primary-color);
   border-color: rgba(13,71,161,0.4);
   background: linear-gradient(135deg, rgba(66,165,245,0.2), rgba(66,165,245,0.05));
   box-shadow: 0 12px 24px rgba(13,71,161,0.16);
}
body.dark-mode #ops-months-2025 .chip {
   background: rgba(24,34,50,0.92);
   border-color: rgba(77,171,247,0.2);
   box-shadow: 0 10px 24px rgba(0,0,0,0.55);
   color: #dbe5ee;
}
body.dark-mode #ops-months-2025 .chip:hover { border-color: rgba(77,171,247,0.35); }
body.dark-mode #ops-months-2025 .chip:has(input:checked) {
   color: #dbeeff;
   background: linear-gradient(135deg, rgba(77,171,247,0.32), rgba(36,70,120,0.32));
   border-color: rgba(77,171,247,0.48);
   box-shadow: 0 16px 28px rgba(0,0,0,0.65);
}

/* Barras de filtros mejoradas */
.filters-bar { display:flex; flex-wrap:wrap; gap:.4rem .8rem; align-items:center; }
.filters-bar .chip { display:inline-flex; align-items:center; gap:.4rem; padding:.25rem .5rem; border-radius:999px; background: var(--card-bg); border:1px solid var(--border-color); }
.filters-bar .chip label { margin:0; font-weight:600; font-size:.8rem; color: var(--text-muted-color); }
.filters-bar .chip .form-select, .filters-bar .chip input[type="text"], .filters-bar .chip .form-check-input { background: transparent; border:none; box-shadow:none; min-height: 28px; font-size: .85rem; padding-top: 2px; padding-bottom: 2px; }
body.dark-mode .filters-bar .chip { background:#233142; }
.filters-actions { margin-left:auto; display:flex; gap:.5rem; }

/* Secciones/Años como chips */
#ops-sections-filters .form-check, #ops-years-filters .form-check {
   display: flex;
   align-items: center;
   gap: .45rem;
   padding: .45rem .85rem;
   border-radius: 12px;
   border: 1px solid rgba(13,71,161,0.12);
   background: rgba(255,255,255,0.65);
   box-shadow: 0 4px 12px rgba(13,71,161,0.08);
   transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
#ops-sections-filters .form-check:hover, #ops-years-filters .form-check:hover {
   transform: translateY(-1px);
   box-shadow: 0 10px 20px rgba(13,71,161,0.12);
   border-color: rgba(13,71,161,0.35);
}
#ops-sections-filters .form-check-input, #ops-years-filters .form-check-input { width: 1.05rem; height: 1.05rem; margin-top: 0; }
#ops-sections-filters .form-check-label, #ops-years-filters .form-check-label { font-weight: 600; color: var(--text-color); }
#ops-sections-filters .form-check-input:checked + .form-check-label, #ops-years-filters .form-check-input:checked + .form-check-label { color: var(--primary-color); }
body.dark-mode #ops-sections-filters .form-check, body.dark-mode #ops-years-filters .form-check {
   background: rgba(26,36,52,0.9);
   border-color: rgba(77,171,247,0.15);
   box-shadow: 0 8px 18px rgba(0,0,0,0.45);
}
body.dark-mode #ops-sections-filters .form-check:hover, body.dark-mode #ops-years-filters .form-check:hover { border-color: rgba(77,171,247,0.35); }
body.dark-mode #ops-sections-filters .form-check-label, body.dark-mode #ops-years-filters .form-check-label { color: #e6edf7; }
body.dark-mode #ops-sections-filters .form-check-input, body.dark-mode #ops-years-filters .form-check-input { background: #1c2738; border-color: #314054; }
body.dark-mode #ops-sections-filters .form-check-input:checked, body.dark-mode #ops-years-filters .form-check-input:checked { background-color: #4dabf7; border-color: #4dabf7; }
body.dark-mode #ops-sections-filters .form-check-input:checked + .form-check-label, body.dark-mode #ops-years-filters .form-check-input:checked + .form-check-label { color: #9cd3ff; }

/* Resumen compacto de Operaciones Totales */
#ops-summary { width: 100%; }
.ops-summary-wrapper { display: flex; flex-direction: column; gap: .45rem; width: 100%; }
.ops-summary-chip {
   display: inline-flex;
   align-items: center;
   gap: .5rem;
   padding: .45rem .9rem;
   border-radius: 999px;
   background: linear-gradient(135deg, rgba(12,71,161,0.92), rgba(41,128,185,0.85));
   color: #fff;
   font-weight: 700;
   text-transform: uppercase;
   letter-spacing: .05em;
   font-size: .85rem;
   box-shadow: 0 12px 28px rgba(13,71,161,0.22);
}
.ops-summary-caption {
   display: inline-flex;
   align-items: center;
   gap: .4rem;
   font-size: .82rem;
   color: var(--text-muted-color);
   font-weight: 500;
}
.ops-summary-caption i { color: var(--primary-color); }
.ops-summary-grid { display: flex; flex-wrap: wrap; gap: .75rem; width: 100%; }
.ops-summary-pill {
   flex: 1 1 180px;
   display: flex;
   align-items: center;
   gap: .75rem;
   padding: .75rem 1rem;
   border-radius: 18px;
   border: 1px solid var(--ops-pill-border, rgba(13,71,161,0.12));
   background: var(--ops-pill-bg, linear-gradient(135deg, rgba(66,165,245,0.12), rgba(255,255,255,0.92)));
   box-shadow: var(--ops-pill-shadow, 0 12px 28px rgba(13,71,161,0.12));
   color: var(--ops-pill-text, var(--text-color));
   min-height: 96px;
   transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.ops-summary-pill:hover { transform: translateY(-3px); box-shadow: var(--ops-pill-shadow-hover, 0 18px 34px rgba(13,71,161,0.18)); border-color: var(--ops-pill-border-hover, rgba(13,71,161,0.28)); }
.pill-icon {
   width: 44px;
   height: 44px;
   border-radius: 12px;
   background: var(--ops-pill-icon-bg, rgba(13,71,161,0.12));
   color: var(--ops-pill-icon-color, var(--primary-color));
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 1.15rem;
   box-shadow: var(--ops-pill-icon-shadow, 0 4px 12px rgba(13,71,161,0.1));
}
.pill-text { display: flex; flex-direction: column; gap: .15rem; }
.pill-label { font-size: .78rem; text-transform: uppercase; letter-spacing: .05em; color: var(--ops-pill-label-color, var(--text-muted-color)); font-weight: 600; }
.pill-value { font-size: 1.12rem; font-weight: 700; color: var(--ops-pill-value-color, var(--text-color)); line-height: 1.2; }
.pill-sub { font-size: .72rem; text-transform: uppercase; letter-spacing: .04em; color: var(--ops-pill-sub-color, var(--text-muted-color)); font-weight: 600; }
.ops-summary-empty { padding: .6rem 0; font-size: .85rem; }

.ops-summary-pill--comercial {
   --ops-pill-bg: linear-gradient(135deg, rgba(30,136,229,0.18), rgba(144,202,249,0.32));
   --ops-pill-border: rgba(25,118,210,0.3);
   --ops-pill-border-hover: rgba(21,101,192,0.45);
   --ops-pill-shadow: 0 16px 36px rgba(25,118,210,0.22);
   --ops-pill-shadow-hover: 0 22px 44px rgba(25,118,210,0.28);
   --ops-pill-text: #0f3058;
   --ops-pill-value-color: #072445;
   --ops-pill-label-color: rgba(12,51,96,0.76);
   --ops-pill-sub-color: rgba(12,51,96,0.68);
   --ops-pill-icon-bg: rgba(21,101,192,0.18);
   --ops-pill-icon-color: #0d47a1;
   --ops-pill-icon-shadow: 0 6px 14px rgba(21,101,192,0.18);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(12,34,58,0.9), rgba(11,28,50,0.82));
   --ops-pill-border-dark: rgba(77,171,247,0.35);
   --ops-pill-border-hover-dark: rgba(123,200,255,0.5);
   --ops-pill-shadow-dark: 0 18px 42px rgba(9,24,45,0.7);
   --ops-pill-shadow-hover-dark: 0 26px 54px rgba(9,24,45,0.85);
   --ops-pill-text-dark: #e3f1ff;
   --ops-pill-value-color-dark: #f0f7ff;
   --ops-pill-label-color-dark: rgba(162,208,255,0.78);
   --ops-pill-sub-color-dark: rgba(162,208,255,0.7);
   --ops-pill-icon-bg-dark: rgba(77,171,247,0.24);
   --ops-pill-icon-color-dark: #a8dbff;
   --ops-pill-icon-shadow-dark: 0 10px 22px rgba(7,20,40,0.65);
}
.ops-summary-pill--comercial.ops-summary-pill--metric-passengers {
   --ops-pill-bg: linear-gradient(135deg, rgba(100,181,246,0.22), rgba(187,222,251,0.38));
   --ops-pill-icon-bg: rgba(79,195,247,0.28);
   --ops-pill-text: #0a2b4c;
   --ops-pill-label-color: rgba(12,60,104,0.7);
   --ops-pill-sub-color: rgba(12,60,104,0.62);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(15,44,72,0.88), rgba(14,37,63,0.82));
   --ops-pill-icon-bg-dark: rgba(118,196,255,0.3);
}

.ops-summary-pill--carga {
   --ops-pill-bg: linear-gradient(135deg, rgba(255,152,0,0.18), rgba(255,213,79,0.32));
   --ops-pill-border: rgba(255,143,0,0.3);
   --ops-pill-border-hover: rgba(255,143,0,0.48);
   --ops-pill-shadow: 0 16px 36px rgba(255,152,0,0.22);
   --ops-pill-shadow-hover: 0 24px 48px rgba(230,130,0,0.28);
   --ops-pill-text: #7b3f00;
   --ops-pill-value-color: #623100;
   --ops-pill-label-color: rgba(123,65,0,0.74);
   --ops-pill-sub-color: rgba(123,65,0,0.64);
   --ops-pill-icon-bg: rgba(255,183,77,0.22);
   --ops-pill-icon-color: #b25a00;
   --ops-pill-icon-shadow: 0 6px 14px rgba(193,128,0,0.24);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(74,40,6,0.9), rgba(59,30,5,0.82));
   --ops-pill-border-dark: rgba(255,183,77,0.38);
   --ops-pill-border-hover-dark: rgba(255,207,120,0.55);
   --ops-pill-shadow-dark: 0 18px 46px rgba(32,18,4,0.74);
   --ops-pill-shadow-hover-dark: 0 26px 58px rgba(32,18,4,0.88);
   --ops-pill-text-dark: #ffe7c6;
   --ops-pill-value-color-dark: #fff1dc;
   --ops-pill-label-color-dark: rgba(255,214,153,0.78);
   --ops-pill-sub-color-dark: rgba(255,214,153,0.7);
   --ops-pill-icon-bg-dark: rgba(255,183,77,0.3);
   --ops-pill-icon-color-dark: #ffcf94;
   --ops-pill-icon-shadow-dark: 0 10px 22px rgba(20,10,2,0.68);
}
.ops-summary-pill--carga.ops-summary-pill--metric-ton {
   --ops-pill-bg: linear-gradient(135deg, rgba(255,193,7,0.24), rgba(255,224,130,0.4));
   --ops-pill-icon-bg: rgba(255,204,83,0.32);
   --ops-pill-icon-color: #a05a00;
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(63,33,5,0.88), rgba(51,26,4,0.82));
   --ops-pill-icon-bg-dark: rgba(255,204,102,0.35);
}

.ops-summary-pill--general {
   --ops-pill-bg: linear-gradient(135deg, rgba(56,142,60,0.18), rgba(165,214,167,0.32));
   --ops-pill-border: rgba(46,125,50,0.28);
   --ops-pill-border-hover: rgba(46,125,50,0.42);
   --ops-pill-shadow: 0 16px 36px rgba(46,125,50,0.22);
   --ops-pill-shadow-hover: 0 24px 48px rgba(46,125,50,0.28);
   --ops-pill-text: #104329;
   --ops-pill-value-color: #0c371f;
   --ops-pill-label-color: rgba(16,67,41,0.74);
   --ops-pill-sub-color: rgba(16,67,41,0.64);
   --ops-pill-icon-bg: rgba(76,175,80,0.2);
   --ops-pill-icon-color: #225c33;
   --ops-pill-icon-shadow: 0 6px 14px rgba(56,142,60,0.2);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(13,41,23,0.9), rgba(11,32,20,0.85));
   --ops-pill-border-dark: rgba(129,199,132,0.35);
   --ops-pill-border-hover-dark: rgba(165,214,167,0.5);
   --ops-pill-shadow-dark: 0 18px 46px rgba(9,25,15,0.72);
   --ops-pill-shadow-hover-dark: 0 26px 56px rgba(9,25,15,0.86);
   --ops-pill-text-dark: #daf3e3;
   --ops-pill-value-color-dark: #ebf9ef;
   --ops-pill-label-color-dark: rgba(184,232,196,0.78);
   --ops-pill-sub-color-dark: rgba(184,232,196,0.7);
   --ops-pill-icon-bg-dark: rgba(102,187,106,0.32);
   --ops-pill-icon-color-dark: #a9e5b0;
   --ops-pill-icon-shadow-dark: 0 10px 22px rgba(6,18,11,0.62);
}
.ops-summary-pill--general.ops-summary-pill--metric-passengers {
   --ops-pill-bg: linear-gradient(135deg, rgba(102,187,106,0.22), rgba(200,230,201,0.4));
   --ops-pill-icon-bg: rgba(129,199,132,0.32);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(16,46,28,0.86), rgba(14,37,24,0.8));
   --ops-pill-icon-bg-dark: rgba(144,238,144,0.32);
}

@media (max-width: 992px) {
   .ops-summary-pill { flex: 1 1 calc(50% - .85rem); }
}
@media (max-width: 576px) {
   .ops-summary-pill { flex: 1 1 100%; }
   .ops-summary-chip { font-size: .78rem; }
}

body.dark-mode .ops-summary-chip {
   background: linear-gradient(135deg, #1e88e5, #3949ab);
   box-shadow: 0 16px 36px rgba(0,0,0,0.45);
}
body.dark-mode .ops-summary-caption { color: #9fb4cc; }
body.dark-mode .ops-summary-caption i { color: #9cd3ff; }
body.dark-mode .ops-summary-pill {
   background: var(--ops-pill-bg-dark, linear-gradient(135deg, rgba(29,47,68,0.92), rgba(22,34,52,0.78)));
   border-color: var(--ops-pill-border-dark, rgba(77,171,247,0.18));
   box-shadow: var(--ops-pill-shadow-dark, 0 18px 42px rgba(0,0,0,0.6));
   color: var(--ops-pill-text-dark, #f3f7ff);
}
body.dark-mode .ops-summary-pill:hover {
   box-shadow: var(--ops-pill-shadow-hover-dark, 0 24px 52px rgba(0,0,0,0.72));
   border-color: var(--ops-pill-border-hover-dark, rgba(123,200,255,0.42));
}
body.dark-mode .ops-summary-pill .pill-icon {
   background: var(--ops-pill-icon-bg-dark, rgba(77,171,247,0.18));
   color: var(--ops-pill-icon-color-dark, #a9d7ff);
   box-shadow: var(--ops-pill-icon-shadow-dark, 0 8px 18px rgba(0,0,0,0.45));
}
body.dark-mode .ops-summary-pill .pill-value { color: var(--ops-pill-value-color-dark, #f3f7ff); }
body.dark-mode .ops-summary-pill .pill-label,
body.dark-mode .ops-summary-pill .pill-sub { color: var(--ops-pill-label-color-dark, #9fb4cc); }

/* Modal de filtros de Operaciones Totales */
#opsFiltersModal .modal-content { border-radius: 20px; border: none; box-shadow: 0 30px 80px rgba(13,71,161,0.2); }
#opsFiltersModal .modal-header { border-bottom: none; padding-bottom: .5rem; }
#opsFiltersModal .modal-title { text-transform: uppercase; letter-spacing: .05em; font-weight: 700; color: var(--primary-color); }
#opsFiltersModal .modal-body {
   background: linear-gradient(180deg, rgba(66,165,245,0.1) 0%, rgba(255,255,255,0.98) 100%);
   border-radius: 18px;
   border: 1px solid rgba(13,71,161,0.12);
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
   padding: 1.5rem;
}
#opsFiltersModal .modal-footer { border-top: none; padding-top: 0; }
#opsFiltersModal h6.text-muted { color: var(--primary-color-dark) !important; font-weight: 700; letter-spacing: .05em; text-transform: uppercase; }
#opsFiltersModal .form-check { width: fit-content; }
#opsFiltersModal .form-check-input { box-shadow: none; }
#opsFiltersModal .form-check-input:focus { box-shadow: 0 0 0 .2rem rgba(13,71,161,0.18); }
#opsFiltersModal .months-chips { gap: .35rem; }
#opsFiltersModal .months-chips .chip { margin: 3px; }

body.dark-mode #opsFiltersModal .modal-title { color: #9cd3ff; }
body.dark-mode #opsFiltersModal .modal-body {
   background: linear-gradient(180deg, rgba(20,30,48,0.95) 0%, rgba(16,24,40,0.95) 100%);
   border-color: rgba(77,171,247,0.18);
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
}
body.dark-mode #opsFiltersModal h6.text-muted { color: #9fb4cc !important; }

/* Cards de estadísticas diarias */
#daily-stats-row .stat-card { background: var(--card-bg); }
body.dark-mode #daily-stats-row .stat-card { background:#233142; }

/* Compacta filtros y charts en móviles en la sección Operaciones Totales */
@media (max-width: 768px) {
   #operaciones-totales-section .chart-container { height: 260px; }
   #operaciones-totales-section .update-note { width: 100%; }
}

/* Mejora de contraste adicional en modo oscuro para tipografías y controles */
body.dark-mode h1, body.dark-mode h2, body.dark-mode h3, body.dark-mode h4, body.dark-mode h5, body.dark-mode h6 { color:#f1f5f9; }
body.dark-mode .text-muted { color:#b0bac6 !important; }
body.dark-mode .nav-tabs .nav-link { color:#b8c4d1; }
body.dark-mode .nav-tabs .nav-link.active { color:#fff; border-bottom-color:#4dabf7; }
body.dark-mode .btn-outline-secondary { color:#dbe5ee; border-color:#3c4a57; }
body.dark-mode .btn-outline-secondary:hover { background:#2a3643; color:#fff; }
body.dark-mode .download-btn { color:#fff; }
body.dark-mode .table thead th { color:#e8eaed; }

/* Manifiestos */
#manifest-preview-container { min-height: 260px; display: flex; align-items: center; justify-content: center; border-radius:14px; background: transparent; border:1px dashed transparent; }
body.dark-mode #manifest-preview-container { background: transparent; }
#manifest-records-table tbody tr { cursor: pointer; }
#manifest-records-table tbody tr:hover { background: rgba(0,0,0,0.04); }
body.dark-mode #manifest-records-table tbody tr:hover { background: rgba(255,255,255,0.06); }
/* Capa de texto seleccionable sobre el canvas/imagen del PDF (para copiar texto) */
#manifest-text-layer { color: rgba(20,20,20,0.88); mix-blend-mode: multiply; }
#manifest-text-layer span { color: inherit; user-select: text; -webkit-user-select: text; }
body.dark-mode #manifest-text-layer { color: rgba(240,240,240,0.9); mix-blend-mode: normal; }

/* ======================= Manifiestos UI Refresh ======================= */
#manifiestos-section .manifest-layout { align-items: stretch; }
#manifiestos-section .manifest-sidebar { height: 100%; }
#manifiestos-section .manifest-pane { background: var(--card-bg); border:1px solid rgba(13,71,161,0.12); border-radius:18px; padding:1.25rem; box-shadow:0 14px 28px rgba(15,23,42,0.08); transition:transform .18s ease, box-shadow .18s ease; display:flex; flex-direction:column; gap:1.1rem; }
#manifiestos-section .manifest-pane:not(.manifest-pane-form):hover { transform:translateY(-2px); box-shadow:0 18px 34px rgba(15,23,42,0.12); }
#manifiestos-section .manifest-pane-controls { display:flex; flex-direction:column; gap:0.75rem; }
#manifiestos-section .manifest-pane-preview { display:flex; flex-direction:column; gap:1rem; }
#manifiestos-section .manifest-controls { row-gap:0.6rem; }
#manifiestos-section .manifest-controls .btn,
#manifiestos-section .manifest-controls .form-control,
#manifiestos-section .manifest-controls .form-select { border-radius:10px; }
#manifest-scan-pdf { background: linear-gradient(135deg, var(--primary-color), #1e88e5); border:none; color:#fff; font-weight:600; letter-spacing:0.01em; padding:0.45rem 1.35rem; box-shadow:0 12px 24px rgba(30,136,229,0.28); transition:transform .16s ease, box-shadow .16s ease, filter .18s ease; }
#manifest-scan-pdf:hover:not(:disabled) { transform:translateY(-1px); box-shadow:0 16px 30px rgba(30,136,229,0.34); filter:brightness(1.05); }
#manifest-scan-pdf:focus-visible { outline:3px solid rgba(30,136,229,0.38); outline-offset:2px; }
#manifest-scan-pdf:disabled { opacity:0.9; }
#manifest-scan-pdf.is-scanning { cursor:progress; box-shadow:0 10px 22px rgba(25,118,210,0.28); filter:brightness(0.97); }
#manifest-scan-pdf.is-scanning .spinner-border { vertical-align:middle; }
body.dark-mode #manifest-scan-pdf { box-shadow:0 12px 26px rgba(30,136,229,0.45); color:#fff; }
body.dark-mode #manifest-scan-pdf:hover:not(:disabled) { box-shadow:0 16px 32px rgba(30,136,229,0.5); }
#manifiestos-section .manifest-mobile-hint { background:rgba(13,71,161,0.06); border-radius:12px; padding:0.75rem 1rem; }
#manifiestos-section .manifest-preview-shell { background:linear-gradient(135deg, rgba(13,71,161,0.07), rgba(25,118,210,0.12)); border-radius:16px; padding:1rem; border:1px solid rgba(13,71,161,0.12); }
#manifiestos-section .manifest-preview-card { background:rgba(255,255,255,0.94); border:1px dashed rgba(13,71,161,0.22); }
#manifiestos-section .manifest-status-stack { display:flex; flex-direction:column; gap:0.6rem; }
#manifiestos-section .manifest-debug-toggle { border-radius:12px; background:rgba(13,71,161,0.07); padding:0.5rem 0.75rem; }
#manifiestos-section .manifest-debug-toggle summary { cursor:pointer; }
#manifiestos-section .manifest-pane-form { padding:1.5rem; display:flex; flex-direction:column; gap:1.25rem; }
#manifiestos-section .manifest-form-shell { background:linear-gradient(145deg, rgba(255,255,255,0.96), rgba(233,242,255,0.96)); border-radius:20px; padding:1.25rem; box-shadow:0 18px 34px rgba(15,23,42,0.12); }
#manifiestos-section .manifest-form-shell .mf-header { position:relative; background:linear-gradient(135deg, rgba(13,71,161,0.18), rgba(25,118,210,0.32)); border-radius:16px; padding:1.2rem 1.35rem; overflow:hidden; box-shadow:inset 0 0 0 1px rgba(255,255,255,0.12); }
#manifiestos-section .manifest-form-shell .mf-header::after { content:""; position:absolute; inset:-45% -25% auto -20%; height:120%; background: radial-gradient(circle at 32% 46%, rgba(255,255,255,0.3), rgba(255,255,255,0)); opacity:.5; pointer-events:none; mix-blend-mode:screen; }
#manifiestos-section .manifest-form-shell .mf-body { margin-top:1.2rem; background:rgba(255,255,255,0.92); border-radius:16px; padding:1.2rem; box-shadow:inset 0 0 0 1px rgba(13,71,161,0.08); }
#manifiestos-section .manifest-form-shell .mf-body .form-control,
#manifiestos-section .manifest-form-shell .mf-body .form-select { border-radius:10px; }
#manifiestos-section .manifest-records-block { background:rgba(255,255,255,0.9); border-radius:18px; padding:1.25rem; box-shadow:inset 0 0 0 1px rgba(13,71,161,0.08); }
#manifiestos-section .plane-progress { background:rgba(13,71,161,0.08); border-radius:12px; padding:0.75rem 1rem; }
#manifiestos-section .plane-progress-label { color:rgba(13,71,161,0.75) !important; }

body.dark-mode #manifiestos-section .manifest-pane { background:rgba(20,30,46,0.95); border-color:rgba(148,197,255,0.14); box-shadow:0 20px 36px rgba(0,0,0,0.55); }
body.dark-mode #manifiestos-section .manifest-pane:not(.manifest-pane-form):hover { box-shadow:0 24px 40px rgba(0,0,0,0.65); }
body.dark-mode #manifiestos-section .manifest-mobile-hint { background:rgba(148,197,255,0.14); color:#d6e9ff !important; }
body.dark-mode #manifiestos-section .manifest-preview-shell { background:linear-gradient(135deg, rgba(148,197,255,0.12), rgba(25,118,210,0.24)); border-color:rgba(148,197,255,0.25); }
body.dark-mode #manifiestos-section .manifest-preview-card { background:rgba(16,27,42,0.92); border-color:rgba(148,197,255,0.32); }
body.dark-mode #manifiestos-section .manifest-status-stack .text-muted { color:#9fb4cc !important; }
body.dark-mode #manifiestos-section .manifest-debug-toggle { background:rgba(148,197,255,0.18); }
body.dark-mode #manifiestos-section .manifest-form-shell { background:linear-gradient(145deg, rgba(20,30,46,0.95), rgba(13,19,31,0.92)); box-shadow:0 25px 46px rgba(0,0,0,0.65); }
body.dark-mode #manifiestos-section .manifest-form-shell .mf-header { background:linear-gradient(135deg, rgba(148,197,255,0.26), rgba(25,118,210,0.38)); box-shadow:inset 0 0 0 1px rgba(148,197,255,0.25); }
body.dark-mode #manifiestos-section .manifest-form-shell .mf-header::after { opacity:.35; background: radial-gradient(circle at 45% 40%, rgba(148,197,255,0.45), rgba(33,82,150,0)); }
body.dark-mode #manifiestos-section .manifest-form-shell .mf-body { background:rgba(16,27,42,0.92); box-shadow:inset 0 0 0 1px rgba(148,197,255,0.2); }
body.dark-mode #manifiestos-section .manifest-records-block { background:rgba(16,27,42,0.9); box-shadow:inset 0 0 0 1px rgba(148,197,255,0.2); }
body.dark-mode #manifiestos-section .plane-progress { background:rgba(25,118,210,0.28); }
body.dark-mode #manifiestos-section .plane-progress-label { color:#cfe6ff !important; }
/* Progreso tipo avión sobre barra */
.plane-progress { width: 100%; }
.plane-progress-track { position: relative; width: 100%; height: 16px; background: linear-gradient(90deg, #e3f2fd, #e8f5e9); border-radius: 12px; overflow: hidden; border: 1px solid #8ec5ff; box-shadow: inset 0 1px 2px rgba(0,0,0,0.08); }
.plane-progress-fill { position: absolute; left: 0; top: 0; bottom: 0; width: 0%; background: linear-gradient(90deg, #00bcd4, #2196f3, #0d47a1); transition: width .25s ease; box-shadow: 0 0 10px rgba(33,150,243,0.35); }
.plane-progress-plane { position: absolute; top: 50%; left: 0%; transform: translate(-50%, -50%); font-size: 22px; filter: drop-shadow(0 1px 1px rgba(0,0,0,.25)) drop-shadow(0 0 6px rgba(33,150,243,0.45)); transition: left .25s ease; }
.plane-progress-label { text-align: right; margin-top: 6px; font-variant-numeric: tabular-nums; color: var(--primary-color); font-weight: 600; }
body.dark-mode .plane-progress-track { background: linear-gradient(90deg, #143955, #0f2a3d); border-color: #2b88ff; }
body.dark-mode .plane-progress-fill { background: linear-gradient(90deg, #00bcd4, #42a5f5, #90caf9); box-shadow: 0 0 14px rgba(66,165,245,0.45); }
body.dark-mode .plane-progress-label { color: #90caf9; }

/* Manifiestos: layout y legibilidad */
#manifiestos-section .form-label { font-weight: 600; }
#manifiestos-section .btn-group .btn { min-width: 120px; }
#manifiestos-section .card-body hr { margin: .8rem 0; }
#manifiestos-section .form-text { font-size: .75rem; }
#manifiestos-section .table-sm th, #manifiestos-section .table-sm td { vertical-align: middle; }
#manifiestos-section .table-sm input.form-control-sm { min-height: 32px; }
#manifiestos-section .table { font-variant-numeric: tabular-nums; }
#manifiestos-section .d-flex.gap-2 > .btn { white-space: nowrap; }
@media (max-width: 768px) {
   #manifiestos-section .btn-group .btn { min-width: auto; }
}

/* Manifiestos: Sheet UI for Llegada (NTP theme) */
.mf-sheet { background: #fff; border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; box-shadow: 0 6px 18px rgba(0,0,0,0.06); }
.mf-ntp { --ntp-accent: #0d2d56; --ntp-accent-2: #1f5a99; --ntp-light: #f0f6ff; }
.mf-header { position:relative; background: linear-gradient(135deg, var(--ntp-accent), var(--ntp-accent-2)); padding: .9rem 1.1rem; border-radius:14px; overflow:hidden; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08); }
.mf-header::after { content:""; position:absolute; inset:-45% -25% auto -15%; height:120%; background: radial-gradient(circle at 30% 45%, rgba(255,255,255,0.35), rgba(255,255,255,0)); opacity:.45; pointer-events:none; mix-blend-mode:screen; }
.mf-header-logo { width: 44px; height: 44px; border-radius: 50%; object-fit: cover; border: 2px solid rgba(255,255,255,0.6); box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
.mf-header-title { position:relative; color: #fff; font-size: 1.18rem; font-weight: 700; letter-spacing: .45px; line-height: 1.08; text-shadow: 0 3px 12px rgba(9,20,38,0.45), 0 0 18px rgba(255,255,255,0.25); }
.mf-header-subtitle { position:relative; color: rgba(255,255,255,0.92); font-size: .82rem; line-height: 1.05; letter-spacing: .12em; text-transform: uppercase; text-shadow: 0 2px 6px rgba(8,20,44,0.45), 0 0 12px rgba(255,255,255,0.2); }
.mf-header-meta { display:flex; align-items:flex-end; gap:1rem; flex-wrap: wrap; }
.mf-header-meta .form-label { color: rgba(255,255,255,0.95); font-weight: 600; letter-spacing: .12em; text-transform: uppercase; text-shadow: 0 2px 8px rgba(8,20,44,0.45); }
.mf-header-input { min-width: 180px; background: rgba(255,255,255,0.92); border: 1px solid rgba(255,255,255,0.48); box-shadow: 0 4px 12px rgba(8,20,44,0.25); color: #0d2d56; font-weight: 600; transition: box-shadow .2s ease, border-color .2s ease, background .2s ease; }
.mf-header-input:focus { border-color: rgba(255,255,255,0.85); box-shadow: 0 0 0 0.2rem rgba(255,255,255,0.25); background: rgba(255,255,255,0.98); color: #062041; }
.mf-body { padding: 1rem; }
.mf-section-title { position: relative; padding-left: .6rem; }
.mf-section-title::before { content: ""; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 4px; height: 1.1em; background: var(--ntp-accent); border-radius: 8px; }
.mf-times { background: var(--mf-times-bg, #f7f9fc); }
body.dark-mode .mf-sheet { background: #1e2a38; border-color: rgba(255,255,255,0.08); box-shadow: none; }
body.dark-mode .mf-header { background: linear-gradient(135deg, #234a7a, #0d2d56); box-shadow: inset 0 0 0 1px rgba(148,197,255,0.18); }
body.dark-mode .mf-header::after { opacity:.4; background: radial-gradient(circle at 38% 42%, rgba(148,197,255,0.4), rgba(8,20,44,0)); }
body.dark-mode .mf-header-title, body.dark-mode .mf-header-subtitle { color: #e8eaed; text-shadow: 0 3px 10px rgba(0,0,0,0.6); }
body.dark-mode .mf-header-meta .form-label { color: rgba(215,230,255,0.92); text-shadow: 0 2px 8px rgba(0,0,0,0.65); }
body.dark-mode .mf-header-input { background: rgba(12,20,36,0.9); border-color: rgba(148,197,255,0.35); color: #e6f2ff; box-shadow: 0 4px 12px rgba(0,0,0,0.45); }
body.dark-mode .mf-header-input:focus { border-color: rgba(148,197,255,0.6); box-shadow: 0 0 0 0.2rem rgba(77,171,247,0.32); }
body.dark-mode .mf-section-title::before { background: #4dabf7; }
@media (max-width: 576px) { .mf-header-input { min-width: 140px; } }
.text-light-ntp { color: rgba(255,255,255,0.95) !important; text-transform: uppercase; letter-spacing: .12em; font-weight: 600; text-shadow: 0 2px 8px rgba(8,20,44,0.45); }
body.dark-mode .text-light-ntp { color: rgba(215,230,255,0.92) !important; text-shadow: 0 2px 8px rgba(0,0,0,0.6); }

/* Toolbar export button spacing */
#ops-export-all-btn { white-space: nowrap; }

/* Filtros responsive apretados en móviles */
@media (max-width: 768px) {
  #ops-sections-filters, #ops-years-filters { width:100%; }
  #ops-sections-filters .form-check, #ops-years-filters .form-check { margin-right: 8px; 
  }}

/* Compactar filtros de Inicio en 2 columnas (móvil) */
@media (max-width: 576px) {
   #interactivo-inicio-pane .filters-bar {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: .4rem .5rem;
   }
   #interactivo-inicio-pane .filters-bar .chip {
      width: 100%;
      min-width: 0 !important; /* override any inline min-width */
      justify-content: space-between;
   }
   #interactivo-inicio-pane .filters-bar .form-select,
   #interactivo-inicio-pane .filters-bar .form-control {
      width: 100%;
      font-size: .85rem;
      min-height: 30px;
      padding-top: 2px;
      padding-bottom: 2px;
   }
   #interactivo-inicio-pane .filters-bar .chip label { font-size: .78rem; }
   #interactivo-inicio-pane .filters-actions { grid-column: 1 / -1; justify-content: stretch; }
   #interactivo-inicio-pane .filters-actions #clear-filters { width: 100%; }
}

/* Tablet: 3 columnas para filtros y tipografía algo más compacta */
@media (min-width: 577px) and (max-width: 991.98px) {
   #interactivo-inicio-pane .filters-bar { display: grid; grid-template-columns: repeat(3, 1fr); gap: .5rem .75rem; }
   #interactivo-inicio-pane .filters-bar .chip { width: 100%; min-width: 0 !important; }
   #interactivo-inicio-pane .filters-bar .form-select,
   #interactivo-inicio-pane .filters-bar .form-control { width: 100%; font-size: .9rem; min-height: 32px; }
}

/* Ajustes de iframes PDF para móvil/tablet: igualar a escritorio con uso de viewport height */
@media (max-width: 576px) {
   .pdf-container, .pdf-preview-container { border: none; border-radius: 0; }
   .pdf-container iframe,
   .pdf-preview-container iframe { height: 88vh !important; max-height: 88vh; }
   .pdf-singlepage-viewer { max-height: 88vh; overflow-y: auto; }
}
@media (min-width: 577px) and (max-width: 991.98px) {
   .pdf-container iframe,
   .pdf-preview-container iframe { height: 82vh !important; max-height: 82vh; }
}

/* Summary collapse button spacing on mobile */
@media (max-width: 991.98px) {
   #summary-collapse { margin-top: .5rem; }
}

/* Header responsivo: logos y título visibles en móviles */
@media (max-width: 576px) {
   .header .header-content { flex-direction: column; align-items: center; gap: .4rem; }
   .aifa-logo { width: 70px; height: auto; }
   .header-logo { height: 28px; }
   .gob-logo { display: none; }
   .main-title { font-size: 1rem; line-height: 1.2; text-align: center; max-width: 85vw; }
   .header-center-content > .d-flex { flex-wrap: wrap; gap: .35rem; }
   .clocks-wrapper { gap: 6px; }
   .utc-clock-container { display: none; }
   .formal-clock, .utc-clock { font-size: .95rem; padding: .1rem .5rem; }
}

/* Reducir animaciones y sombras costosas en móviles para mayor fluidez */
@media (max-width: 576px) {
   .animated-row, .fade-in-row { animation: none !important; opacity: 1 !important; transform: none !important; }
   .table-container-tech, .card, .pdf-preview-container { box-shadow: none; }
}

/* ===================== Fauna: Responsive ===================== */
/* Compactar filtros de Fauna como los de Inicio */
@media (max-width: 576px) {
   #fauna-section .fauna-filters { display: grid; grid-template-columns: 1fr 1fr; gap: .4rem .5rem; }
   #fauna-section .fauna-filters .chip { width: 100%; min-width: 0 !important; justify-content: space-between; }
   #fauna-section .fauna-filters .chip-actions { grid-column: 1 / -1; justify-content: flex-end; gap: .5rem; }
   #fauna-section .fauna-filters .form-select,
   #fauna-section .fauna-filters .form-control { width: 100%; font-size: .85rem; min-height: 30px; padding-top: 2px; padding-bottom: 2px; }
   #fauna-section .fauna-filters label { font-size: .78rem; }
}
@media (min-width: 577px) and (max-width: 991.98px) {
   #fauna-section .fauna-filters { display: grid; grid-template-columns: repeat(3, 1fr); gap: .5rem .75rem; }
   #fauna-section .fauna-filters .chip { width: 100%; min-width: 0 !important; }
}

/* Gráficas de Fauna: alturas menores en móviles/tablets para evitar scroll excesivo */
@media (max-width: 576px) {
   #fauna-section .chart-container { height: 280px !important; }
   #fauna-section .heatmap-container { height: 320px !important; }
   /* Permitir scroll horizontal si los labels son largos o hay muchos meses */
   #fauna-section .heatmap-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }
   #fauna-section #fauna-heatmap { min-width: 520px; }
}
@media (min-width: 577px) and (max-width: 991.98px) {
   #fauna-section .chart-container { height: 300px !important; }
   #fauna-section .heatmap-container { height: 360px !important; }
}

/* Tabla de Fauna: asegurar scroll horizontal suave y encabezados pegajosos visibles */
#fauna-section .table-responsive { overflow-x: auto; -webkit-overflow-scrolling: touch; }
/* Dejamos el scroll vertical al documento completo (no caja interna) */
#fauna-section .fauna-table thead th { position: sticky; top: 0; z-index: 5; }
#fauna-section .fauna-table { font-variant-numeric: tabular-nums; }

/* ===================== Fauna: resúmenes más grandes ===================== */
#fauna-section #fauna-total-badge,
#fauna-section #fauna-period-badge {
   font-size: 1rem; /* antes ~.875rem por default */
   padding: .5rem .75rem;
   border-radius: 999px;
}
#fauna-section .card .d-flex.flex-wrap.gap-3.mb-3 .badge { /* asegurar consistencia si el layout cambia */
   font-size: 1rem;
}
#fauna-top-hours {
   display: flex; flex-wrap: wrap; gap: .4rem .5rem;
}
#fauna-top-hours .badge {
   font-size: .95rem;
   padding: .45rem .6rem;
}
#fauna-section h6.text-muted { /* títulos como "Top horas críticas" y "Resumen por fase" */
   font-size: 1.05rem !important;
}
#fauna-phase-summary .badge {
   font-size: 1rem;
   padding: .5rem .7rem;
}
/* Ajustes para pantallas pequeñas: mantenerlos grandes también en móvil */
@media (max-width: 576px) {
   #fauna-section #fauna-total-badge,
   #fauna-section #fauna-period-badge { font-size: 1.05rem; }
   #fauna-top-hours .badge { font-size: 1rem; }
   #fauna-phase-summary .badge { font-size: 1.05rem; }
}

/* Etiquetas de badges y títulos compactos en móvil */
@media (max-width: 576px) {
   #fauna-section h6.text-muted { font-size: .95rem; }
   #fauna-section .badge { font-size: .8rem; }
}

/* ===================== Manifiestos: Alineación de campos ===================== */
.mf-body .form-label{ display:block; min-height:1.35rem; }
.mf-body .form-text{ display:block; min-height:1rem; }
.mf-body .row.g-2{ row-gap:.75rem; }
.mf-body .row.g-3{ row-gap:.75rem; }
/* Unificar fondo de bloques de tiempos */
.mf-times{ background: var(--bs-light-bg-subtle, rgba(0,0,0,0.03)); }

/* ================================================
   Time inputs: force 24h UI (hide AM/PM on WebKit)
   ================================================ */
/* Prefer a 24-hour UI by hiding the AM/PM subfield in Chromium-based browsers */
input[type="time"]::-webkit-datetime-edit-ampm-field { display: none; }
/* Also hide spin buttons for a cleaner, unified look */
input[type="time"]::-webkit-inner-spin-button { display: none; }
/* Keep value text aligned and legible */
input[type="time"] { font-variant-numeric: tabular-nums; }

/* ===================== Puntualidad: separadores y acentos visuales ===================== */
.punc-card .card-header { background: rgba(0,0,0,0.02); border-bottom: 2px solid var(--border-color); font-weight: 700; }
.punc-passengers .card-header { border-left: 4px solid #0d6efd; }
.punc-cargo .card-header { border-left: 4px solid #fd7e14; }
.punc-best-col { border-right: 1px dashed var(--border-color); }
@media (max-width: 767.98px) {
   .punc-best-col { border-right: none; border-bottom: 1px dashed var(--border-color); padding-bottom: .5rem; margin-bottom: .5rem; }
}
.punc-col-title { display: inline-flex; align-items: center; gap: .4rem; padding: .25rem .45rem; border-left: 4px solid transparent; border-radius: 6px; }
.punc-col-best { border-left-color: #198754; background: rgba(25,135,84,0.06); }
.punc-col-worst { border-left-color: #dc3545; background: rgba(220,53,69,0.06); }
body.dark-mode .punc-card .card-header { background: rgba(255,255,255,0.04); }
body.dark-mode .punc-col-best { background: rgba(25,135,84,0.12); }
body.dark-mode .punc-col-worst { background: rgba(220,53,69,0.12); }

/* Puntualidad: insignias de ranking Top 1–3 */
.punc-rank-badge {
   display: inline-flex;
   align-items: center;
   justify-content: center;
   width: 22px;
   height: 22px;
   border-radius: 50%;
   background: linear-gradient(180deg,#ffe680,#ffbf00);
   color: #1a1a1a;
   font-weight: 800;
   font-size: 0.8rem;
   line-height: 1;
   border: 1px solid rgba(0,0,0,0.12);
   box-shadow: 0 1px 1px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.6);
   margin-right: 4px; /* separación del logo/nombre */
}
@media (max-width: 576px) {
   .punc-rank-badge { width: 18px; height: 18px; font-size: 0.75rem; }
}
body.dark-mode .punc-rank-badge {
   background: linear-gradient(180deg,#ffe082,#ffca28);
   color: #111;
   border-color: rgba(255,255,255,0.18);
   box-shadow: 0 1px 2px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.28);
}