#login-sky.dawn { background: radial-gradient(1000px 520px at 20% 14%, rgba(255,214,176,0.18), rgba(255,214,176,0)), linear-gradient(180deg,#ffe8c8 0%, #ffe0d4 28%, #f3ecff 58%, #c7dcff 100%); }
#login-sky.day { background: radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,0.14), rgba(255,255,255,0.0)), linear-gradient(180deg,#8ed2ff 0%,#cdefff 55%,#eaf7ff 100%); }
#login-sky.dusk { background: radial-gradient(900px 450px at 70% 12%, rgba(255,190,120,0.12), rgba(255,190,120,0)), linear-gradient(180deg,#ffb36b 0%, #ffdfb0 30%, #ffd79a 45%, #f3b277 58%, #a24f3c 80%, #522b37 100%); }
#login-sky .sun { position:absolute; bottom: 10vh; left: 12vw; width: 120px; height: 120px; border-radius: 50%; background: radial-gradient(circle at 40% 40%, #fff4cf, #ffd38a 45%, rgba(255,167,76,0.85) 60%, rgba(255,140,0,0.0) 80%); box-shadow: 0 0 30px rgba(255,200,120,0.55), 0 0 60px rgba(255,160,70,0.35); opacity: 0; transform: translateZ(0); transition: opacity .8s ease, transform 1.2s ease, filter 1.2s ease; }
#login-sky.dawn .sun { opacity: 1; left: 16vw; right: auto; bottom: 11vh; width: 134px; height: 134px; background: radial-gradient(circle at 42% 44%, #fff7da 0%, #ffd7a8 45%, rgba(255,173,86,0.9) 62%, rgba(255,120,40,0) 82%); box-shadow: 0 0 36px rgba(255,196,120,0.6), 0 0 90px rgba(255,168,72,0.35); filter: saturate(1.05); }
#login-sky.day .sun { opacity: 1; left: 20vw; right: auto; bottom: 23vh; width: 160px; height: 160px; background: radial-gradient(circle at 45% 45%, #fffce6 0%, #ffe9a8 40%, rgba(255,190,90,0.85) 60%, rgba(255,176,64,0) 80%); box-shadow: 0 0 38px rgba(255,220,150,0.55), 0 0 110px rgba(255,200,120,0.4); filter: saturate(1.08); }
#login-sky.dusk .sun { opacity: 1; left: auto; right: 16vw; bottom: 13vh; width: 140px; height: 140px; background: radial-gradient(circle at 62% 40%, #fff1d0 0%, #ffc37c 42%, rgba(255,140,60,0.85) 62%, rgba(150,60,60,0) 82%); box-shadow: 0 0 42px rgba(255,180,90,0.65), 0 0 110px rgba(140,45,40,0.38); filter: saturate(1.05); }
#login-sky.night .sun { opacity: 0; }
#login-sky.dawn .cloud { opacity: .72; filter: blur(1.2px) saturate(1.12) brightness(1.05); }
#login-sky.day .cloud { opacity: .82; filter: blur(1px) saturate(1.05) brightness(1.02); }
#login-sky.dusk .cloud { opacity: .6; filter: blur(1.2px) saturate(1.05); }
/* ==========================================================================
   Variables de Tema y Estilos Base
   ========================================================================== */
:root {
   --sidebar-width: 240px;
   --font-family-base: 'Roboto', sans-serif;
   --font-family-mono: 'Roboto Mono', 'Fira Code', 'SFMono-Regular', Consolas, 'Liberation Mono', monospace;
   --primary-color: #0d6efd;
   --primary-color-dark: #0a58ca;
   --primary-color-light: #d6e4ff;
   --text-color: #14213d;
   --text-muted-color: rgba(20,33,61,0.62);
   --body-bg: #f4f7fb;
   --card-bg: #ffffff;
   --border-color: rgba(20,33,61,0.12);
   --shadow-color: rgba(15,23,42,0.08);
   --sidebar-bg: linear-gradient(180deg,#071329,#0e2753);
   --tech-table-bg: rgba(255,255,255,0.82);
}
body {
   font-family: var(--font-family-base);
   background-color: var(--body-bg);
   color: var(--text-color);
   overflow-x: hidden;
   transition: background-color 0.3s, color 0.3s;
}
body.dark-mode {
   --primary-color: #4dabf7;
   --primary-color-dark: #1e88e5;
   --primary-color-light: #21324c;
   --body-bg: #151d27;
   --card-bg: #1e2739;
   --text-color: #e8eaed;
   --text-muted-color: #9aa0a6;
   --border-color: rgba(60,64,67,0.7);
   --shadow-color: rgba(0,0,0,0.28);
   --sidebar-bg: linear-gradient(180deg,#1e2a38 0%, #151d27 100%);
   --tech-table-bg: rgba(30,42,56,0.72);
}

/* ==========================================================================
   Login
   ========================================================================== */
.login-screen {
   position: fixed;
   inset: 0;
   display: flex;
   align-items: center;
   justify-content: center;
   background: #02060f;
   z-index: 2000;
   overflow: hidden;
   padding: clamp(16px, 4vw, 32px);
}
.login-bg-video {
   position: absolute;
   inset: 0;
   width: 100%;
   height: 100%;
   object-fit: cover;
   z-index: 0;
   filter: saturate(1.05) brightness(0.85);
}
#login-sky {
   position: absolute;
   inset: 0;
   z-index: 1;
   pointer-events: none;
   background: transparent !important;
   overflow: hidden;
   display: none;
}
.login-screen, .login-container, .login-form .form-control, .login-form label {
   transition: background-color .45s ease, border-color .45s ease, color .45s ease;
}
:root {
   --login-glass-base: rgba(10,24,46,0.52);
   --login-glass-edge: rgba(18,58,96,0.24);
   --login-glass-highlight-1: rgba(80,140,210,0.34);
   --login-glass-highlight-2: rgba(120,190,255,0.22);
   --login-glass-frame: rgba(68,120,180,0.26);
   --login-form-bg: rgba(14,32,58,0.36);
   --login-form-border: rgba(120,170,228,0.22);
   --login-form-text: rgba(234,243,255,0.95);
   --login-label-color: rgba(214,230,255,0.85);
   --login-helper-color: rgba(208,224,255,0.75);
}
.login-screen #login-sky *,
.login-screen #login-sky::before,
.login-screen #login-sky::after { display: none !important; }
.login-overlay {
   position: absolute;
   inset: 0;
   z-index: 2;
   pointer-events: none;
   background: linear-gradient(205deg, rgba(4,12,24,0.78), rgba(10,26,48,0.62));
}
.login-overlay.day { background: linear-gradient(205deg, rgba(8,26,46,0.7), rgba(16,42,70,0.55)); }
.login-overlay.dawn { background: linear-gradient(205deg, rgba(48,22,36,0.74), rgba(14,32,54,0.58)); }
.login-overlay.dusk { background: linear-gradient(205deg, rgba(30,20,46,0.78), rgba(10,28,52,0.6)); }
.login-overlay.night { background: linear-gradient(205deg, rgba(2,6,16,0.86), rgba(4,12,24,0.78)); }
.login-overlay .sky-top-logo {
   position: absolute;
   top: clamp(-6px, 2.2vw, 24px);
   left: 50%;
   transform: translateX(-50%);
   width: clamp(160px, 22vw, 280px);
   max-width: 280px;
   opacity: 0.85;
   filter: drop-shadow(0 12px 30px rgba(0,0,0,0.48));
   pointer-events: none;
   object-fit: contain;
}
.login-container {
   position: relative;
   z-index: 3;
   width: min(420px, 92%);
   margin-top: clamp(170px, 28vh, 320px);
   padding: clamp(28px, 4vw, 42px);
   border-radius: 22px;
   background: linear-gradient(145deg, var(--login-glass-base), var(--login-glass-edge));
   backdrop-filter: blur(18px) saturate(118%);
   box-shadow: 0 32px 84px rgba(6,18,36,0.24);
   border: 1px solid var(--login-glass-frame);
   text-align: center;
   overflow: hidden;
}
.login-container::before {
   content: "";
   position: absolute;
   inset: 0;
   background: radial-gradient(circle at 20% 18%, var(--login-glass-highlight-1), transparent 60%),
               radial-gradient(circle at 78% 14%, var(--login-glass-highlight-2), transparent 58%),
               linear-gradient(165deg, rgba(12,32,62,0.26), transparent 68%);
   mix-blend-mode: screen;
   pointer-events: none;
   opacity: 0.92;
   z-index: 0;
}
.login-container::after {
   content: "";
   position: absolute;
   inset: 1px;
   border-radius: 21px;
   border: 1px solid var(--login-glass-frame);
   pointer-events: none;
   z-index: 0;
}
.login-container > * { position: relative; z-index: 1; }
.login-header { margin-bottom: 1.5rem; }
.login-header p { margin-bottom: 0; color: var(--login-helper-color); font-weight: 500; }
.login-form .form-control {
   background: var(--login-form-bg);
   border: 1px solid var(--login-form-border);
   box-shadow: none;
   color: var(--login-form-text);
}
.login-form .form-control:focus {
   border-color: rgba(70,156,255,0.62);
   box-shadow: 0 0 0 0.2rem rgba(70,156,255,0.16);
   background: var(--login-form-bg);
}
.login-form label { color: var(--login-label-color); }
.login-form .form-control::placeholder { color: rgba(224,236,255,0.55); }
.login-form .form-floating > label {
   color: rgba(224,236,255,0.78);
   background: transparent;
   padding: 1rem 1rem;
   pointer-events: none;
   transition: color .35s ease;
}
.login-form .form-floating .form-control:focus ~ label,
.login-form .form-floating .form-control:not(:placeholder-shown) ~ label {
   color: var(--login-form-text);
}
.login-form .form-floating > .form-control,
.login-form .form-floating > .form-control:focus {
   padding: 1.25rem 1rem 0.45rem;
}
.login-screen #login-error { min-height: 1.2rem; }
@media (max-width: 768px) {
   .login-container {
      margin-top: clamp(120px, 26vh, 260px);
      width: min(360px, 90%);
      padding: clamp(24px, 5vw, 36px);
   }
}
@media (max-width: 576px) {
   .login-screen {
      padding: clamp(18px, 6vw, 28px) clamp(16px, 5vw, 24px) clamp(38px, 10vh, 72px);
   }
   .login-container {
      margin-top: clamp(60px, 20vh, 160px);
      margin-bottom: clamp(40px, 14vh, 120px);
      padding: clamp(20px, 5.5vw, 28px);
      width: min(330px, 92%);
      border-radius: 18px;
   }
   .login-overlay .sky-top-logo {
      width: clamp(140px, 52vw, 220px);
      top: clamp(-6px, 4.5vw, 22px);
   }
}
@media (max-width: 420px) {
   .login-container {
      width: min(310px, 90%);
      padding: clamp(18px, 6vw, 26px);
   }
   .login-overlay .sky-top-logo {
      width: clamp(136px, 58vw, 208px);
      top: clamp(-10px, 6vw, 16px);
   }
}

/* Estrobo blanco (cola o puntas) */
#login-sky .plane .strobe { right: -0.6em; top: 0.15em; width: 0.28em; height: 0.28em; background: #ffffff; box-shadow: 0 0 0.7em rgba(255,255,255,1), 0 0 1.2em rgba(255,255,255,0.8); animation: strobeDouble 1.2s linear infinite; }
#login-sky .plane.reverse .strobe { left: -0.6em; right: auto; }
/* Doble destello: flash-flash-pausa */
@keyframes strobeDouble { 0% { opacity: 1; } 3% { opacity: 0; } 6% { opacity: 1; } 9% { opacity: 0; } 100% { opacity: 0; } }
/* Luz de aterrizaje (frontal sutil) */
#login-sky .plane .landing { display: none !important; box-shadow: none !important; animation: none !important; opacity: 0 !important; }
#login-sky .plane.reverse .landing { display: none !important; }
@keyframes landingPulse { 0%,100% { opacity: .65; } 50% { opacity: .95; } }
@keyframes planeFly { from { transform: translate(-12vw, var(--y, 0)) rotate(var(--tilt, 8deg)); } to { transform: translate(112vw, var(--y, 0)) rotate(var(--tilt, 8deg)); } }
@keyframes planeFlyReverse { from { transform: translate(12vw, var(--y, 0)) scaleX(-1) rotate(calc(-1 * var(--tilt, 8deg))); } to { transform: translate(-112vw, var(--y, 0)) scaleX(-1) rotate(calc(-1 * var(--tilt, 8deg))); } }
/* (ruta curva eliminada; se mantiene animación lineal original) */

/* Respetar preferencia de movimiento reducido */
@media (prefers-reduced-motion: reduce) {
   #login-sky .cloud, #login-sky .plane { animation: none !important; }
   #login-sky .star, #login-sky .plane .light { animation: none !important; }
}

/* Luces de aeropuerto en el horizonte */
#login-sky .airport-lights { position:absolute; left:0; right:0; bottom:0; height: 14vh; pointer-events: none; opacity: 0; transition: opacity .8s ease; }
#login-sky.night .airport-lights { opacity: .85; }
#login-sky.dusk .airport-lights { opacity: .55; }
#login-sky.dawn .airport-lights { opacity: .38; }
#login-sky.day .airport-lights { opacity: .16; }
#login-sky .ap-light { position:absolute; bottom: 3vh; width: 4px; height: 4px; border-radius: 50%; opacity: .9; animation: apTwinkle 3.2s ease-in-out infinite; animation-delay: var(--d, 0s); transform: translateZ(0) scale(var(--s,1)); filter: blur(.2px); }
@keyframes apTwinkle { 0%,100% { opacity: .55; } 50% { opacity: .95; } }
#login-sky .ap-yellow { background: #ffd36b; box-shadow: 0 0 10px rgba(255,211,107,0.85), 0 0 18px rgba(255,211,107,0.45); }
#login-sky .ap-green { background: #7dff9e; box-shadow: 0 0 10px rgba(125,255,158,0.85), 0 0 18px rgba(125,255,158,0.45); }
#login-sky .ap-blue { background: #7ab6ff; box-shadow: 0 0 10px rgba(122,182,255,0.85), 0 0 18px rgba(122,182,255,0.45); }
.login-hero { position: relative; border-radius: 12px; overflow: hidden; box-shadow: 0 6px 16px rgba(0,0,0,0.25); }
.login-hero::after { content: ""; position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0)); pointer-events: none; }
.login-hero-img { display: block; width: 100%; height: 140px; object-fit: cover; }
.login-logo { width: 90px; height: 90px; object-fit: contain; margin-bottom: 1rem; border-radius: 50%; border: 4px solid #003366; padding: 5px; background: #f8f9fa; }
#login-title { font-family: var(--font-family-mono); font-weight: bold; color: var(--login-form-text); border-right: 3px solid rgba(255,255,255,0.72); white-space: nowrap; overflow: hidden; display: inline-block; margin: 0 auto 0.5rem; letter-spacing: .1em; animation: typing 3s steps(15, end), blink-caret .75s step-end infinite; }
@keyframes typing { from { width: 0 } to { width: 100% } }
@keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: rgba(255,255,255,0.75); } }
#login-button { transition: background-color 0.3s, transform 0.2s; }
#login-button:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0, 51, 102, 0.3); }
#login-button .spinner { display: none; width: 1.2rem; height: 1.2rem; border: 2px solid #fff; border-bottom-color: transparent; border-radius: 50%; animation: rotation 1s linear infinite; margin: 0 auto; }
#login-button.loading .spinner { display: block; }
#login-button.loading .btn-text { display: none; }
/* Nuevo spinner tipo avión orbitando */
#login-button .spinner-plane { display:none; position:relative; width:46px; height:46px; }
#login-button.loading .spinner-plane { display:inline-block; }
#login-button .spinner-plane::before { content:""; position:absolute; inset:4px; border:3px solid rgba(255,255,255,0.35); border-top-color:transparent; border-radius:50%; animation: rotation 1.1s linear infinite; }
#login-button .spinner-plane::after { content:"✈"; position:absolute; left:50%; top:50%; transform-origin: -6px center; animation: planeSpin 1.1s linear infinite; font-size:18px; color:#fff; }
@keyframes planeSpin { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
@keyframes rotation { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

/* ==========================================================================
   Animación de Avión CSS con Estela
   ========================================================================== */
#flying-plane { position: absolute; top: 50%; left: -100px; z-index: 1; animation: fly-arc 30s linear infinite; pointer-events: none; opacity: 0.6; width: 25px; height: 8px; background: var(--text-muted-color); border-radius: 40%; }
#flying-plane::before, #flying-plane::after { content: ''; position: absolute; background: var(--text-muted-color); }
#flying-plane::before { width: 8px; height: 22px; left: 7px; top: -9px; transform: skew(-30deg, -10deg); border-radius: 3px; }
#flying-plane::after { width: 5px; height: 10px; left: -2px; top: -1px; transform: skew(40deg, 20deg); border-radius: 1px; }
.contrail { position: absolute; width: 150px; height: 2px; background: linear-gradient(to left, transparent, var(--text-muted-color)); top: 50%; right: 100%; transform: translateY(-50%); opacity: 0.8; }
@keyframes fly-arc { 0% { transform: translate(0, 0) rotate(15deg); } 30% { transform: translate(35vw, -80px) rotate(-10deg); } 70% { transform: translate(75vw, -80px) rotate(-10deg); } 100% { transform: translate(110vw, 20px) rotate(15deg); } }

.header { position: relative; overflow: hidden; }
.header-content { position: relative; z-index: 2; }
.header-center-content { display: flex; flex-direction: column; align-items: center; justify-content: center; flex: 1 1 auto; text-align: center; gap: .5rem; }
.header-center-content .header-title-row { width: 100%; display: flex; align-items: center; justify-content: space-between; gap: .5rem; }
.header-center-content .header-title-row .main-title { margin: 0 auto; text-align: center; }
.header-center-content .header-subtext { display: flex; flex-direction: column; align-items: center; gap: .1rem; }
.header-center-content .header-subtext .current-user-display { margin-top: 0; }
.header-center-content .header-subtext .current-date-display { margin: 0; font-size: .95rem; letter-spacing: .03em; }

/* Mostrar avión animado también en móviles (preferencia del usuario) */
/* Ajuste XS: más chico y ligeramente más transparente para no tapar título */
@media (max-width: 400px) {
   .header .header-content { flex-direction: column; align-items: center; gap: .35rem; }
   /* Acomodo vertical para evitar encimado entre logos */
   .header .d-flex.align-items-center:first-child { order: 1; }
   .header .header-center-content { order: 2; width: 100%; }
   .header .header-right-content { order: 3; }
}

/* ==========================================================================
   Tablas de Inicio "Glassmorphism"
   ========================================================================== */
.table-container-tech { background-color: var(--tech-table-bg); backdrop-filter: blur(10px); border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; box-shadow: 0 4px 15px var(--shadow-color); overflow: hidden; }


/* Evitar colisión visual entre cluster derecho y centro en tablets chicas */
@media (max-width: 991.98px) {
   .header-right-content { max-width: 100%; flex-wrap: wrap; justify-content: center; }
}
/* Vertical scroll within the table on mobile: allow pan-y and set a reasonable max-height */
.vertical-scroll { max-height: 60vh; overflow-y: auto; -webkit-overflow-scrolling: touch; touch-action: pan-y; }
.vertical-scroll table { margin: 0; }
.table-container-tech table { --bs-table-color: var(--text-color); --bs-table-bg: transparent; --bs-table-border-color: var(--border-color); --bs-table-hover-color: var(--text-color); --bs-table-hover-bg: var(--body-bg); }

/* Horizontal itinerary scrolling wrapper */
.itinerary-horizontal {
   width: 100%;
}
.h-scroll-area {
   overflow-x: auto;
   -webkit-overflow-scrolling: touch;
}

.itinerary-airline-toolbar {
   display: flex;
   flex-wrap: wrap;
   gap: 1.25rem;
   align-items: stretch;
   margin-bottom: 2rem;
}
.itinerary-airline-toolbar.airline-selected {
   align-items: flex-start;
}
.itinerary-airline-toolbar.airline-selected .airline-summary-card {
   flex: 1 1 100%;
}
.itinerary-airline-picker {
   min-width: 220px;
   flex: 1 1 220px;
   display: flex;
   flex-direction: column;
   gap: 0.45rem;
}
.airline-picker-label {
   font-size: 0.75rem;
   font-weight: 600;
   letter-spacing: 0.05em;
   text-transform: uppercase;
   color: #6c757d;
}
.itinerary-airline-picker select {
   min-width: 220px;
   max-width: 320px;
}
@media (min-width: 768px) {
   .itinerary-airline-picker select {
      min-width: 260px;
   }
}
@media (max-width: 575.98px) {
   .itinerary-airline-picker select {
      min-width: 0;
      width: 100%;
   }
}
.airline-summary-card {
   --airline-summary-accent: #0d6efd;
   --airline-summary-bg-strong: rgba(13,110,253,0.12);
   --airline-summary-bg-soft: rgba(13,110,253,0.03);
   --airline-summary-border: rgba(13,110,253,0.26);
   --airline-summary-shadow: rgba(13,110,253,0.12);
   flex: 1 1 320px;
   position: relative;
   padding: 1.25rem;
   border-radius: 16px;
   border: 1px solid var(--airline-summary-border);
   background: linear-gradient(135deg, var(--airline-summary-bg-strong), var(--airline-summary-bg-soft));
   box-shadow: 0 18px 36px -18px var(--airline-summary-shadow);
   transition: transform 0.25s ease, box-shadow 0.25s ease;
   overflow: hidden;
}
.airline-summary-card:hover {
   transform: translateY(-2px);
   box-shadow: 0 22px 42px -16px var(--airline-summary-shadow);
}
.airline-summary-card.is-highlight {
   animation: airline-summary-pop 0.55s ease;
}
@keyframes airline-summary-pop {
   0% { transform: scale(0.97); opacity: 0; }
   60% { transform: scale(1.02); opacity: 1; }
   100% { transform: scale(1); opacity: 1; }
}
.airline-summary-card.is-empty {
   display: flex;
   align-items: center;
   justify-content: center;
   text-align: center;
   color: #6c757d;
   border: 1px dashed rgba(108,117,125,0.45);
   background: linear-gradient(135deg, rgba(108,117,125,0.08), rgba(108,117,125,0.02));
}
.airline-summary-placeholder {
   font-size: 0.95rem;
   font-weight: 500;
}
.airline-summary-placeholder i { margin-right: 0.4rem; }
.airline-summary-body {
   display: flex;
   flex-direction: column;
   gap: 1rem;
   height: 100%;
}
@media (max-width: 576px) {
   #inicio-section .card { border-radius: 0.9rem; }
   #inicio-section .card-body { padding: 1rem; }
   #inicio-section .table-container-tech { padding: 0.75rem; }
   #inicio-section .itinerary-table-block { margin-bottom: 1.75rem; }
   .itinerary-airline-toolbar { flex-direction: column; align-items: stretch; gap: 1rem; margin-bottom: 1.5rem; }
   .itinerary-airline-picker { flex: 1 1 auto; min-width: 0; }
   .airline-summary-card { width: 100%; padding: 1rem; }
   .airline-summary-card.is-empty { min-height: 120px; }
   .airline-summary-placeholder { text-align: left; }
   #inicio-section .h-scroll-controls { flex-wrap: wrap; gap: 0.5rem; }
   #inicio-section .h-scroll-controls .scroll-range { flex: 1 1 100%; }
}
.airline-summary-main {
   display: flex;
   align-items: center;
   gap: 1rem;
   flex-wrap: wrap;
}
.airline-summary-logo {
   width: 72px;
   height: 72px;
   border-radius: 18px;
   background: rgba(255,255,255,0.88);
   display: flex;
   align-items: center;
   justify-content: center;
   box-shadow: 0 18px 32px -22px var(--airline-summary-shadow);
   flex-shrink: 0;
}
.airline-summary-logo img {
   max-width: 100%;
   max-height: 100%;
   object-fit: contain;
}
.airline-summary-logo-img {
   width: 100%;
   height: 100%;
   object-fit: contain;
}
.airline-summary-logo-fallback {
   font-size: 1.8rem;
   font-weight: 700;
   color: var(--airline-summary-accent);
}
.airline-summary-logo-icon {
   width: 100%;
   height: 100%;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 1.8rem;
   color: var(--airline-summary-accent);
}
.airline-summary-text {
   flex: 1;
   min-width: 0;
}
.airline-summary-title {
   font-weight: 700;
   font-size: 1.05rem;
   margin-bottom: 0.2rem;
}
.airline-summary-meta {
   display: flex;
   flex-wrap: wrap;
   gap: 0.5rem;
   align-items: center;
   font-size: 0.8rem;
   letter-spacing: 0.05em;
   text-transform: uppercase;
   color: #495057;
}
.airline-summary-date {
   font-weight: 600;
   color: var(--airline-summary-accent);
}
.airline-summary-type {
   display: inline-flex;
   align-items: center;
   gap: 0.35rem;
   padding: 0.25rem 0.6rem;
   border-radius: 999px;
   font-weight: 600;
   font-size: 0.72rem;
   background: rgba(13,110,253,0.15);
   color: #0d6efd;
}
.airline-summary-type[data-variant="cargo"] {
   background: rgba(220,53,69,0.12);
   color: #c82333;
}
.airline-summary-type[data-variant="general"] {
   background: rgba(111,66,193,0.12);
   color: #6f42c1;
}
.airline-summary-type[data-variant="mixed"] {
   background: rgba(32,201,151,0.12);
   color: #146c43;
}
.airline-summary-type[data-variant="empty"] {
   background: rgba(108,117,125,0.15);
   color: #495057;
}
.airline-summary-metrics {
   display: grid;
   gap: 0.75rem;
   grid-template-columns: repeat(2, minmax(110px, 1fr));
}
@media (min-width: 992px) {
   .airline-summary-metrics {
      grid-template-columns: repeat(4, minmax(110px, 1fr));
   }
}
.airline-summary-metric {
   background: rgba(255,255,255,0.72);
   border-radius: 14px;
   padding: 0.75rem;
   text-align: center;
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.35);
}
.airline-summary-metric .label {
   text-transform: uppercase;
   font-size: 0.7rem;
   letter-spacing: 0.05em;
   color: #6c757d;
   display: block;
   margin-bottom: 0.25rem;
   font-weight: 600;
}
.airline-summary-metric .value {
   font-size: 1.4rem;
   font-weight: 700;
   color: var(--airline-summary-accent);
}
.airline-summary-metric .icon {
   font-size: 0.9rem;
   margin-right: 0.35rem;
}
.airline-summary-breakdown,
.itinerary-airline-breakdown {
   display: flex;
   flex-wrap: wrap;
   gap: 0.5rem;
}
.airline-summary-chip,
.itinerary-airline-chip {
   display: inline-flex;
   align-items: center;
   gap: 0.35rem;
   padding: 0.35rem 0.65rem;
   border-radius: 999px;
   font-size: 0.74rem;
   font-weight: 600;
   letter-spacing: 0.04em;
   text-transform: uppercase;
   background: rgba(255,255,255,0.72);
   color: #495057;
}
.airline-summary-chip strong,
.itinerary-airline-chip strong {
   font-size: 0.85rem;
}
.airline-summary-chip[data-variant="passenger"],
.itinerary-airline-chip[data-variant="passenger"] {
   background: rgba(13,110,253,0.15);
   color: #0d6efd;
}
.airline-summary-chip[data-variant="cargo"],
.itinerary-airline-chip[data-variant="cargo"] {
   background: rgba(220,53,69,0.15);
   color: #c82333;
}
.airline-summary-chip[data-variant="general"],
.itinerary-airline-chip[data-variant="general"] {
   background: rgba(102,16,242,0.15);
   color: #6610f2;
}
.airline-summary-chip[data-variant="mixed"],
.itinerary-airline-chip[data-variant="mixed"] {
   background: rgba(25,135,84,0.15);
   color: #198754;
}
.airline-summary-chip[data-variant="empty"],
.itinerary-airline-chip[data-variant="empty"] {
   background: rgba(108,117,125,0.15);
   color: #495057;
}
body.dark-mode .airline-summary-card {
   background: linear-gradient(135deg, rgba(13,110,253,0.18), rgba(13,110,253,0.05));
   border-color: var(--airline-summary-border);
   color: #e9ecef;
}
body.dark-mode .airline-summary-card.is-empty {
   background: rgba(33,37,41,0.8);
   border-color: rgba(173,181,189,0.35);
   color: #adb5bd;
}
body.dark-mode .airline-summary-logo-icon {
   color: var(--airline-summary-accent);
}
body.dark-mode .airline-summary-metric {
   background: rgba(33,37,41,0.85);
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
}
body.dark-mode .airline-summary-metric .label {
   color: #ced4da;
}
body.dark-mode .airline-summary-chip,
body.dark-mode .itinerary-airline-chip {
   background: rgba(33,37,41,0.85);
   color: #ced4da;
}
.itinerary-airline-detail {
   margin: 1.75rem 0 2.25rem;
}
.itinerary-airline-card {
   border: 1px solid var(--itinerary-airline-accent-border, rgba(13,110,253,0.28));
   border-radius: 20px;
   box-shadow: 0 20px 44px -22px var(--itinerary-airline-accent-shadow, rgba(13,110,253,0.24));
   background: #ffffff;
   overflow: hidden;
}
.itinerary-airline-card .card-body {
   padding: 1.6rem;
}
.itinerary-airline-card-head {
   display: flex;
   flex-wrap: wrap;
   justify-content: space-between;
   align-items: flex-start;
   gap: 1rem;
   margin-bottom: 1.1rem;
}
.itinerary-airline-title {
   font-size: 1.35rem;
   font-weight: 700;
   color: #0f172a;
}
.itinerary-airline-sub {
   font-size: 0.95rem;
   color: #475569;
   margin-top: 0.25rem;
}
.itinerary-airline-pills {
   display: flex;
   flex-wrap: wrap;
   gap: 0.55rem;
   justify-content: flex-end;
}
.itinerary-pill {
   display: inline-flex;
   align-items: center;
   gap: 0.45rem;
   padding: 0.42rem 0.9rem;
   border-radius: 999px;
   font-size: 0.85rem;
   font-weight: 600;
   color: var(--itinerary-airline-accent, #0d6efd);
   background: var(--itinerary-airline-accent-bg, rgba(13,110,253,0.12));
   border: 1px solid var(--itinerary-airline-accent-border, rgba(13,110,253,0.28));
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.45);
}
.itinerary-airline-toolbar-detail {
   display: flex;
   flex-wrap: wrap;
   align-items: center;
   justify-content: space-between;
   gap: 0.85rem;
   margin-bottom: 1.25rem;
}
.itinerary-airline-toolbar-detail .btn {
   white-space: nowrap;
}
.itinerary-airline-table .table {
   margin-bottom: 0;
   background: #fff;
   border-radius: 14px;
   overflow: hidden;
}
.itinerary-airline-table .table tbody tr.animated-row {
   transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.itinerary-airline-table .table tbody tr.animated-row:hover {
   transform: translateY(-2px);
   box-shadow: 0 10px 24px -18px rgba(15,23,42,0.35);
}
.itinerary-airline-table .airline-cell {
   display: inline-flex;
   align-items: center;
   gap: 0.45rem;
}
.itinerary-airline-table .airline-name {
   font-weight: 600;
}
@media (max-width: 991.98px) {
   .itinerary-airline-card .card-body {
      padding: 1.25rem;
   }
   .itinerary-airline-card-head {
      gap: 0.75rem;
   }
   .itinerary-airline-pills {
      justify-content: flex-start;
   }
}
@media (max-width: 575.98px) {
   .itinerary-pill {
      font-size: 0.8rem;
      padding: 0.38rem 0.75rem;
   }
   .itinerary-airline-card-head {
      flex-direction: column;
      align-items: flex-start;
   }
}
body.dark-mode .itinerary-airline-card {
   background: #1e2739;
   border-color: rgba(148,163,184,0.32);
   box-shadow: 0 24px 44px rgba(0,0,0,0.45);
}
body.dark-mode .itinerary-airline-title {
   color: #e2e8f0;
}
body.dark-mode .itinerary-airline-sub {
   color: #94a3b8;
}
body.dark-mode .itinerary-pill {
   background: var(--itinerary-airline-accent-bg, rgba(148,163,184,0.16));
   color: var(--itinerary-airline-accent, #93c5fd);
   border-color: var(--itinerary-airline-accent-border, rgba(148,163,184,0.24));
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
}
body.dark-mode .itinerary-airline-table .table {
   background: rgba(15,23,42,0.65);
}
.itinerary-table-block {
   margin-bottom: 2.5rem;
}
.itinerary-table-block:last-of-type {
   margin-bottom: 0;
}

.h-scroll-area {
   width: 100%;
   white-space: nowrap; /* prevent inline children from wrapping */
}

/* Enable horizontal pan gestures on touch devices */
.h-scroll-area {
   touch-action: pan-x;
   -ms-touch-action: pan-x;
}

/* Optional class to force a wider table when automatic measurement isn't enough */
.force-wide { min-width: 1200px !important; }
.h-scroll-area > .table-container-tech {
   /* Make the inner table container size itself to its content so the h-scroll-area
      can detect overflow and enable horizontal scrolling. */
   display: inline-block;
   vertical-align: top;
   min-width: max-content;
}

/* Controls shown only on small screens */
.h-scroll-controls .scroll-range {
   height: 28px;
}
.h-scroll-controls .btn {
   width: 36px;
   height: 36px;
   padding: 6px 8px;
}

/* Hide native scrollbar in WebKit for a cleaner UI while preserving scrolling */
.h-scroll-area::-webkit-scrollbar {
   height: 8px;
}
.h-scroll-area::-webkit-scrollbar-thumb {
   background: rgba(0,0,0,0.2);
   border-radius: 4px;
}
/* Make horizontal scroll functional on any element using this helper */
.h-scroll-area {
   overflow-x: auto;
   -webkit-overflow-scrolling: touch;
   overscroll-behavior-x: contain;
   touch-action: pan-x;
   scrollbar-width: thin;
}
/* For all browsers/devices: ensure horizontal scroll area only intercepts horizontal pan, not vertical */
#fauna-section .h-scroll-area {
   touch-action: pan-x;
   -ms-touch-action: pan-x;
   overscroll-behavior-x: contain;
   -webkit-overflow-scrolling: touch;
}
@media (pointer: coarse) {
   #fauna-section .h-scroll-area {
      scroll-snap-type: x mandatory;
      scroll-padding: 0 16px;
   }
}

/* Ensure table inside can be wider than container */
.table-container-tech table {
   width: max-content;
}

.table-container-tech table { display: inline-table; }

/* Fauna table specific improvements */
.fauna-table { width: max-content; border-collapse: separate; border-spacing: 0; }
.fauna-table thead th { position: sticky; top: 0; z-index: 2; background: rgba(0,0,0,0.05); backdrop-filter: blur(2px); }
.fauna-table th, .fauna-table td { white-space: nowrap; }
.fauna-table tbody { display: table-row-group; }
.fauna-table thead { display: table-header-group; }
/* On mobile/tablet, ensure the table is wider than the viewport to allow horizontal scrolling */
@media (max-width: 991.98px) {
   #fauna-section #fauna-table-container,
   #fauna-section .table-container-tech,
   #fauna-section .h-scroll-area { overflow-x: auto; -webkit-overflow-scrolling: touch; }
   #fauna-section .fauna-table { min-width: 720px; }
}

/* Ensure origin and destino columns are wide enough to show values */
/* Usamos clases semánticas para columnas anchas */
.table-container-tech table td.col-origen, .table-container-tech table th.col-origen,
.table-container-tech table td.col-destino, .table-container-tech table th.col-destino { min-width: 160px; white-space: nowrap; }
.table-container-tech table td:nth-child(2), .table-container-tech table th:nth-child(2) { min-width: 90px; } /* Aeronave */

/* Keep tables as wide as their content so horizontal scrolling works on all viewports.
   Ensure origin/destination columns are wide enough to show values and force horizontal overflow when needed. */
.table-container-tech table td:nth-child(5), .table-container-tech table th:nth-child(5),
.table-container-tech table td:last-child, .table-container-tech table th:last-child {
   min-width: 160px;
   white-space: nowrap;
}
.table-container-tech thead th { background-color: rgba(0,0,0,0.05); border-bottom: 2px solid var(--primary-color) !important; text-transform: uppercase; font-size: 0.8rem; font-weight: 500; }
body.dark-mode .table-container-tech thead th { background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(0,0,0,0.1)); }
.table-container-tech tbody tr { transition: background-color 0.2s, transform 0.2s, border-left-color 0.2s; border-left: 4px solid var(--airline-color, transparent); }
.table-container-tech tbody tr:hover { transform: translateY(-2px) scale(1.01); box-shadow: 0 4px 10px rgba(0,0,0,0.1); background-color: var(--body-bg); }
.table-container-tech .airline-dot { width: 8px; height: 8px; vertical-align: middle; border-radius: 50%; margin-right: 8px; display: inline-block;}

/* ===================== Responsive "recortada" para móviles ===================== */
@media (max-width: 576px) {
   /* Oculta columnas menos críticas y compacta tablas de itinerario */
   /* Ya no ocultamos columnas en móvil; dejamos todo accesible con scroll horizontal */
   #passenger-itinerary-container table thead th,
   #passenger-itinerary-container table tbody td,
   #cargo-itinerary-container table thead th,
   #cargo-itinerary-container table tbody td { display: table-cell !important; }

   /* Reduce altura de fila y tamaño de logo en móviles para mejor densidad */
   :root { --fids-row-height: 68px; }
   .airline-logo.lg { width: 56px; height: 56px; }
   .airline-logo.xl { width: 72px; height: 72px; }
   .table-container-tech thead th { font-size: 0.8rem; }

   /* Controles de scroll más compactos */
   .h-scroll-controls .btn { width: 32px; height: 32px; }
}

/* Airline logo inline in cells/cards */
.airline-cell { display: inline-flex; align-items: center; gap: 8px; }
/* Tamaños de logo: pensado para simular pantallas de aeropuerto */
.airline-logo { width: 36px; height: 36px; object-fit: contain; background: transparent; }
.airline-logo.sm { width: 30px; height: 30px; }
.airline-logo.md { width: 44px; height: 44px; }
.airline-logo.lg { width: 64px; height: 64px; }
.airline-logo.xl { width: 80px; height: 80px; }
.table-container-tech td:first-child .airline-logo { filter: none; }
/* En modo oscuro algunos logos claros se ven lavados; aumentamos contraste y leve sombra */
body.dark-mode .table-container-tech td:first-child .airline-logo { filter: brightness(0.98) contrast(1.08) saturate(1.02) drop-shadow(0 0 2px rgba(0,0,0,0.35)); }

/* En celdas: si hay logo, el nombre puede omitirse vía JS; aquí aseguramos buen alineado */
.table-container-tech td:first-child .airline-cell { min-height: 72px; }

/* Modo pantalla de aeropuerto (FIDS-like) */
/* FIDS-like global styling (siempre activo) */
:root {
   --fids-row-height: 84px;
   /* Colores sutiles para franjas de filas en modo claro */
   --fids-row-odd-bg: rgba(0, 0, 0, 0.06);
   --fids-row-even-bg: rgba(0, 0, 0, 0.025);
}
.table-container-tech table { font-size: 1.1rem; letter-spacing: 0.4px; }
.table-container-tech tbody tr { height: var(--fids-row-height); }
.table-container-tech td:first-child .airline-cell { min-height: var(--fids-row-height); }
.airline-logo.lg { width: 72px; height: 72px; }
.airline-logo.xl { width: 92px; height: 92px; }
.table-container-tech thead th { font-size: 0.9rem; letter-spacing: 0.6px; }
.table-container-tech tbody tr:hover { transform: none; box-shadow: none; }
/* Centrar todo el contenido en tablas de itinerario/resumen */
.table-container-tech table th,
.table-container-tech table td { text-align: center; vertical-align: middle; }
.table-container-tech table td .airline-cell { justify-content: center; }
/* Franjas por fila (una fuerte, otra suave) */
.table-container-tech tbody tr:nth-child(odd) { background-color: var(--fids-row-odd-bg); }
.table-container-tech tbody tr:nth-child(even) { background-color: var(--fids-row-even-bg); }
/* Conservar franja al hacer hover */
.table-container-tech tbody tr:nth-child(odd):hover { background-color: var(--fids-row-odd-bg); }
.table-container-tech tbody tr:nth-child(even):hover { background-color: var(--fids-row-even-bg); }
/* Ajuste de contraste en modo oscuro */
body.dark-mode { --fids-row-odd-bg: rgba(255, 255, 255, 0.06); --fids-row-even-bg: rgba(255, 255, 255, 0.035); }

/* ================== Itinerario (Inicio) — Encabezados estilo FIDS en azul ================== */
#passenger-itinerary-container .table thead th,
#cargo-itinerary-container .table thead th {
   background: linear-gradient(180deg, var(--primary-color) 0%, var(--primary-color-dark) 100%) !important;
   color: #fff !important;
   text-transform: uppercase;
   font-weight: 700;
   letter-spacing: .7px;
   border-bottom: 2px solid var(--primary-color-dark) !important;
}
body.dark-mode #passenger-itinerary-container .table thead th,
body.dark-mode #cargo-itinerary-container .table thead th {
   background: linear-gradient(180deg, #2a5fa3 0%, #0d2d56 100%) !important; /* tonos azules adaptados para contraste en oscuro */
   border-bottom-color: #0d2d56 !important;
}

/* Mejor legibilidad numérica (alineación de dígitos) y tamaño */
#passenger-itinerary-container .table,
#cargo-itinerary-container .table {
   font-variant-numeric: tabular-nums; /* dígitos de ancho fijo */
   font-family: 'Roboto Condensed', var(--font-family-base), system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}
#passenger-itinerary-container .table td,
#cargo-itinerary-container .table td {
   font-weight: 500;
}

/* Ocultar nombre y punto de color cuando el logo esté disponible (JS añade clases) */
.airline-cell.has-logo .airline-name { display: none; }
.airline-header.airline-has-logo .airline-name { display: none; }
/* También ocultar el punto de color en el encabezado cuando hay logo */
.airline-header.airline-has-logo .airline-dot { display: none; }

/* ==========================================================================
   Barra Lateral Plegable
   ========================================================================== */
.app-body { position: relative; }
.sidebar { position: fixed; left: 0; top: 0; bottom: 0; transform: translateX(0); transition: transform 0.3s ease; }
.main-content { margin-left: var(--sidebar-width); transition: margin-left 0.3s ease, width 0.3s ease; width: calc(100% - var(--sidebar-width)); }
.sidebar-toggler-btn { color: var(--text-color); border: none; font-size: 1.2rem; }
body.sidebar-collapsed .sidebar { transform: translateX(calc(-1 * var(--sidebar-width))); }
body.sidebar-collapsed .main-content { margin-left: 0; width: 100%; }
body.sidebar-open { overflow: hidden; }

/* Mobile sidebar behavior */
@media (max-width: 991.98px) {
   .sidebar { transform: translateX(-100%); width: var(--sidebar-width); box-shadow: 4px 0 12px rgba(0,0,0,0.2); }
   .sidebar.visible { transform: translateX(0); }
   .main-content { margin-left: 0; width: 100%; }
   .sidebar-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.35); opacity: 0; visibility: hidden; transition: opacity .2s ease, visibility .2s ease; z-index: 1040; cursor: pointer; pointer-events: none; }
   .sidebar-overlay.active { opacity: 1; visibility: visible; pointer-events: auto; }
}

/* ==========================================================================
   Animaciones Generales
   ========================================================================== */
.animated-row { opacity: 0; transform-origin: top; transform: rotateX(-90deg); animation: flipIn 0.8s ease-out forwards; animation-delay: var(--delay); }
@keyframes flipIn { to { opacity: 1; transform: rotateX(0deg); } }
.fade-in-row { opacity: 0; animation: fadeInUp 0.8s ease-out forwards; animation-delay: var(--delay); }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* ==========================================================================
   Resto de Estilos
   ========================================================================== */
body.dark-mode .card h1, body.dark-mode .card h2, body.dark-mode .card h3, body.dark-mode .card h4, body.dark-mode .card h5, body.dark-mode .h5 { color: var(--text-color); }
.hidden { display: none !important; }
.aifa-logo { width: 120px; height:auto; max-width:100%; }
@media (min-width: 577px) and (max-width: 991.98px) {
   /* Tablets: logo más pequeño para evitar saturación del encabezado */
   .aifa-logo { width: 90px; }
}
@media (max-width: 576px) {
   .aifa-logo { width: 70px; }
}
.header-logo { height: 45px; }
.main-title { font-size: 1.4rem; font-weight: 500; color: var(--text-color); }
.current-user-display { color: var(--primary-color); }
.gob-logo { height: 35px; }
.formal-clock-container { text-align: center; background-color: var(--body-bg); padding: 0.5rem 1rem; border-radius: 0.5rem; border: 1px solid var(--border-color); }
.clock-label { font-size: 0.7rem; font-weight: 600; color: var(--text-muted-color); text-transform: uppercase; }
.formal-clock { font-family: 'Courier New', monospace; font-weight: 700; font-size: 1.05rem; color: var(--primary-color); }
/* UTC clock styling - same size as local clock */
.utc-clock { font-family: 'Courier New', monospace; font-weight: 700; font-size: 1.05rem; color: var(--primary-color); }
.utc-clock-container .clock-label { font-size: 0.65rem; }

/* Clocks wrapper adjustments - make both clocks visually identical */
.clocks-wrapper .formal-clock-container, .clocks-wrapper .utc-clock-container { background: transparent; padding: 0.18rem 0.45rem; border-radius: 0.4rem; }
.formal-clock, .utc-clock { padding: 0.18rem 0.6rem; border-radius: 6px; background: rgba(255,255,255,0.92); color: #002244; box-shadow: 0 2px 6px rgba(0,0,0,0.06); }

body.dark-mode .formal-clock, body.dark-mode .utc-clock { background: rgba(255,255,255,0.04); color: #e8eaed; box-shadow: none; }

/* Improve contrast in dark mode across the app for text-heavy areas */
body.dark-mode { color: #e8eaed; }
body.dark-mode .card, body.dark-mode .filter-container { background-color: #1e2a38; border-color: rgba(255,255,255,0.06); }
body.dark-mode .menu-item { color: rgba(255,255,255,0.95); }
body.dark-mode .menu-item:hover { background-color: rgba(255,255,255,0.05); }
body.dark-mode .table-container-tech { background-color: rgba(255,255,255,0.04); }

.update-note { font-size: 0.9rem; color: var(--text-muted-color); display: inline-flex; align-items: center; gap: 0.5rem; }
.update-note i { color: var(--primary-color); }
body.dark-mode .update-note { color: #c9d6e6; }
.date-bar { background-color: var(--card-bg); border-bottom: 1px solid var(--border-color); }
.theme-toggle-btn { color: var(--text-color); }
.sidebar { background: var(--sidebar-bg); color: white; width: var(--sidebar-width); flex-shrink: 0; z-index: 1050; }
.menu-item { display: flex; align-items: center; padding: 0.85rem 1.5rem; color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.2s ease; border-left: 4px solid transparent; }
.menu-item:hover { background-color: rgba(255, 255, 255, 0.1); color: white; }
.menu-item.active { background-color: var(--primary-color-light); color: var(--primary-color-dark); font-weight: 700; border-left-color: var(--primary-color); }
body.dark-mode .menu-item.active { background-color: var(--primary-color-light); color: white; border-left-color: var(--primary-color); }
.menu-item i { margin-right: 12px; width: 20px; text-align: center; }
/* Composite icon for punctuality: clock with a small check overlay */
.icon-clock-check { position: relative; display: inline-block; width: 20px; height: 20px; margin-right: 12px; color: rgba(255,255,255,0.9); }
.icon-clock-check i { position: absolute; left: 0; top: 0; width: 100%; height: 100%; line-height: 20px; text-align: center; }
.icon-clock-check i.check { font-size: 0.65rem; color: #fff; background: #198754; border-radius: 50%; width: 12px; height: 12px; display: inline-flex; align-items: center; justify-content: center; right: -2px; top: 8px; position: absolute; box-shadow: 0 1px 2px rgba(0,0,0,0.2); }
body.dark-mode .icon-clock-check { color: #e8eaed; }
.logout-item { margin-top: auto; border-top: 1px solid rgba(255, 255, 255, 0.2); }
.filter-container { background-color: var(--body-bg); border: 1px solid var(--border-color); border-radius: 0.5rem; padding: 1rem; box-shadow: var(--shadow-color) 0px 2px 8px 0px; }
.filter-header { display: flex; align-items: center; color: var(--primary-color); margin-bottom: 0.75rem; }
.pdf-preview-container { position: relative; width: 100%; height: 550px; border: 1px solid var(--border-color); border-radius: .375rem; overflow: hidden; }
.pdf-preview-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
.content-section { display: none; animation: fadeIn 0.5s; }
.content-section.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
.card { background-color: var(--card-bg); border: 1px solid var(--border-color); transition: background-color 0.3s, border-color 0.3s; }
.card-header, .card-body, .card-footer { background-color: transparent; border-color: var(--border-color); }
.nav-tabs .nav-link { color: var(--text-muted-color); }
.nav-tabs .nav-link.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
.table-stylish thead { background-color: var(--primary-color); color: white; font-weight: 500; text-transform: uppercase; font-size: 0.8rem; }
.table-stylish-footer { background-color: var(--primary-color-light); font-weight: bold; color: var(--primary-color-dark); border-top: 2px solid var(--primary-color); }
body.dark-mode .table-stylish-footer { color: var(--text-color); }
.table-dark { --bs-table-bg: var(--primary-color); }
.table-total-row { background-color: var(--primary-color-light); font-weight: bold; }
.pdf-container { position: relative; }
.pdf-container iframe { background: #fff; }
/* Limit vertical PDF viewers to viewport height with scroll */
.pdf-singlepage-viewer.v-scroll {
   max-height: 80vh;
   overflow-y: auto;
}
/* Improve contrast for PDF/iframe containers in dark mode so text inside PDFs is easier to read against a white backdrop */
body.dark-mode .pdf-container, body.dark-mode .pdf-preview-container {
   background: #fff;
   border: 1px solid var(--border-color);
   border-radius: .375rem;
   padding: 6px;
}
body.dark-mode .pdf-container iframe, body.dark-mode .pdf-preview-container iframe {
   background: #fff;
}
/* Chart containers - consistent height and spacing to avoid overlapping visuals */
.chart-container {
   position: relative;
   width: 100%;
   height: clamp(280px, 42vw, 360px);
   --chart-width: 100%;
}
.card .chart-container canvas { width: var(--chart-width, 100%) !important; height: 100% !important; }
.card .chart-container > div { width: var(--chart-width, 100%) !important; height: 100% !important; }
/* Horizontal scroll helper for dense charts (mobile) */
.chart-container.chart-scrollable {
   overflow-x: auto;
   overflow-y: hidden;
   touch-action: pan-x;
   -webkit-overflow-scrolling: touch;
   padding-bottom: 8px;
   scrollbar-width: thin;
}
.chart-container.chart-scrollable::-webkit-scrollbar { height: 6px; }
.chart-container.chart-scrollable::-webkit-scrollbar-thumb { background-color: rgba(15, 23, 42, 0.25); border-radius: 999px; }
body.dark-mode .chart-container.chart-scrollable::-webkit-scrollbar-thumb { background-color: rgba(209, 213, 219, 0.35); }
.chart-container.chart-scrollable canvas,
.chart-container.chart-scrollable > div {
   max-width: none !important;
}
@media (max-width: 992px) {
   .chart-container { height: clamp(250px, 54vw, 330px); }
}
@media (max-width: 768px) {
   .chart-container { height: clamp(230px, 58vw, 310px); }
}
@media (max-width: 576px) {
   .chart-container { height: clamp(208px, 64vw, 280px) !important; }
}

#demoras-section .table-responsive {
   border-radius: 14px;
   overflow-x: auto;
   -webkit-overflow-scrolling: touch;
}
#demoras-section .table { min-width: 100%; }
@media (max-width: 768px) {
   #demoras-section .table thead th,
   #demoras-section .table tbody td,
   #demoras-section .table tfoot th { white-space: nowrap; }
}
@media (max-width: 576px) {
   #demoras-section .card-body { padding: 1rem; }
   #demoras-section .table { font-size: 0.85rem; }
   #demoras-section .table thead th,
   #demoras-section .table tbody td,
   #demoras-section .table tfoot th { padding: 0.5rem 0.6rem; }
   #operaciones-totales-section .card-body { padding: 1rem; }
}

/* Itinerary charts: dedicated horizontal scroll wrapper */
.itinerary-charts-scroll {
   overflow-x: auto;
   -webkit-overflow-scrolling: touch;
   touch-action: pan-x;
   white-space: nowrap;
}
/* En escritorio no forzamos ancho extra; solo en móvil (ver más abajo) */

/* Gráficas Itinerario Diario: en móviles, poner ambas en una fila horizontal scrolleable */
@media (max-width: 576px) {
   .itinerary-charts-scroll { overflow: visible; white-space: normal; }
   .itinerary-charts-scroll > .row { min-width: 100%; display: block; white-space: normal; }
   .chart-row-mobile-scroll {
      display: grid;
      grid-template-columns: 1fr;
      overflow: visible;
      white-space: normal;
      gap: 1.25rem;
      padding-bottom: 0;
   }
   .chart-row-mobile-scroll > [class^="col-"],
   .chart-row-mobile-scroll > [class*=" col-"] {
      display: block;
      width: 100%;
      margin-right: 0;
   }
   #pasajeros-grafica-pane .chart-container,
   #carga-grafica-pane .chart-container { height: 320px; }
   .chart-container { padding-bottom: 6px; }
}

/* Eliminado fondo detrás de logos; se regresa al estilo original sin realce de color */

/* Iconos de sección para Operaciones Totales */
.section-icon { display:inline-flex; align-items:center; justify-content:center; width:32px; height:32px; border-radius:8px; margin-right:8px; font-size:1.05rem; font-weight:600; box-shadow:0 2px 6px rgba(0,0,0,0.15); letter-spacing:-1px; }
.icon-commercial { background: linear-gradient(135deg,#1e88e5,#0d47a1); color:#fff; }
.icon-cargo { background: linear-gradient(135deg,#fb8c00,#ef6c00); color:#fff; }
.icon-general { background: linear-gradient(135deg,#2e7d32,#1b5e20); color:#fff; }
body.dark-mode .section-icon { box-shadow:0 2px 8px rgba(0,0,0,0.4); }

/* Loader global de avión orbitando */
.global-loader { position:fixed; inset:0; background:radial-gradient(circle at 30% 30%, rgba(0,0,0,0.65), rgba(0,0,0,0.8)); backdrop-filter: blur(4px); display:flex; align-items:center; justify-content:center; z-index:4000; transition: opacity .35s, visibility .35s; }
.global-loader.hidden { opacity:0; visibility:hidden; pointer-events:none; }
.global-loader .loader-content { text-align:center; color:#fff; font-family: var(--font-family-base); }
.plane-orbit { position:relative; width:200px; height:200px; margin:0 auto 1rem; }
.plane-orbit .orbit-ring { position:absolute; inset:0; border:4px solid rgba(255,255,255,0.15); border-top-color: var(--primary-color); border-right-color: rgba(255,255,255,0.28); border-bottom-color: var(--primary-color-dark); border-left-color: rgba(255,255,255,0.05); border-radius:50%; animation: ringSpin 14s linear infinite; box-shadow:0 0 14px rgba(255,255,255,0.15), 0 0 28px rgba(0,136,255,0.25) inset; backdrop-filter: blur(2px); }
.plane-orbit .plane-icon { position:absolute; left:50%; top:50%; font-size:42px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.55)) drop-shadow(0 0 6px rgba(255,255,255,0.35)); animation: planeOrbit 5s linear infinite; }
/* AIFA logo dentro del loader */
.plane-orbit .loader-aifa-logo {
   position: absolute;
   left: 50%;
   top: 50%;
   transform: translate(-50%, -50%);
   width: 110px;
   height: 110px;
   object-fit: cover;
   border-radius: 50%;
      border: 2px solid var(--primary-color);
   /* quitar borde; conservar glow suave */
   box-shadow: 0 10px 22px rgba(0,0,0,0.35), 0 0 28px rgba(13,45,86,0.42);
}

   /* Loader de sección (Manifiestos) */
   .section-loader { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,0.85); backdrop-filter: blur(2px); z-index: 50; transition: opacity .25s ease, visibility .25s ease; }
   .section-loader.hidden { opacity:0; visibility:hidden; pointer-events:none; }
   .section-loader .loader-content { color:#222; }
   .section-loader .loader-text { font-weight:600; color:#333; }
   /* Escala reducida para el orbitador dentro de contenedor */
   .section-loader .plane-orbit { width:140px; height:140px; }
   .section-loader .plane-orbit .plane-icon { font-size:34px; }
@keyframes planeOrbit {
  0%   { transform: translate(-50%, -50%) rotate(0deg)   translateX(86px) rotate(90deg)  rotate(0deg); }
  12.5%{ transform: translate(-50%, -50%) rotate(45deg)  translateX(86px) rotate(90deg)  rotate(-10deg); }
  25%  { transform: translate(-50%, -50%) rotate(90deg)  translateX(86px) rotate(90deg)  rotate(-16deg); }
  37.5%{ transform: translate(-50%, -50%) rotate(135deg) translateX(86px) rotate(90deg)  rotate(-8deg); }
  50%  { transform: translate(-50%, -50%) rotate(180deg) translateX(86px) rotate(90deg)  rotate(0deg); }
  62.5%{ transform: translate(-50%, -50%) rotate(225deg) translateX(86px) rotate(90deg)  rotate(8deg); }
  75%  { transform: translate(-50%, -50%) rotate(270deg) translateX(86px) rotate(90deg)  rotate(16deg); }
  87.5%{ transform: translate(-50%, -50%) rotate(315deg) translateX(86px) rotate(90deg)  rotate(10deg); }
  100% { transform: translate(-50%, -50%) rotate(360deg) translateX(86px) rotate(90deg)  rotate(0deg); }
}
@keyframes ringSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.loader-text { font-weight:600; letter-spacing:.5px; font-size:1rem; animation: fadeInUp .6s ease; }
.global-loader .loader-content::after { content:''; display:block; margin:10px auto 0; width:60px; height:8px; background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.6), rgba(255,255,255,0)); border-radius:50%; filter:blur(4px); animation: pulseShadow 1.8s ease-in-out infinite; }
@keyframes pulseShadow { 0%,100% { transform: scale(0.9); opacity:0.5; } 50% { transform: scale(1.05); opacity:0.9; } }
body.dark-mode .global-loader { background:rgba(0,0,0,0.7); }

/* Extra dark mode contrast */
#summary-table-container .summary-total-card { border:none; background:linear-gradient(135deg,#0d47a1,#1976d2); color:#fff; position:relative; overflow:hidden; box-shadow:0 14px 30px rgba(13,71,161,0.35); }
#summary-table-container .summary-total-card::after { content:""; position:absolute; inset:auto -30% -60% -30%; height:160%; background:radial-gradient(circle at 50% 20%, rgba(255,255,255,0.45), rgba(255,255,255,0)); opacity:.25; }
.summary-total-icon { width:52px; height:52px; border-radius:16px; background:rgba(255,255,255,0.18); display:flex; align-items:center; justify-content:center; font-size:1.35rem; box-shadow:0 6px 14px rgba(0,0,0,0.2); }
.summary-total-title { font-size:1.12rem; font-weight:700; letter-spacing:.01em; }
.summary-total-sub { font-size:.85rem; opacity:.85; }
.summary-pill { display:inline-flex; align-items:center; gap:.35rem; padding:.35rem .85rem; border-radius:999px; font-weight:600; font-size:.85rem; backdrop-filter: blur(4px); box-shadow:0 6px 16px rgba(15,23,42,0.15); border:1px solid transparent; transition:transform .18s ease, box-shadow .18s ease; }
.summary-pill:hover { transform:translateY(-1px); box-shadow:0 10px 20px rgba(15,23,42,0.18); }
.summary-pill-total { background:linear-gradient(135deg, rgba(25,118,210,0.22), rgba(120,188,255,0.34)); color:#0b2f52; border-color:rgba(30,136,229,0.42); }
.summary-pill-arrivals { background:linear-gradient(135deg, rgba(76,175,80,0.2), rgba(165,214,167,0.34)); color:#0f3f24; border-color:rgba(76,175,80,0.42); }
.summary-pill-departures { background:linear-gradient(135deg, rgba(255,167,38,0.22), rgba(255,213,128,0.36)); color:#7a3f00; border-color:rgba(255,167,38,0.45); }
.summary-pill-total i,
.summary-pill-passenger i,
.summary-pill-cargo i { margin-right:0.35rem; font-size:0.95em; }
.summary-pill-passenger { background:linear-gradient(135deg, rgba(76,175,80,0.24), rgba(174,213,129,0.36)); color:#0c3b20; border-color:rgba(76,175,80,0.44); }
.summary-pill-cargo { background:linear-gradient(135deg, rgba(255,160,0,0.22), rgba(255,213,79,0.36)); color:#6a3a00; border-color:rgba(255,160,0,0.45); }
.summary-pill-general { background:linear-gradient(135deg, rgba(0,150,136,0.22), rgba(128,203,196,0.36)); color:#004d40; border-color:rgba(0,150,136,0.45); }

#summary-table-container .summary-positions-card { border:1px solid rgba(13,71,161,0.12); background:linear-gradient(135deg, rgba(13,71,161,0.05), rgba(25,118,210,0.08)); box-shadow:0 10px 24px rgba(15,23,42,0.08); }
.summary-position-groups { display:flex; flex-direction:column; gap:1.1rem; }
.summary-position-group { display:flex; flex-direction:column; gap:0.5rem; }
.summary-position-group-label { font-size:.74rem; text-transform:uppercase; letter-spacing:.12em; color:var(--text-muted-color); font-weight:700; padding-left:.1rem; }
.summary-position-group-row { display:flex; flex-wrap:wrap; gap:0.5rem; }
.summary-positions-card.compact .summary-position-group { align-items:center; }
.summary-positions-card.compact .summary-position-group-label { text-align:center; padding-left:0; }
.summary-positions-card.compact .summary-position-group-row { justify-content:center; }
.summary-positions-card.compact .summary-position-badge { font-size:1.05rem; }
.summary-positions-icon { width:42px; height:42px; border-radius:12px; display:flex; align-items:center; justify-content:center; background:rgba(25,118,210,0.15); color:var(--primary-color); font-size:1.1rem; }
.summary-positions-title { font-weight:700; letter-spacing:.01em; }
.summary-positions-sub { font-size:.78rem; color:var(--text-muted-color); }
.summary-position-badge { display:inline-flex; align-items:center; gap:.35rem; padding:.45rem .95rem; border-radius:12px; border:1px solid transparent; background:var(--card-bg); color:var(--text-color); font-weight:600; font-variant-numeric: tabular-nums; cursor:pointer; transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease; }
.summary-position-badge strong { font-weight:700; color:inherit; }
.summary-position-badge[data-intensity="low"] { background:linear-gradient(135deg, rgba(25,135,84,0.1), rgba(25,135,84,0.22)); color:#0f5132; border-color:rgba(25,135,84,0.35); }
.summary-position-badge[data-intensity="medium"] { background:linear-gradient(135deg, rgba(255,193,7,0.12), rgba(255,193,7,0.24)); color:#705700; border-color:rgba(255,193,7,0.4); }
.summary-position-badge[data-intensity="high"] { background:linear-gradient(135deg, rgba(220,53,69,0.12), rgba(220,53,69,0.26)); color:#842029; border-color:rgba(220,53,69,0.46); }
.summary-position-badge[data-special="cobus"] { border-color:rgba(33,150,243,0.6); box-shadow:0 12px 26px rgba(30,136,229,0.24); }
#summary-table-container .summary-position-flag { display:inline-flex; align-items:center; gap:0.3rem; margin-left:0.45rem; padding:0.18rem 0.5rem; border-radius:999px; font-size:.68rem; font-weight:700; letter-spacing:.05em; text-transform:uppercase; background:rgba(30,136,229,0.16); color:#0d47a1; }
#summary-table-container .summary-position-flag i { font-size:0.78rem; }
.summary-position-badge:hover { transform:translateY(-1px); box-shadow:0 10px 22px rgba(15,23,42,0.14); }
.summary-position-badge.active { border-width:2px; box-shadow:0 14px 26px rgba(13,71,161,0.22); }
#summary-table-container .summary-position-badge:focus-visible { outline:3px solid rgba(13,110,253,0.45); outline-offset:2px; }
#summary-table-container .summary-airline-card:focus-visible { outline:3px solid rgba(13,110,253,0.4); outline-offset:3px; }

#summary-table-container .summary-airline-grid { margin-top:0; }
#summary-table-container .summary-airline-card { position:relative; border:1px solid var(--border-color); border-radius:16px; background:var(--card-bg); box-shadow:0 10px 24px var(--shadow-color); cursor:pointer; transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease; overflow:hidden; min-height:162px; }
#summary-table-container .summary-airline-card::after { content:""; position:absolute; inset:0; background:radial-gradient(circle at 20% -20%, rgba(255,255,255,0.4), rgba(255,255,255,0)); opacity:0; transition:opacity .2s ease; pointer-events:none; }
#summary-table-container .summary-airline-card:hover { transform:translateY(-3px); box-shadow:0 16px 28px var(--shadow-color); }
#summary-table-container .summary-airline-card:hover::after { opacity:.4; }
#summary-table-container .summary-airline-card.active { border-color:rgba(13,110,253,0.55); box-shadow:0 20px 36px rgba(13,110,253,0.22); }
#summary-table-container .summary-airline-card.active::after { opacity:.55; }
.summary-airline-card-body { position:relative; z-index:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.75rem; padding:1.4rem 1rem; text-align:center; }
.summary-selection-controls { gap:0.5rem; }
.summary-selection-controls .summary-reset-btn { display:inline-flex; align-items:center; gap:0.35rem; }
.summary-airline-logo { width:92px; height:92px; border-radius:50%; background:transparent; display:flex; align-items:center; justify-content:center; overflow:hidden; padding:0.5rem; box-shadow:none; }
.summary-airline-logo .airline-logo { width:100% !important; height:100% !important; object-fit:contain; filter:none; }
.summary-airline-fallback { display:inline-flex; align-items:center; justify-content:center; width:92px; height:92px; border-radius:50%; background:var(--summary-airline-color, var(--primary-color)); color:#fff; font-weight:700; font-size:1.75rem; letter-spacing:-.02em; }
.summary-airline-total { font-size:1.9rem; font-weight:700; color:var(--summary-airline-color,#0d6efd); line-height:1; letter-spacing:-.015em; }
.summary-airline-total-label { font-size:.73rem; text-transform:uppercase; letter-spacing:.14em; color:var(--text-muted-color); font-weight:600; }
.summary-airline-section + .summary-airline-section { margin-top:1.5rem; }
.summary-section-label { font-size:.82rem; text-transform:uppercase; letter-spacing:.12em; color:var(--text-muted-color); font-weight:700; margin-bottom:.35rem; padding-left:.15rem; }

#summary-table-container .summary-detail-card { border:none; border-radius:20px; box-shadow:0 20px 40px rgba(15,23,42,0.12); overflow:hidden; }
.summary-detail-hero { background:linear-gradient(135deg,var(--summary-airline-color,#0d6efd),#42a5f5); color:#fff; padding:1.4rem 1.6rem; display:flex; align-items:center; flex-wrap:wrap; gap:1rem; }
.summary-detail-flag { display:inline-flex; align-items:center; gap:0.4rem; padding:0.3rem 0.85rem; border-radius:999px; font-size:0.75rem; font-weight:700; letter-spacing:.05em; text-transform:uppercase; background:rgba(255,255,255,0.22); color:#0d47a1; }
.summary-detail-flag i { font-size:0.9rem; }
.summary-detail-logo { width:96px; height:96px; border-radius:24px; background:rgba(255,255,255,0.2); display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow:0 12px 24px rgba(0,0,0,0.18); }
.summary-detail-logo .airline-logo { width:100% !important; height:100% !important; object-fit:contain; filter:none; }
.summary-detail-title { font-size:1.3rem; font-weight:700; letter-spacing:.01em; }
.summary-detail-sub { font-size:.85rem; color:rgba(255,255,255,0.85); }
.summary-detail-metrics { display:flex; gap:.5rem; }
.summary-detail-chip { display:inline-flex; align-items:center; gap:.4rem; padding:.4rem .9rem; border-radius:999px; font-weight:600; backdrop-filter: blur(4px); }
.summary-detail-chip-arrivals { background:rgba(76,175,80,0.28); color:#e8f5e9; }
.summary-detail-chip-departures { background:rgba(255,167,38,0.28); color:#fff3e0; }
.summary-detail-actions .btn { font-weight:600; }
.summary-detail-table { margin-top:1.6rem; }
.summary-detail-table .table { min-width:960px; }

#summary-table-container .tooltip.show { opacity:1; }
#summary-table-container .tooltip-inner { background:linear-gradient(135deg,#0d47a1,#1976d2); color:#fff; font-size:.95rem; padding:.55rem .85rem; border-radius:12px; box-shadow:0 12px 24px rgba(13,71,161,0.35); }
#summary-table-container .tooltip .tooltip-arrow::before { background:#1976d2; }

body.dark-mode #summary-table-container .summary-total-card { box-shadow:0 18px 40px rgba(5,10,20,0.65); }
body.dark-mode #summary-table-container .summary-pill-total { background:linear-gradient(135deg, rgba(21,53,92,0.58), rgba(15,40,70,0.78)); color:#d5e9ff; border-color:rgba(118,186,255,0.5); }
body.dark-mode #summary-table-container .summary-pill-arrivals { background:linear-gradient(135deg, rgba(27,73,44,0.56), rgba(19,54,32,0.78)); color:#c3f0d2; border-color:rgba(129,199,132,0.48); }
body.dark-mode #summary-table-container .summary-pill-departures { background:linear-gradient(135deg, rgba(87,52,11,0.58), rgba(60,36,6,0.8)); color:#ffdeb3; border-color:rgba(255,183,77,0.48); }
body.dark-mode #summary-table-container .summary-pill-passenger { background:linear-gradient(135deg, rgba(38,87,52,0.58), rgba(28,68,41,0.82)); color:#c7f5d6; border-color:rgba(129,199,132,0.5); }
body.dark-mode #summary-table-container .summary-pill-cargo { background:linear-gradient(135deg, rgba(94,55,9,0.6), rgba(65,38,5,0.82)); color:#ffe3b2; border-color:rgba(255,204,102,0.48); }
body.dark-mode #summary-table-container .summary-pill-general { background:linear-gradient(135deg, rgba(12,58,53,0.58), rgba(8,41,37,0.82)); color:#a7f3ea; border-color:rgba(64,224,208,0.48); }
body.dark-mode #summary-table-container .summary-positions-card { background:linear-gradient(135deg, rgba(77,171,247,0.1), rgba(13,71,161,0.2)); border-color:rgba(77,171,247,0.3); box-shadow:0 16px 32px rgba(0,0,0,0.45); }
body.dark-mode #summary-table-container .summary-positions-icon { background:rgba(77,171,247,0.22); color:#e1f2ff; }
body.dark-mode #summary-table-container .summary-positions-sub { color:#9ec5ff; }
body.dark-mode #summary-table-container .summary-position-badge { background:rgba(16,27,42,0.85); border-color:rgba(77,171,247,0.35); color:#dfe9f5; }
body.dark-mode #summary-table-container .summary-position-badge strong { color:inherit; }
body.dark-mode #summary-table-container .summary-position-badge[data-intensity="low"] { background:linear-gradient(135deg, rgba(25,135,84,0.28), rgba(12,84,48,0.55)); color:#c6f6dd; border-color:rgba(25,135,84,0.55); }
body.dark-mode #summary-table-container .summary-position-badge[data-intensity="medium"] { background:linear-gradient(135deg, rgba(255,193,7,0.28), rgba(189,139,17,0.52)); color:#ffe9a6; border-color:rgba(255,193,7,0.6); }
body.dark-mode #summary-table-container .summary-position-badge[data-intensity="high"] { background:linear-gradient(135deg, rgba(220,53,69,0.3), rgba(165,42,52,0.55)); color:#ffb8c4; border-color:rgba(220,53,69,0.65); }
body.dark-mode #summary-table-container .summary-position-badge[data-special="cobus"] { border-color:rgba(120,190,255,0.7); box-shadow:0 14px 30px rgba(33,150,243,0.34); }
body.dark-mode #summary-table-container .summary-position-badge:hover { box-shadow:0 12px 28px rgba(0,0,0,0.6); }
body.dark-mode #summary-table-container .summary-position-badge.active { border-width:2px; box-shadow:0 18px 32px rgba(0,0,0,0.65); }
body.dark-mode #summary-table-container .summary-position-group-label { color:#9fb4cc; }
body.dark-mode #summary-table-container .summary-section-label { color:#9fb4cc; }
body.dark-mode #summary-table-container .summary-position-badge:focus-visible { outline:3px solid rgba(120,190,255,0.65); }
body.dark-mode #summary-table-container .summary-position-flag { background:rgba(30,136,229,0.28); color:#8ec9ff; }
body.dark-mode #summary-table-container .summary-airline-card:focus-visible { outline:3px solid rgba(77,171,247,0.45); }
body.dark-mode #summary-table-container .summary-airline-card { background:rgba(20,30,46,0.95); border-color:rgba(255,255,255,0.08); box-shadow:0 18px 32px rgba(0,0,0,0.45); }
body.dark-mode #summary-table-container .summary-airline-card:hover { box-shadow:0 20px 34px rgba(0,0,0,0.55); }
body.dark-mode #summary-table-container .summary-airline-logo { background:transparent; }
body.dark-mode #summary-table-container .summary-airline-pill { background:rgba(77,171,247,0.2); border-color:rgba(77,171,247,0.35); color:#a9d7ff; }
body.dark-mode #summary-table-container .summary-airline-card.active .summary-airline-pill { color:#fff; }
body.dark-mode #summary-table-container .summary-airline-progress .progress-track { background:rgba(77,171,247,0.18); }
body.dark-mode #summary-table-container .summary-airline-sub { color:#9fb4cc; }
body.dark-mode #summary-table-container .summary-airline-card .summary-airline-total { color:#d3e6ff; }
body.dark-mode #summary-table-container .summary-airline-total-label { color:#8aa6c7; }
body.dark-mode #summary-table-container .summary-detail-card { box-shadow:0 22px 48px rgba(0,0,0,0.55); }
body.dark-mode #summary-table-container .summary-detail-chip-arrivals { background:rgba(129,199,132,0.32); color:#d0f5d3; }
body.dark-mode #summary-table-container .summary-detail-chip-departures { background:rgba(255,183,77,0.34); color:#ffe0b2; }
body.dark-mode #summary-table-container .summary-detail-flag { background:rgba(120,190,255,0.35); color:#dbeeff; }
body.dark-mode #summary-table-container .summary-detail-table { background:rgba(14,22,34,0.85); }
body.dark-mode #summary-table-container .tooltip-inner { background:linear-gradient(135deg,#1e88e5,#42a5f5); box-shadow:0 12px 28px rgba(0,0,0,0.55); }
body.dark-mode #summary-table-container .tooltip .tooltip-arrow::before { background:#42a5f5; }
#summary-table-container .summary-detail-logo.position-logo { background:rgba(255,255,255,0.25); color:#fff; font-size:2rem; display:flex; align-items:center; justify-content:center; }
body.dark-mode #summary-table-container .summary-detail-logo.position-logo { background:rgba(16,27,42,0.45); color:#e8f3ff; }
#summary-table-container .summary-detail-table .table thead th { background-color:rgba(0,0,0,0.04); }
body.dark-mode #summary-table-container .summary-detail-table .table thead th { background:rgba(255,255,255,0.08); }
body.dark-mode .filter-container { background:#243447; border-color:#2f3b4a; }
body.dark-mode .filter-container .form-control,
body.dark-mode .filter-container .form-select { background:#1b2733; color:#e8eaed; border-color:#3c4a57; }
body.dark-mode .filter-container .form-control::placeholder { color:#6f8394; }
body.dark-mode .filter-container .form-control:focus,
body.dark-mode .filter-container .form-select:focus { border-color:#4dabf7; box-shadow:0 0 0 2px rgba(77,171,247,0.25); }
body.dark-mode #ops-sections-filters label,
body.dark-mode #ops-years-filters label { color:#dbe5ee; }
body.dark-mode .form-check-input { background:#1e2a38; border-color:#3c4a57; }
body.dark-mode .form-check-input:checked { background-color:#4dabf7; border-color:#4dabf7; }
/* Loader compacto en móviles */
@media (max-width: 576px) {
  .plane-orbit { transform: scale(0.6); transform-origin: center; }
  .global-loader .loader-text { font-size: 0.9rem; }
}

/* Chips para meses 2025 */
#ops-months-2025 .chip {
   position: relative;
   display: inline-flex;
   align-items: center;
   justify-content: center;
   gap: .45rem;
   padding: .4rem .95rem;
   margin: 2px;
   border-radius: 14px;
   border: 1px solid rgba(13,71,161,0.12);
   background: rgba(255, 255, 255, 0.7);
   box-shadow: 0 4px 12px rgba(13,71,161,0.08);
   font-weight: 600;
   color: var(--text-color);
   cursor: pointer;
   user-select: none;
   transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}
#ops-months-2025 .chip input {
   position: absolute;
   inset: 0;
   opacity: 0;
   cursor: pointer;
}
#ops-months-2025 .chip .chip-text {
   pointer-events: none;
   font-size: .82rem;
   letter-spacing: .04em;
   text-transform: uppercase;
}
#ops-months-2025 .chip:hover { transform: translateY(-1px); box-shadow: 0 10px 20px rgba(13,71,161,0.12); }
#ops-months-2025 .chip:has(input:focus-visible) { outline: 2px solid rgba(13,71,161,0.45); outline-offset: 3px; }
#ops-months-2025 .chip:has(input:checked) {
   color: var(--primary-color);
   border-color: rgba(13,71,161,0.4);
   background: linear-gradient(135deg, rgba(66,165,245,0.2), rgba(66,165,245,0.05));
   box-shadow: 0 12px 24px rgba(13,71,161,0.16);
}
body.dark-mode #ops-months-2025 .chip {
   background: rgba(24,34,50,0.92);
   border-color: rgba(77,171,247,0.2);
   box-shadow: 0 10px 24px rgba(0,0,0,0.55);
   color: #dbe5ee;
}
body.dark-mode #ops-months-2025 .chip:hover { border-color: rgba(77,171,247,0.35); }
body.dark-mode #ops-months-2025 .chip:has(input:checked) {
   color: #dbeeff;
   background: linear-gradient(135deg, rgba(77,171,247,0.32), rgba(36,70,120,0.32));
   border-color: rgba(77,171,247,0.48);
   box-shadow: 0 16px 28px rgba(0,0,0,0.65);
}

/* Barras de filtros mejoradas */
.filters-bar { display:flex; flex-wrap:wrap; gap:.4rem .8rem; align-items:center; }
.filters-bar .chip { display:inline-flex; align-items:center; gap:.4rem; padding:.25rem .5rem; border-radius:999px; background: var(--card-bg); border:1px solid var(--border-color); }
.filters-bar .chip label { margin:0; font-weight:600; font-size:.8rem; color: var(--text-muted-color); }
.filters-bar .chip .form-select, .filters-bar .chip input[type="text"], .filters-bar .chip .form-check-input { background: transparent; border:none; box-shadow:none; min-height: 28px; font-size: .85rem; padding-top: 2px; padding-bottom: 2px; }
body.dark-mode .filters-bar .chip { background:#233142; }
.filters-actions { margin-left:auto; display:flex; gap:.5rem; }

/* Secciones/Años como chips */
#ops-sections-filters .form-check, #ops-years-filters .form-check {
   display: flex;
   align-items: center;
   gap: .45rem;
   padding: .45rem .85rem;
   border-radius: 12px;
   border: 1px solid rgba(13,71,161,0.12);
   background: rgba(255,255,255,0.65);
   box-shadow: 0 4px 12px rgba(13,71,161,0.08);
   transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
#ops-sections-filters .form-check:hover, #ops-years-filters .form-check:hover {
   transform: translateY(-1px);
   box-shadow: 0 10px 20px rgba(13,71,161,0.12);
   border-color: rgba(13,71,161,0.35);
}
#ops-sections-filters .form-check-input, #ops-years-filters .form-check-input { width: 1.05rem; height: 1.05rem; margin-top: 0; }
#ops-sections-filters .form-check-label, #ops-years-filters .form-check-label { font-weight: 600; color: var(--text-color); }
#ops-sections-filters .form-check-input:checked + .form-check-label, #ops-years-filters .form-check-input:checked + .form-check-label { color: var(--primary-color); }
body.dark-mode #ops-sections-filters .form-check, body.dark-mode #ops-years-filters .form-check {
   background: rgba(26,36,52,0.9);
   border-color: rgba(77,171,247,0.15);
   box-shadow: 0 8px 18px rgba(0,0,0,0.45);
}
body.dark-mode #ops-sections-filters .form-check:hover, body.dark-mode #ops-years-filters .form-check:hover { border-color: rgba(77,171,247,0.35); }
body.dark-mode #ops-sections-filters .form-check-label, body.dark-mode #ops-years-filters .form-check-label { color: #e6edf7; }
body.dark-mode #ops-sections-filters .form-check-input, body.dark-mode #ops-years-filters .form-check-input { background: #1c2738; border-color: #314054; }
body.dark-mode #ops-sections-filters .form-check-input:checked, body.dark-mode #ops-years-filters .form-check-input:checked { background-color: #4dabf7; border-color: #4dabf7; }
body.dark-mode #ops-sections-filters .form-check-input:checked + .form-check-label, body.dark-mode #ops-years-filters .form-check-input:checked + .form-check-label { color: #9cd3ff; }

/* Resumen compacto de Operaciones Totales */
.ops-summary-slot { width: 100%; }
#ops-summary { width: 100%; }
.ops-summary-wrapper { display: flex; flex-direction: column; gap: 1.15rem; width: 100%; }
.ops-summary-hero {
   --ops-hero-bg-start: #08162c;
   --ops-hero-bg-end: #123060;
   --ops-hero-fg: #f7fbff;
   --ops-hero-caption: rgba(239,246,255,0.86);
   --ops-hero-overlay-strong: rgba(6,15,31,0.9);
   position: relative;
   display: flex;
   align-items: flex-end;
   gap: 1.8rem;
   width: 100%;
   min-height: 260px;
   padding: 2.4rem 2.2rem;
   border-radius: 24px;
   overflow: hidden;
   color: var(--ops-hero-fg);
   background: linear-gradient(135deg, var(--ops-hero-bg-start), var(--ops-hero-bg-end));
   box-shadow: 0 28px 54px rgba(8,17,35,0.24);
   border: 1px solid rgba(255,255,255,0.1);
}
.ops-summary-hero-media { position: absolute; inset: 0; border-radius: inherit; overflow: hidden; pointer-events: none; }
.ops-summary-hero-media::before {
   content: "";
   position: absolute;
   inset: 0;
   background-image: var(--ops-hero-media-image, linear-gradient(135deg, rgba(10,18,36,0.85), rgba(10,18,36,0.95)));
   background-size: cover;
   background-position: center;
   transform: scale(1.05);
   filter: saturate(1.05);
   transition: transform 1.2s ease;
}
.ops-summary-hero-media::after {
   content: "";
   position: absolute;
   inset: 0;
   background: radial-gradient(circle at 28% 22%, rgba(255,255,255,0.28) 0, rgba(255,255,255,0) 52%), radial-gradient(circle at 78% 14%, rgba(255,255,255,0.2) 0, rgba(255,255,255,0) 38%);
   opacity: .28;
   pointer-events: none;
}
.ops-summary-hero:hover .ops-summary-hero-media::before { transform: scale(1.12); }
.ops-summary-hero-overlay {
   position: absolute;
   inset: 0;
   background: linear-gradient(205deg, var(--ops-hero-overlay-strong) 0%, rgba(7,18,35,0.68) 42%, rgba(7,18,35,0.16) 100%);
   box-shadow: inset 0 -70px 140px rgba(0,0,0,0.5);
}
.ops-summary-hero::before,
.ops-summary-hero::after {
   content: "";
   position: absolute;
   border-radius: 50%;
   background: rgba(255,255,255,0.18);
   pointer-events: none;
}
.ops-summary-hero::before { width: 220px; height: 220px; top: -80px; right: -40px; opacity: .32; }
.ops-summary-hero::after { width: 280px; height: 280px; bottom: -140px; left: -80px; opacity: .22; background: rgba(255,255,255,0.12); }
.ops-summary-hero-icon {
   display: inline-flex;
   align-items: center;
   justify-content: center;
   width: 82px;
   height: 82px;
   border-radius: 20px;
   background: rgba(255,255,255,0.18);
   backdrop-filter: blur(8px);
   border: 1px solid rgba(255,255,255,0.28);
   box-shadow: 0 18px 36px rgba(8,17,35,0.35);
   color: inherit;
   position: relative;
   z-index: 1;
}
.ops-summary-hero-icon-inner { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; font-size: 2.1rem; }
.ops-summary-hero-body { position: relative; z-index: 1; display: flex; flex-direction: column; gap: .75rem; max-width: 620px; }
.ops-summary-hero-kicker {
   font-size: .85rem;
   font-weight: 700;
   text-transform: uppercase;
   letter-spacing: .16em;
   color: rgba(255,255,255,0.78);
   text-shadow: 0 12px 22px rgba(0,0,0,0.35);
}
.ops-summary-hero-period {
   font-size: 2.6rem;
   font-weight: 800;
   line-height: 1.1;
   letter-spacing: -.02em;
   margin: 0;
   text-shadow: 0 16px 38px rgba(0,0,0,0.4);
}
.ops-summary-hero-caption {
   font-size: 1.05rem;
   font-weight: 500;
   line-height: 1.5;
   color: var(--ops-hero-caption);
   text-shadow: 0 12px 28px rgba(0,0,0,0.35);
   margin: 0;
}
.ops-summary-hero-badge {
   position: absolute;
   top: 1.6rem;
   right: 1.6rem;
   padding: .55rem 1.25rem;
   border-radius: 999px;
   background: rgba(255,255,255,0.24);
   color: inherit;
   font-weight: 700;
   letter-spacing: .08em;
   font-size: .82rem;
   text-transform: uppercase;
   border: 1px solid rgba(255,255,255,0.32);
   backdrop-filter: blur(8px);
   box-shadow: 0 14px 32px rgba(8,17,35,0.28);
   z-index: 1;
}
.ops-summary-hero--yearly { --ops-hero-bg-start: #241132; --ops-hero-bg-end: #3a1f57; --ops-hero-overlay-strong: rgba(63,24,102,0.9); }
.ops-summary-hero--monthly { --ops-hero-bg-start: #0b1d38; --ops-hero-bg-end: #15366e; --ops-hero-overlay-strong: rgba(19,52,110,0.88); }
.ops-summary-hero--weekly { --ops-hero-bg-start: #052a1b; --ops-hero-bg-end: #0b3f2a; --ops-hero-overlay-strong: rgba(8,54,36,0.88); }

.ops-summary-grid {
   display: flex;
   flex-wrap: nowrap;
   gap: 0.75rem;
   width: 100%;
   justify-content: center;
   align-items: stretch;
   overflow-x: hidden;
   overflow-y: visible;
   padding-bottom: 0;
}
.ops-summary-grid--general-only { justify-content: center; }

.ops-summary-pill {
   position: relative;
   display: flex;
   align-items: center;
   gap: 0.9rem;
   padding: 1.2rem 1.25rem;
   flex: 1 1 clamp(180px, 18vw, 240px);
   min-width: 150px;
   max-width: 260px;
   border-radius: 18px;
   background: var(--ops-pill-bg, linear-gradient(135deg, rgba(255,255,255,0.68), rgba(245,248,255,0.55)));
   border: 1px solid var(--ops-pill-border, rgba(13,71,161,0.18));
   color: var(--ops-pill-text, var(--text-color));
   box-shadow: var(--ops-pill-shadow, 0 18px 38px rgba(15,23,42,0.12));
   backdrop-filter: blur(10px);
   transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
   overflow: hidden;
}
.ops-summary-pill::before {
   content: "";
   position: absolute;
   inset: 0;
   background: linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0));
   opacity: .55;
   pointer-events: none;
}
.ops-summary-pill:hover {
   transform: translateY(-3px);
   box-shadow: var(--ops-pill-shadow-hover, 0 24px 48px rgba(15,23,42,0.18));
   border-color: var(--ops-pill-border-hover, rgba(13,71,161,0.28));
}
.pill-icon {
   display: inline-flex;
   align-items: center;
   justify-content: center;
   width: 48px;
   height: 48px;
   border-radius: 16px;
   background: var(--ops-pill-icon-bg, rgba(13,71,161,0.12));
   color: var(--ops-pill-icon-color, var(--primary-color));
   box-shadow: var(--ops-pill-icon-shadow, 0 6px 16px rgba(13,71,161,0.12));
   font-size: 1.4rem;
   position: relative;
   z-index: 1;
}
.pill-text { display: flex; flex-direction: column; gap: .2rem; position: relative; z-index: 1; }
.pill-label {
   font-size: .82rem;
   text-transform: uppercase;
   letter-spacing: .08em;
   color: var(--ops-pill-label-color, var(--text-muted-color));
   font-weight: 700;
}
.pill-value { font-size: 1.45rem; font-weight: 700; color: var(--ops-pill-value-color, var(--text-color)); line-height: 1.2; }
.pill-sub {
   font-size: .75rem;
   letter-spacing: .06em;
   text-transform: uppercase;
   color: var(--ops-pill-sub-color, var(--text-muted-color));
   font-weight: 600;
}

@media (max-width: 1200px) {
   .ops-summary-grid { gap: 0.65rem; }
   .ops-summary-pill { padding: 1.1rem 1.2rem; gap: 0.75rem; }
}

@media (max-width: 992px) {
   .ops-summary-grid { flex-wrap: wrap; justify-content: center; }
   .ops-summary-pill {
      flex: 1 1 calc(50% - 0.325rem);
      min-width: min(220px, 100%);
      max-width: 280px;
   }
}

@media (max-width: 576px) {
   .ops-summary-pill { flex: 1 1 100%; min-width: 0; }
}

.ops-summary-empty { margin: 1.2rem 0; padding: 1.1rem 1.3rem; border-radius: 16px; border: 1px dashed rgba(13,71,161,0.28); background: rgba(13,71,161,0.05); font-weight: 600; color: var(--text-muted-color); text-align: center; }
.ops-summary-reco { border-left: 3px solid rgba(13,71,161,0.35); padding-left: .75rem; color: var(--text-muted-color); }
.ops-summary-pill--comercial {
   --ops-pill-bg: linear-gradient(135deg, rgba(30,136,229,0.18), rgba(144,202,249,0.32));
   --ops-pill-border: rgba(25,118,210,0.3);
   --ops-pill-border-hover: rgba(21,101,192,0.45);
   --ops-pill-shadow: 0 16px 36px rgba(25,118,210,0.22);
   --ops-pill-shadow-hover: 0 22px 44px rgba(25,118,210,0.28);
   --ops-pill-text: #0f3058;
   --ops-pill-value-color: #072445;
   --ops-pill-label-color: rgba(12,51,96,0.76);
   --ops-pill-sub-color: rgba(12,51,96,0.68);
   --ops-pill-icon-bg: rgba(21,101,192,0.18);
   --ops-pill-icon-color: #0d47a1;
   --ops-pill-icon-shadow: 0 6px 14px rgba(21,101,192,0.18);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(12,34,58,0.9), rgba(11,28,50,0.82));
   --ops-pill-border-dark: rgba(77,171,247,0.35);
   --ops-pill-border-hover-dark: rgba(123,200,255,0.5);
   --ops-pill-shadow-dark: 0 18px 42px rgba(9,24,45,0.7);
   --ops-pill-shadow-hover-dark: 0 26px 54px rgba(9,24,45,0.85);
   --ops-pill-text-dark: #e3f1ff;
   --ops-pill-value-color-dark: #f0f7ff;
   --ops-pill-label-color-dark: rgba(162,208,255,0.78);
   --ops-pill-sub-color-dark: rgba(162,208,255,0.7);
   --ops-pill-icon-bg-dark: rgba(77,171,247,0.24);
   --ops-pill-icon-color-dark: #a8dbff;
   --ops-pill-icon-shadow-dark: 0 10px 22px rgba(7,20,40,0.65);
}
.ops-summary-pill--comercial.ops-summary-pill--metric-passengers {
   --ops-pill-bg: linear-gradient(135deg, rgba(100,181,246,0.22), rgba(187,222,251,0.38));
   --ops-pill-icon-bg: rgba(79,195,247,0.28);
   --ops-pill-text: #0a2b4c;
   --ops-pill-label-color: rgba(12,60,104,0.7);
   --ops-pill-sub-color: rgba(12,60,104,0.62);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(15,44,72,0.88), rgba(14,37,63,0.82));
   --ops-pill-icon-bg-dark: rgba(118,196,255,0.3);
}

.ops-summary-pill--carga {
   --ops-pill-bg: linear-gradient(135deg, rgba(255,152,0,0.18), rgba(255,213,79,0.32));
   --ops-pill-border: rgba(255,143,0,0.3);
   --ops-pill-border-hover: rgba(255,143,0,0.48);
   --ops-pill-shadow: 0 16px 36px rgba(255,152,0,0.22);
   --ops-pill-shadow-hover: 0 24px 48px rgba(230,130,0,0.28);
   --ops-pill-text: #7b3f00;
   --ops-pill-value-color: #623100;
   --ops-pill-label-color: rgba(123,65,0,0.74);
   --ops-pill-sub-color: rgba(123,65,0,0.64);
   --ops-pill-icon-bg: rgba(255,183,77,0.22);
   --ops-pill-icon-color: #b25a00;
   --ops-pill-icon-shadow: 0 6px 14px rgba(193,128,0,0.24);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(74,40,6,0.9), rgba(59,30,5,0.82));
   --ops-pill-border-dark: rgba(255,183,77,0.38);
   --ops-pill-border-hover-dark: rgba(255,207,120,0.55);
   --ops-pill-shadow-dark: 0 18px 46px rgba(32,18,4,0.74);
   --ops-pill-shadow-hover-dark: 0 26px 58px rgba(32,18,4,0.88);
   --ops-pill-text-dark: #ffe7c6;
   --ops-pill-value-color-dark: #fff1dc;
   --ops-pill-label-color-dark: rgba(255,214,153,0.78);
   --ops-pill-sub-color-dark: rgba(255,214,153,0.7);
   --ops-pill-icon-bg-dark: rgba(255,183,77,0.3);
   --ops-pill-icon-color-dark: #ffcf94;
   --ops-pill-icon-shadow-dark: 0 10px 22px rgba(20,10,2,0.68);
}
.ops-summary-pill--carga.ops-summary-pill--metric-ton {
   --ops-pill-bg: linear-gradient(135deg, rgba(255,193,7,0.24), rgba(255,224,130,0.4));
   --ops-pill-icon-bg: rgba(255,204,83,0.32);
   --ops-pill-icon-color: #a05a00;
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(63,33,5,0.88), rgba(51,26,4,0.82));
   --ops-pill-icon-bg-dark: rgba(255,204,102,0.35);
}

.ops-summary-pill--general {
   --ops-pill-bg: linear-gradient(135deg, rgba(56,142,60,0.18), rgba(165,214,167,0.32));
   --ops-pill-border: rgba(46,125,50,0.28);
   --ops-pill-border-hover: rgba(46,125,50,0.42);
   --ops-pill-shadow: 0 16px 36px rgba(46,125,50,0.22);
   --ops-pill-shadow-hover: 0 24px 48px rgba(46,125,50,0.28);
   --ops-pill-text: #104329;
   --ops-pill-value-color: #0c371f;
   --ops-pill-label-color: rgba(16,67,41,0.74);
   --ops-pill-sub-color: rgba(16,67,41,0.64);
   --ops-pill-icon-bg: rgba(76,175,80,0.2);
   --ops-pill-icon-color: #225c33;
   --ops-pill-icon-shadow: 0 6px 14px rgba(56,142,60,0.2);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(13,41,23,0.9), rgba(11,32,20,0.85));
   --ops-pill-border-dark: rgba(129,199,132,0.35);
   --ops-pill-border-hover-dark: rgba(165,214,167,0.5);
   --ops-pill-shadow-dark: 0 18px 46px rgba(9,25,15,0.72);
   --ops-pill-shadow-hover-dark: 0 26px 56px rgba(9,25,15,0.86);
   --ops-pill-text-dark: #daf3e3;
   --ops-pill-value-color-dark: #ebf9ef;
   --ops-pill-label-color-dark: rgba(184,232,196,0.78);
   --ops-pill-sub-color-dark: rgba(184,232,196,0.7);
   --ops-pill-icon-bg-dark: rgba(102,187,106,0.32);
   --ops-pill-icon-color-dark: #a9e5b0;
   --ops-pill-icon-shadow-dark: 0 10px 22px rgba(6,18,11,0.62);
}
.ops-summary-pill--general.ops-summary-pill--metric-passengers {
   --ops-pill-bg: linear-gradient(135deg, rgba(102,187,106,0.22), rgba(200,230,201,0.4));
   --ops-pill-icon-bg: rgba(129,199,132,0.32);
   --ops-pill-bg-dark: linear-gradient(135deg, rgba(16,46,28,0.86), rgba(14,37,24,0.8));
   --ops-pill-icon-bg-dark: rgba(144,238,144,0.32);
}

.ops-mini-grid {
   display: grid;
   grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
   gap: 1rem;
}
.ops-mini-card {
   position: relative;
   border-radius: 18px;
   padding: 1.3rem 1.4rem 1.2rem;
   background: var(--ops-mini-bg, linear-gradient(135deg, rgba(250,250,250,0.95), rgba(240,240,240,0.9)));
   border: 1px solid var(--ops-mini-border, rgba(16,60,110,0.08));
   box-shadow: var(--ops-mini-shadow, 0 16px 36px rgba(9,40,70,0.08));
   overflow: hidden;
   transition: transform .2s ease, box-shadow .2s ease;
}
.ops-mini-card:hover {
   transform: translateY(-4px);
   box-shadow: var(--ops-mini-shadow-hover, 0 22px 44px rgba(9,40,70,0.12));
}
.ops-mini-card__icon {
   width: 48px;
   height: 48px;
   border-radius: 16px;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 1.25rem;
   background: var(--ops-mini-icon-bg, rgba(21,101,192,0.18));
   color: var(--ops-mini-icon-color, #0d47a1);
   box-shadow: var(--ops-mini-icon-shadow, 0 10px 24px rgba(21,101,192,0.18));
   margin-bottom: 1rem;
}
.ops-mini-card__label {
   text-transform: uppercase;
   font-size: 0.72rem;
   letter-spacing: 0.08em;
   font-weight: 700;
   color: var(--ops-mini-label, rgba(12,51,96,0.76));
   margin-bottom: 0.35rem;
}
.ops-mini-card__value {
   font-size: 2rem;
   font-weight: 700;
   margin: 0;
   color: var(--ops-mini-value, #072445);
}
.ops-mini-card__meta {
   display: flex;
   flex-wrap: wrap;
   gap: 0.75rem;
   margin-top: 0.75rem;
   font-size: 0.85rem;
   color: var(--ops-mini-meta, rgba(12,51,96,0.72));
}
.ops-mini-card__meta i {
   color: inherit;
}
.ops-mini-card__footer {
   margin-top: 0.9rem;
}
.ops-mini-card__badge {
   background: rgba(255,255,255,0.88) !important;
   border: 1px solid rgba(12,51,96,0.1);
   font-weight: 600;
}
.ops-mini-card__progress {
   margin-top: 0.9rem;
}
.ops-mini-card--comercial {
   --ops-mini-bg: linear-gradient(135deg, rgba(30,136,229,0.16), rgba(144,202,249,0.32));
   --ops-mini-border: rgba(25,118,210,0.28);
   --ops-mini-shadow: 0 16px 36px rgba(25,118,210,0.16);
   --ops-mini-shadow-hover: 0 24px 48px rgba(25,118,210,0.24);
   --ops-mini-icon-bg: rgba(21,101,192,0.18);
   --ops-mini-icon-color: #0d47a1;
   --ops-mini-label: rgba(12,51,96,0.8);
   --ops-mini-value: #0a2b4c;
   --ops-mini-meta: rgba(12,51,96,0.75);
}
.ops-mini-card--carga {
   --ops-mini-bg: linear-gradient(135deg, rgba(255,152,0,0.16), rgba(255,213,79,0.32));
   --ops-mini-border: rgba(255,143,0,0.28);
   --ops-mini-shadow: 0 16px 36px rgba(255,152,0,0.14);
   --ops-mini-shadow-hover: 0 24px 48px rgba(255,152,0,0.22);
   --ops-mini-icon-bg: rgba(255,183,77,0.22);
   --ops-mini-icon-color: #b25a00;
   --ops-mini-label: rgba(123,65,0,0.74);
   --ops-mini-value: #6a3900;
   --ops-mini-meta: rgba(123,65,0,0.68);
}
.ops-mini-card--general {
   --ops-mini-bg: linear-gradient(135deg, rgba(56,142,60,0.16), rgba(165,214,167,0.32));
   --ops-mini-border: rgba(46,125,50,0.24);
   --ops-mini-shadow: 0 16px 36px rgba(46,125,50,0.16);
   --ops-mini-shadow-hover: 0 24px 48px rgba(46,125,50,0.22);
   --ops-mini-icon-bg: rgba(76,175,80,0.2);
   --ops-mini-icon-color: #225c33;
   --ops-mini-label: rgba(16,67,41,0.74);
   --ops-mini-value: #0c3a24;
   --ops-mini-meta: rgba(16,67,41,0.7);
}
.ops-mini-card--neutral {
   --ops-mini-bg: linear-gradient(135deg, rgba(120,144,156,0.16), rgba(176,190,197,0.32));
   --ops-mini-border: rgba(96,125,139,0.26);
   --ops-mini-shadow: 0 16px 36px rgba(96,125,139,0.14);
   --ops-mini-shadow-hover: 0 24px 48px rgba(96,125,139,0.22);
   --ops-mini-icon-bg: rgba(96,125,139,0.22);
   --ops-mini-icon-color: #37474f;
   --ops-mini-label: rgba(38,50,56,0.76);
   --ops-mini-value: #263238;
   --ops-mini-meta: rgba(38,50,56,0.7);
}
.ops-type-icon {
   width: 38px;
   height: 38px;
   border-radius: 14px;
   display: inline-flex;
   align-items: center;
   justify-content: center;
   font-size: 1rem;
}
.ops-type-icon--comercial { background: rgba(21,101,192,0.15); color: #0d47a1; }
.ops-type-icon--carga { background: rgba(255,152,0,0.18); color: #b25a00; }
.ops-type-icon--general { background: rgba(56,142,60,0.18); color: #225c33; }
.ops-type-icon--neutral { background: rgba(96,125,139,0.2); color: #37474f; }

.progress-thin {
   height: 6px;
   border-radius: 999px;
}
.progress-thin .progress-bar {
   border-radius: 999px;
}

.ops-summary-table table {
   --bs-table-striped-bg: rgba(6, 57, 112, 0.05);
}
.ops-summary-table thead th {
   font-size: 0.85rem;
   font-weight: 700;
   color: rgba(12,51,96,0.82);
   border-bottom: 0;
}
.ops-summary-table tbody tr:hover {
   background: rgba(30,136,229,0.08);
}
.ops-summary-table tfoot tr {
   background: rgba(12,51,96,0.08);
}
.ops-summary-table caption {
   caption-side: top;
   font-weight: 600;
   letter-spacing: 0.015em;
}

@media (max-width: 768px) {
   .ops-mini-card {
      padding: 1.1rem 1.2rem;
   }
   .ops-mini-card__value {
      font-size: 1.6rem;
   }
}

@media (max-width: 768px) {
   .ops-summary-hero { flex-direction: column; align-items: flex-start; gap: 1.1rem; padding: 1.2rem 1.3rem; }
   .ops-summary-hero-badge { margin-left: 0; }
}
@media (max-width: 576px) {
   .ops-summary-hero { padding: 1.2rem 1rem; gap: 1rem; }
   .ops-summary-hero-icon { width: 64px; height: 64px; border-radius: 16px; }
   .ops-summary-hero-period { font-size: 1.45rem; }
   .ops-summary-hero-badge { font-size: .78rem; padding: .4rem .9rem; }
}

body.dark-mode .ops-summary-hero {
   background: linear-gradient(135deg, rgba(30,41,59,0.88), rgba(15,23,42,0.95));
   box-shadow: none;
   border-color: rgba(148,163,184,0.22);
   color: #e8f1ff;
}
body.dark-mode .ops-summary-hero-media { background: linear-gradient(135deg, rgba(15,23,42,0.95), rgba(2,6,23,0.95)); }
body.dark-mode .ops-summary-hero-media::before { filter: saturate(0.88) brightness(0.52); }
body.dark-mode .ops-summary-hero-overlay { background: rgba(15,23,42,0.62); box-shadow: inset 0 0 160px rgba(0,0,0,0.72); }
body.dark-mode .ops-summary-hero-media::after { opacity: .24; }
body.dark-mode .ops-summary-hero--yearly { background: linear-gradient(135deg, rgba(76,29,149,0.85), rgba(67,56,202,0.82)); }
body.dark-mode .ops-summary-hero--monthly { background: linear-gradient(135deg, rgba(30,64,175,0.85), rgba(37,99,235,0.78)); }
body.dark-mode .ops-summary-hero--weekly { background: linear-gradient(135deg, rgba(21,94,59,0.85), rgba(4,120,87,0.74)); }
body.dark-mode .ops-summary-hero::before,
body.dark-mode .ops-summary-hero::after { background: rgba(148,163,184,0.18); }
body.dark-mode .ops-summary-hero-icon { background: rgba(15,23,42,0.3); box-shadow: none; color: inherit; }
body.dark-mode .ops-summary-hero-kicker { color: rgba(226,232,240,0.78); }
body.dark-mode .ops-summary-hero-caption { color: rgba(226,232,240,0.86); }
body.dark-mode .ops-summary-hero-badge { background: rgba(148,163,184,0.2); color: #f1f5f9; box-shadow: none; }
body.dark-mode .ops-summary-pill {
   background: var(--ops-pill-bg-dark, linear-gradient(135deg, rgba(29,47,68,0.92), rgba(22,34,52,0.78)));
   border-color: var(--ops-pill-border-dark, rgba(77,171,247,0.18));
   box-shadow: var(--ops-pill-shadow-dark, 0 18px 42px rgba(0,0,0,0.6));
   color: var(--ops-pill-text-dark, #f3f7ff);
}
body.dark-mode .ops-summary-pill:hover {
   box-shadow: var(--ops-pill-shadow-hover-dark, 0 24px 52px rgba(0,0,0,0.72));
   border-color: var(--ops-pill-border-hover-dark, rgba(123,200,255,0.42));
}
body.dark-mode .ops-summary-pill .pill-icon {
   background: var(--ops-pill-icon-bg-dark, rgba(77,171,247,0.18));
   color: var(--ops-pill-icon-color-dark, #a9d7ff);
   box-shadow: var(--ops-pill-icon-shadow-dark, 0 8px 18px rgba(0,0,0,0.45));
}
body.dark-mode .ops-summary-pill::before {
   opacity: .18;
   background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0));
}
body.dark-mode .ops-summary-empty {
   background: rgba(30,41,59,0.35);
   border-color: rgba(148,163,184,0.28);
   color: #d4e2ff;
}
body.dark-mode .ops-summary-reco {
   border-left-color: rgba(148,197,255,0.4);
   color: #9fb4cc;
}
body.dark-mode .ops-summary-pill .pill-value { color: var(--ops-pill-value-color-dark, #f3f7ff); }
body.dark-mode .ops-summary-pill .pill-label,
body.dark-mode .ops-summary-pill .pill-sub { color: var(--ops-pill-label-color-dark, #9fb4cc); }

/* Modal de filtros de Operaciones Totales */
#opsFiltersModal .modal-content { border-radius: 20px; border: none; box-shadow: 0 30px 80px rgba(13,71,161,0.2); }
#opsFiltersModal .modal-header { border-bottom: none; padding-bottom: .5rem; }
#opsFiltersModal .modal-title { text-transform: uppercase; letter-spacing: .05em; font-weight: 700; color: var(--primary-color); }
#opsFiltersModal .modal-body {
   background: linear-gradient(180deg, rgba(66,165,245,0.1) 0%, rgba(255,255,255,0.98) 100%);
   border-radius: 18px;
   border: 1px solid rgba(13,71,161,0.12);
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
   padding: 1.5rem;
}
#opsFiltersModal .modal-footer { border-top: none; padding-top: 0; }
#opsFiltersModal h6.text-muted { color: var(--primary-color-dark) !important; font-weight: 700; letter-spacing: .05em; text-transform: uppercase; }
#opsFiltersModal .form-check { width: fit-content; }
#opsFiltersModal .form-check-input { box-shadow: none; }
#opsFiltersModal .form-check-input:focus { box-shadow: 0 0 0 .2rem rgba(13,71,161,0.18); }
#opsFiltersModal .months-chips { gap: .35rem; }
#opsFiltersModal .months-chips .chip { margin: 3px; }

body.dark-mode #opsFiltersModal .modal-title { color: #9cd3ff; }
body.dark-mode #opsFiltersModal .modal-body {
   background: linear-gradient(180deg, rgba(20,30,48,0.95) 0%, rgba(16,24,40,0.95) 100%);
   border-color: rgba(77,171,247,0.18);
   box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
}
body.dark-mode #opsFiltersModal h6.text-muted { color: #9fb4cc !important; }

/* Cards de estadísticas diarias */
#daily-stats-row .stat-card { background: var(--card-bg); }
body.dark-mode #daily-stats-row .stat-card { background:#233142; }

/* Ajustes responsivos para gráficas de inicio (Operaciones Totales) */
#operaciones-totales-section .chart-container.ops-chart {
   position: relative;
   height: clamp(360px, 45vw, 520px);
   min-height: 340px;
   padding: clamp(12px, 1.8vw, 18px);
   border-radius: 18px;
}
#operaciones-totales-section .chart-container.ops-chart canvas {
   width: 100% !important;
   height: 100% !important;
}
@media (max-width: 1400px) {
   #operaciones-totales-section .chart-container.ops-chart { height: clamp(340px, 55vw, 480px); }
}
@media (max-width: 1200px) {
   #operaciones-totales-section .chart-container.ops-chart { height: clamp(330px, 60vw, 460px); }
}
@media (max-width: 992px) {
   #operaciones-totales-section .chart-container.ops-chart { height: clamp(310px, 66vw, 430px); }
}
@media (max-width: 768px) {
   #operaciones-totales-section .chart-container.ops-chart {
      height: clamp(300px, 78vw, 420px);
      width: 100%;
      margin-inline: auto;
      padding: clamp(10px, 3.4vw, 14px);
      border-radius: 16px;
   }
   #operaciones-totales-section .update-note { width: 100%; }
}
@media (max-width: 576px) {
   #operaciones-totales-section .chart-container.ops-chart {
      height: clamp(280px, 92vw, 380px);
      padding: clamp(9px, 4vw, 13px);
   }
}
@media (max-width: 420px) {
   #operaciones-totales-section .chart-container.ops-chart {
      height: clamp(260px, 100vw, 360px);
      padding: clamp(8px, 4.8vw, 12px);
      border-radius: 14px;
   }
}

/* Mejora de contraste adicional en modo oscuro para tipografías y controles */
body.dark-mode h1, body.dark-mode h2, body.dark-mode h3, body.dark-mode h4, body.dark-mode h5, body.dark-mode h6 { color:#f1f5f9; }
body.dark-mode .text-muted { color:#b0bac6 !important; }
body.dark-mode .nav-tabs .nav-link { color:#b8c4d1; }
body.dark-mode .nav-tabs .nav-link.active { color:#fff; border-bottom-color:#4dabf7; }
body.dark-mode .btn-outline-secondary { color:#dbe5ee; border-color:#3c4a57; }
body.dark-mode .btn-outline-secondary:hover { background:#2a3643; color:#fff; }
body.dark-mode .download-btn { color:#fff; }
body.dark-mode .table thead th { color:#e8eaed; }

/* Manifiestos */
#manifest-preview-container { min-height: 260px; display: flex; align-items: center; justify-content: center; border-radius:14px; background: transparent; border:1px dashed transparent; }
body.dark-mode #manifest-preview-container { background: transparent; }
#manifest-records-table tbody tr { cursor: pointer; }
#manifest-records-table tbody tr:hover { background: rgba(0,0,0,0.04); }
body.dark-mode #manifest-records-table tbody tr:hover { background: rgba(255,255,255,0.06); }
/* Capa de texto seleccionable sobre el canvas/imagen del PDF (para copiar texto) */
#manifest-text-layer { color: rgba(20,20,20,0.88); mix-blend-mode: multiply; }
#manifest-text-layer span { color: inherit; user-select: text; -webkit-user-select: text; }
body.dark-mode #manifest-text-layer { color: rgba(240,240,240,0.9); mix-blend-mode: normal; }

/* ======================= Manifiestos UI Refresh ======================= */
#manifiestos-section .manifest-layout { align-items: stretch; }
#manifiestos-section .manifest-sidebar { height: 100%; }
#manifiestos-section .manifest-pane { background: var(--card-bg); border:1px solid rgba(13,71,161,0.12); border-radius:18px; padding:1.25rem; box-shadow:0 14px 28px rgba(15,23,42,0.08); transition:transform .18s ease, box-shadow .18s ease; display:flex; flex-direction:column; gap:1.1rem; }
#manifiestos-section .manifest-pane:not(.manifest-pane-form):hover { transform:translateY(-2px); box-shadow:0 18px 34px rgba(15,23,42,0.12); }
#manifiestos-section .manifest-pane-controls { display:flex; flex-direction:column; gap:0.75rem; }
#manifiestos-section .manifest-pane-preview { display:flex; flex-direction:column; gap:1rem; }
#manifiestos-section .manifest-controls { row-gap:0.6rem; }
#manifiestos-section .manifest-controls .btn,
#manifiestos-section .manifest-controls .form-control,
#manifiestos-section .manifest-controls .form-select { border-radius:10px; }
#manifest-scan-pdf { background: linear-gradient(135deg, var(--primary-color), #1e88e5); border:none; color:#fff; font-weight:600; letter-spacing:0.01em; padding:0.45rem 1.35rem; box-shadow:0 12px 24px rgba(30,136,229,0.28); transition:transform .16s ease, box-shadow .16s ease, filter .18s ease; }
#manifest-scan-pdf:hover:not(:disabled) { transform:translateY(-1px); box-shadow:0 16px 30px rgba(30,136,229,0.34); filter:brightness(1.05); }
#manifest-scan-pdf:focus-visible { outline:3px solid rgba(30,136,229,0.38); outline-offset:2px; }
#manifest-scan-pdf:disabled { opacity:0.9; }
#manifest-scan-pdf.is-scanning { cursor:progress; box-shadow:0 10px 22px rgba(25,118,210,0.28); filter:brightness(0.97); }
#manifest-scan-pdf.is-scanning .spinner-border { vertical-align:middle; }
body.dark-mode #manifest-scan-pdf { box-shadow:0 12px 26px rgba(30,136,229,0.45); color:#fff; }
body.dark-mode #manifest-scan-pdf:hover:not(:disabled) { box-shadow:0 16px 32px rgba(30,136,229,0.5); }
#manifiestos-section .manifest-mobile-hint { background:rgba(13,71,161,0.06); border-radius:12px; padding:0.75rem 1rem; }
#manifiestos-section .manifest-preview-shell { background:linear-gradient(135deg, rgba(13,71,161,0.07), rgba(25,118,210,0.12)); border-radius:16px; padding:1rem; border:1px solid rgba(13,71,161,0.12); }
#manifiestos-section .manifest-preview-card { background:rgba(255,255,255,0.94); border:1px dashed rgba(13,71,161,0.22); }
#manifiestos-section .manifest-status-stack { display:flex; flex-direction:column; gap:0.6rem; }
#manifiestos-section .manifest-debug-toggle { border-radius:12px; background:rgba(13,71,161,0.07); padding:0.5rem 0.75rem; }
#manifiestos-section .manifest-debug-toggle summary { cursor:pointer; }
#manifiestos-section .manifest-pane-form { padding:1.5rem; display:flex; flex-direction:column; gap:1.25rem; }
#manifiestos-section .manifest-form-shell { background:linear-gradient(145deg, rgba(255,255,255,0.96), rgba(233,242,255,0.96)); border-radius:20px; padding:1.25rem; box-shadow:0 18px 34px rgba(15,23,42,0.12); }
#manifiestos-section .manifest-form-shell .mf-header { position:relative; background:linear-gradient(135deg, rgba(13,71,161,0.18), rgba(25,118,210,0.32)); border-radius:16px; padding:1.2rem 1.35rem; overflow:hidden; box-shadow:inset 0 0 0 1px rgba(255,255,255,0.12); }
#manifiestos-section .manifest-form-shell .mf-header::after { content:""; position:absolute; inset:-45% -25% auto -20%; height:120%; background: radial-gradient(circle at 32% 46%, rgba(255,255,255,0.3), rgba(255,255,255,0)); opacity:.5; pointer-events:none; mix-blend-mode:screen; }
#manifiestos-section .manifest-form-shell .mf-body { margin-top:1.2rem; background:rgba(255,255,255,0.92); border-radius:16px; padding:1.2rem; box-shadow:inset 0 0 0 1px rgba(13,71,161,0.08); }
#manifiestos-section .manifest-form-shell .mf-body .form-control,
#manifiestos-section .manifest-form-shell .mf-body .form-select { border-radius:10px; }
#manifiestos-section .manifest-records-block { background:rgba(255,255,255,0.9); border-radius:18px; padding:1.25rem; box-shadow:inset 0 0 0 1px rgba(13,71,161,0.08); }
#manifiestos-section .plane-progress { background:rgba(13,71,161,0.08); border-radius:12px; padding:0.75rem 1rem; }
#manifiestos-section .plane-progress-label { color:rgba(13,71,161,0.75) !important; }

body.dark-mode #manifiestos-section .manifest-pane { background:rgba(20,30,46,0.95); border-color:rgba(148,197,255,0.14); box-shadow:0 20px 36px rgba(0,0,0,0.55); }
body.dark-mode #manifiestos-section .manifest-pane:not(.manifest-pane-form):hover { box-shadow:0 24px 40px rgba(0,0,0,0.65); }
body.dark-mode #manifiestos-section .manifest-mobile-hint { background:rgba(148,197,255,0.14); color:#d6e9ff !important; }
body.dark-mode #manifiestos-section .manifest-preview-shell { background:linear-gradient(135deg, rgba(148,197,255,0.12), rgba(25,118,210,0.24)); border-color:rgba(148,197,255,0.25); }
body.dark-mode #manifiestos-section .manifest-preview-card { background:rgba(16,27,42,0.92); border-color:rgba(148,197,255,0.32); }
body.dark-mode #manifiestos-section .manifest-status-stack .text-muted { color:#9fb4cc !important; }
body.dark-mode #manifiestos-section .manifest-debug-toggle { background:rgba(148,197,255,0.18); }
body.dark-mode #manifiestos-section .manifest-form-shell { background:linear-gradient(145deg, rgba(20,30,46,0.95), rgba(13,19,31,0.92)); box-shadow:0 25px 46px rgba(0,0,0,0.65); }
body.dark-mode #manifiestos-section .manifest-form-shell .mf-header { background:linear-gradient(135deg, rgba(148,197,255,0.26), rgba(25,118,210,0.38)); box-shadow:inset 0 0 0 1px rgba(148,197,255,0.25); }
body.dark-mode #manifiestos-section .manifest-form-shell .mf-header::after { opacity:.35; background: radial-gradient(circle at 45% 40%, rgba(148,197,255,0.45), rgba(33,82,150,0)); }
body.dark-mode #manifiestos-section .manifest-form-shell .mf-body { background:rgba(16,27,42,0.92); box-shadow:inset 0 0 0 1px rgba(148,197,255,0.2); }
body.dark-mode #manifiestos-section .manifest-records-block { background:rgba(16,27,42,0.9); box-shadow:inset 0 0 0 1px rgba(148,197,255,0.2); }
body.dark-mode #manifiestos-section .plane-progress { background:rgba(25,118,210,0.28); }
body.dark-mode #manifiestos-section .plane-progress-label { color:#cfe6ff !important; }
/* Progreso tipo avión sobre barra */
.plane-progress { width: 100%; }
.plane-progress-track { position: relative; width: 100%; height: 16px; background: linear-gradient(90deg, #e3f2fd, #e8f5e9); border-radius: 12px; overflow: hidden; border: 1px solid #8ec5ff; box-shadow: inset 0 1px 2px rgba(0,0,0,0.08); }
.plane-progress-fill { position: absolute; left: 0; top: 0; bottom: 0; width: 0%; background: linear-gradient(90deg, #00bcd4, #2196f3, #0d47a1); transition: width .25s ease; box-shadow: 0 0 10px rgba(33,150,243,0.35); }
.plane-progress-plane { position: absolute; top: 50%; left: 0%; transform: translate(-50%, -50%); font-size: 22px; filter: drop-shadow(0 1px 1px rgba(0,0,0,.25)) drop-shadow(0 0 6px rgba(33,150,243,0.45)); transition: left .25s ease; }
.plane-progress-label { text-align: right; margin-top: 6px; font-variant-numeric: tabular-nums; color: var(--primary-color); font-weight: 600; }
body.dark-mode .plane-progress-track { background: linear-gradient(90deg, #143955, #0f2a3d); border-color: #2b88ff; }
body.dark-mode .plane-progress-fill { background: linear-gradient(90deg, #00bcd4, #42a5f5, #90caf9); box-shadow: 0 0 14px rgba(66,165,245,0.45); }
body.dark-mode .plane-progress-label { color: #90caf9; }

/* Manifiestos: layout y legibilidad */
#manifiestos-section .form-label { font-weight: 600; }
#manifiestos-section .btn-group .btn { min-width: 120px; }
#manifiestos-section .card-body hr { margin: .8rem 0; }
#manifiestos-section .form-text { font-size: .75rem; }
#manifiestos-section .table-sm th, #manifiestos-section .table-sm td { vertical-align: middle; }
#manifiestos-section .table-sm input.form-control-sm { min-height: 32px; }
#manifiestos-section .table { font-variant-numeric: tabular-nums; }
#manifiestos-section .d-flex.gap-2 > .btn { white-space: nowrap; }
@media (max-width: 768px) {
   #manifiestos-section .btn-group .btn { min-width: auto; }
}

/* Manifiestos: Sheet UI for Llegada (NTP theme) */
.mf-sheet { background: #fff; border: 1px solid var(--border-color); border-radius: 12px; overflow: hidden; box-shadow: 0 6px 18px rgba(0,0,0,0.06); }
.mf-ntp { --ntp-accent: #0d2d56; --ntp-accent-2: #1f5a99; --ntp-light: #f0f6ff; }
.mf-header { position:relative; background: linear-gradient(135deg, var(--ntp-accent), var(--ntp-accent-2)); padding: .9rem 1.1rem; border-radius:14px; overflow:hidden; box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08); }
.mf-header::after { content:""; position:absolute; inset:-45% -25% auto -15%; height:120%; background: radial-gradient(circle at 30% 45%, rgba(255,255,255,0.35), rgba(255,255,255,0)); opacity:.45; pointer-events:none; mix-blend-mode:screen; }
.mf-header-logo { width: 44px; height: 44px; border-radius: 50%; object-fit: cover; border: 2px solid rgba(255,255,255,0.6); box-shadow: 0 2px 6px rgba(0,0,0,0.2); }
.mf-header-title { position:relative; color: #fff; font-size: 1.18rem; font-weight: 700; letter-spacing: .45px; line-height: 1.08; text-shadow: 0 3px 12px rgba(9,20,38,0.45), 0 0 18px rgba(255,255,255,0.25); }
.mf-header-subtitle { position:relative; color: rgba(255,255,255,0.92); font-size: .82rem; line-height: 1.05; letter-spacing: .12em; text-transform: uppercase; text-shadow: 0 2px 6px rgba(8,20,44,0.45), 0 0 12px rgba(255,255,255,0.2); }
.mf-header-meta { display:flex; align-items:flex-end; gap:1rem; flex-wrap: wrap; }
.mf-header-meta .form-label { color: rgba(255,255,255,0.95); font-weight: 600; letter-spacing: .12em; text-transform: uppercase; text-shadow: 0 2px 8px rgba(8,20,44,0.45); }
.mf-header-input { min-width: 180px; background: rgba(255,255,255,0.92); border: 1px solid rgba(255,255,255,0.48); box-shadow: 0 4px 12px rgba(8,20,44,0.25); color: #0d2d56; font-weight: 600; transition: box-shadow .2s ease, border-color .2s ease, background .2s ease; }
.mf-header-input:focus { border-color: rgba(255,255,255,0.85); box-shadow: 0 0 0 0.2rem rgba(255,255,255,0.25); background: rgba(255,255,255,0.98); color: #062041; }
.mf-body { padding: 1rem; }
.mf-section-title { position: relative; padding-left: .6rem; }
.mf-section-title::before { content: ""; position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 4px; height: 1.1em; background: var(--ntp-accent); border-radius: 8px; }
.mf-times { background: var(--mf-times-bg, #f7f9fc); }
body.dark-mode .mf-sheet { background: #1e2a38; border-color: rgba(255,255,255,0.08); box-shadow: none; }
body.dark-mode .mf-header { background: linear-gradient(135deg, #234a7a, #0d2d56); box-shadow: inset 0 0 0 1px rgba(148,197,255,0.18); }
body.dark-mode .mf-header::after { opacity:.4; background: radial-gradient(circle at 38% 42%, rgba(148,197,255,0.4), rgba(8,20,44,0)); }
body.dark-mode .mf-header-title, body.dark-mode .mf-header-subtitle { color: #e8eaed; text-shadow: 0 3px 10px rgba(0,0,0,0.6); }
body.dark-mode .mf-header-meta .form-label { color: rgba(215,230,255,0.92); text-shadow: 0 2px 8px rgba(0,0,0,0.65); }
body.dark-mode .mf-header-input { background: rgba(12,20,36,0.9); border-color: rgba(148,197,255,0.35); color: #e6f2ff; box-shadow: 0 4px 12px rgba(0,0,0,0.45); }
body.dark-mode .mf-header-input:focus { border-color: rgba(148,197,255,0.6); box-shadow: 0 0 0 0.2rem rgba(77,171,247,0.32); }
body.dark-mode .mf-section-title::before { background: #4dabf7; }
@media (max-width: 576px) { .mf-header-input { min-width: 140px; } }
.text-light-ntp { color: rgba(255,255,255,0.95) !important; text-transform: uppercase; letter-spacing: .12em; font-weight: 600; text-shadow: 0 2px 8px rgba(8,20,44,0.45); }
body.dark-mode .text-light-ntp { color: rgba(215,230,255,0.92) !important; text-shadow: 0 2px 8px rgba(0,0,0,0.6); }

/* Toolbar export button spacing */
#ops-export-all-btn { white-space: nowrap; }

/* Filtros responsive apretados en móviles */
@media (max-width: 768px) {
  #ops-sections-filters, #ops-years-filters { width:100%; }
  #ops-sections-filters .form-check, #ops-years-filters .form-check { margin-right: 8px; 
  }}

/* Compactar filtros de Inicio en 2 columnas (móvil) */
@media (max-width: 576px) {
   #interactivo-inicio-pane .filters-bar {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: .4rem .5rem;
   }
   #interactivo-inicio-pane .filters-bar .chip {
      width: 100%;
      min-width: 0 !important; /* override any inline min-width */
      justify-content: space-between;
   }
   #interactivo-inicio-pane .filters-bar .form-select,
   #interactivo-inicio-pane .filters-bar .form-control {
      width: 100%;
      font-size: .85rem;
      min-height: 30px;
      padding-top: 2px;
      padding-bottom: 2px;
   }
   #interactivo-inicio-pane .filters-bar .chip label { font-size: .78rem; }
   #interactivo-inicio-pane .filters-actions { grid-column: 1 / -1; justify-content: stretch; }
   #interactivo-inicio-pane .filters-actions #clear-filters { width: 100%; }
}

/* Tablet: 3 columnas para filtros y tipografía algo más compacta */
@media (min-width: 577px) and (max-width: 991.98px) {
   #interactivo-inicio-pane .filters-bar { display: grid; grid-template-columns: repeat(3, 1fr); gap: .5rem .75rem; }
   #interactivo-inicio-pane .filters-bar .chip { width: 100%; min-width: 0 !important; }
   #interactivo-inicio-pane .filters-bar .form-select,
   #interactivo-inicio-pane .filters-bar .form-control { width: 100%; font-size: .9rem; min-height: 32px; }
}

/* Ajustes de iframes PDF para móvil/tablet: igualar a escritorio con uso de viewport height */
@media (max-width: 576px) {
   .pdf-container, .pdf-preview-container { border: none; border-radius: 0; }
   .pdf-container iframe,
   .pdf-preview-container iframe { height: 88vh !important; max-height: 88vh; }
   .pdf-singlepage-viewer { max-height: 88vh; overflow-y: auto; }
}
@media (min-width: 577px) and (max-width: 991.98px) {
   .pdf-container iframe,
   .pdf-preview-container iframe { height: 82vh !important; max-height: 82vh; }
}

/* Servicio Médico: incrustación de Google Docs */
.doc-embed-wrapper { position: relative; border-radius: 1rem; }
.doc-embed-placeholder {
   border: 1px dashed rgba(15,23,42,0.2);
   border-radius: 1rem;
   padding: 1.75rem;
   text-align: center;
   color: rgba(71,85,105,0.88);
   background: rgba(248,250,252,0.75);
   display: flex;
   flex-direction: column;
   align-items: center;
   gap: .6rem;
}
.doc-embed-placeholder i { font-size: 1.75rem; color: #1d4ed8; }
.doc-embed-placeholder code { background: rgba(15,23,42,0.08); color: #0f172a; padding: .1rem .32rem; border-radius: .4rem; }
.doc-embed-frame { border-radius: 1rem; overflow: hidden; }
.doc-embed-wrapper.doc-embed-ready .doc-embed-placeholder { display: none; }
.doc-embed-wrapper.doc-embed-ready .doc-embed-frame { display: block !important; }
.doc-embed-wrapper.doc-embed-ready .doc-iframe { display: block !important; }
.doc-iframe { border: 0; width: 100%; height: 100%; border-radius: inherit; background: #fff; }
body.dark-mode .doc-embed-placeholder {
   border-color: rgba(148,163,184,0.28);
   background: rgba(15,23,42,0.7);
   color: rgba(226,232,240,0.85);
}
body.dark-mode .doc-embed-placeholder i { color: #93c5fd; }
body.dark-mode .doc-embed-placeholder code { background: rgba(148,163,184,0.22); color: #f8fafc; }

/* Summary collapse button spacing on mobile */
@media (max-width: 991.98px) {
   #summary-collapse { margin-top: .5rem; }
}

/* Header responsivo: logos y título visibles en móviles */
@media (max-width: 576px) {
   .header .header-content { flex-direction: column; align-items: center; gap: .4rem; }
   .aifa-logo { width: 70px; height: auto; }
   .header-logo { height: 28px; }
   .gob-logo { display: none; }
   .main-title { font-size: 1rem; line-height: 1.2; text-align: center; max-width: 85vw; }
   .header .header-content > .d-flex.align-items-center:first-child { width: 100%; justify-content: center; gap: .75rem; }
   .header .header-content > .d-flex.align-items-center:first-child .sidebar-toggler-btn { padding: .35rem .55rem; font-size: 1.3rem; }
   .header-center-content { width: 100%; }
   .header-center-content > .d-flex { flex-wrap: wrap; gap: .35rem; justify-content: center; }
   .header-center-content .header-title-row { justify-content: center; flex-wrap: wrap; gap: .4rem; align-items: center; }
   .header-center-content .header-title-row .header-logo { height: 28px; display: block; margin: 0 auto; }
   .header-right-content { width: 100%; justify-content: center; gap: .5rem; flex-wrap: wrap; }
   .clocks-wrapper { gap: 6px; }
   .utc-clock-container { display: none; }
   .formal-clock, .utc-clock { font-size: .95rem; padding: .1rem .5rem; }
}

/* Reducir animaciones y sombras costosas en móviles para mayor fluidez */
@media (max-width: 576px) {
   .animated-row, .fade-in-row { animation: none !important; opacity: 1 !important; transform: none !important; }
   .table-container-tech, .card, .pdf-preview-container { box-shadow: none; }
}

/* ===================== Fauna: Responsive ===================== */
/* Compactar filtros de Fauna como los de Inicio */
@media (max-width: 576px) {
   #fauna-section .fauna-filters,
   #gso-fauna-rescate-pane .fauna-rescate-filters { display: grid; grid-template-columns: 1fr 1fr; gap: .4rem .5rem; }
   #fauna-section .fauna-filters .chip,
   #gso-fauna-rescate-pane .fauna-rescate-filters .chip { width: 100%; min-width: 0 !important; justify-content: space-between; }
   #fauna-section .fauna-filters .chip-actions,
   #gso-fauna-rescate-pane .fauna-rescate-filters .chip-actions { grid-column: 1 / -1; justify-content: flex-end; gap: .5rem; }
   #fauna-section .fauna-filters .form-select,
   #fauna-section .fauna-filters .form-control,
   #gso-fauna-rescate-pane .fauna-rescate-filters .form-select,
   #gso-fauna-rescate-pane .fauna-rescate-filters .form-control { width: 100%; font-size: .85rem; min-height: 30px; padding-top: 2px; padding-bottom: 2px; }
   #fauna-section .fauna-filters label,
   #gso-fauna-rescate-pane .fauna-rescate-filters label { font-size: .78rem; }
}
@media (min-width: 577px) and (max-width: 991.98px) {
   #fauna-section .fauna-filters,
   #gso-fauna-rescate-pane .fauna-rescate-filters { display: grid; grid-template-columns: repeat(3, 1fr); gap: .5rem .75rem; }
   #fauna-section .fauna-filters .chip,
   #gso-fauna-rescate-pane .fauna-rescate-filters .chip { width: 100%; min-width: 0 !important; }
}

#gso-fauna-rescate-pane .fauna-rescate-filters .chip { min-height: 38px; }
#gso-fauna-rescate-pane .fauna-rescate-filters label { white-space: nowrap; }
#gso-fauna-rescate-pane .fauna-rescate-badges { gap: .75rem; }
#gso-fauna-rescate-pane .fauna-rescate-badges .badge { font-size: .9rem; padding: .55rem .9rem; border-radius: 999px; }
#gso-fauna-rescate-pane .fauna-rescate-badges #fauna-rescate-active-filter { padding: .55rem 1rem; border-radius: 12px; }
.fauna-rescate-stat {
   display: flex;
   align-items: center;
   gap: .75rem;
   padding: .85rem 1.1rem;
   border-radius: 18px;
   background: linear-gradient(135deg, rgba(240,253,244,.96), rgba(220,252,231,.88));
   border: 1px solid rgba(34,197,94,.18);
   box-shadow: 0 12px 30px rgba(34,197,94,.18);
   transition: transform .18s ease, box-shadow .18s ease;
   min-width: 220px;
}
.fauna-rescate-stat:hover { transform: translateY(-2px); box-shadow: 0 18px 36px rgba(34,197,94,.22); }
.fauna-rescate-stat .stat-icon {
   width: 46px;
   height: 46px;
   border-radius: 14px;
   display: flex;
   align-items: center;
   justify-content: center;
   font-size: 1.35rem;
   background: rgba(34,197,94,.18);
   color: #0f5132;
}
.fauna-rescate-stat .stat-copy { display: flex; flex-direction: column; gap: .15rem; }
.fauna-rescate-stat .stat-label {
   display: block;
   font-size: .78rem;
   letter-spacing: .04em;
   text-transform: uppercase;
   font-weight: 700;
   color: rgba(15,81,50,.76);
}
.fauna-rescate-stat .stat-value {
   display: block;
   font-size: 1.8rem;
   font-weight: 700;
   color: #0b441f;
   line-height: 1.1;
}
.fauna-rescate-stat.stat-individuals {
   background: linear-gradient(135deg, rgba(236,252,255,.96), rgba(207,250,254,.9));
   border-color: rgba(14,165,233,.22);
   box-shadow: 0 12px 30px rgba(14,165,233,.18);
}
.fauna-rescate-stat.stat-individuals .stat-icon { background: rgba(14,165,233,.18); color: #0c4a6e; }
.fauna-rescate-stat.stat-individuals .stat-label { color: rgba(12,74,110,.8); }
.fauna-rescate-stat.stat-individuals .stat-value { color: #0a3a57; }
body.dark-mode .fauna-rescate-stat {
   background: linear-gradient(135deg, rgba(9,45,25,.88), rgba(12,61,33,.82));
   border-color: rgba(34,197,94,.22);
   box-shadow: 0 14px 34px rgba(12,60,32,.38);
}
body.dark-mode .fauna-rescate-stat .stat-icon { background: rgba(34,197,94,.12); color: #9ef6c5; }
body.dark-mode .fauna-rescate-stat .stat-label { color: rgba(220,252,231,.72); }
body.dark-mode .fauna-rescate-stat .stat-value { color: #b5f7d9; }
body.dark-mode .fauna-rescate-stat.stat-individuals {
   background: linear-gradient(135deg, rgba(9,40,57,.88), rgba(12,54,75,.82));
   border-color: rgba(14,165,233,.24);
   box-shadow: 0 14px 34px rgba(9,54,75,.38);
}
body.dark-mode .fauna-rescate-stat.stat-individuals .stat-icon { background: rgba(14,165,233,.12); color: #7dd3fc; }
body.dark-mode .fauna-rescate-stat.stat-individuals .stat-label { color: rgba(207,250,254,.78); }
body.dark-mode .fauna-rescate-stat.stat-individuals .stat-value { color: #bae6fd; }
.fauna-relocation-chart { background: linear-gradient(180deg,#f8fafc 0%,#eef2f7 100%); border-radius: 16px; }
body.dark-mode .fauna-relocation-chart { background: linear-gradient(180deg, rgba(30,41,59,0.85), rgba(15,23,42,0.85)); }
#gso-fauna-rescate-pane .fauna-rescate-top-chipset h6 { font-size: 1rem; margin-bottom: .6rem; }
#gso-fauna-rescate-pane .fauna-rescate-top-chipset .badge,
#gso-fauna-rescate-pane #fauna-rescate-top-quadrants .badge {
   display: inline-flex;
   align-items: center;
   gap: .4rem;
   padding: .45rem .7rem;
   border-radius: 999px;
   font-size: .85rem;
   background: rgba(13,110,253,0.12);
   color: #0b3a7d;
   border: 1px solid rgba(13,110,253,0.24);
}
body.dark-mode #gso-fauna-rescate-pane .fauna-rescate-top-chipset .badge,
body.dark-mode #gso-fauna-rescate-pane #fauna-rescate-top-quadrants .badge {
   background: rgba(99,102,241,0.18);
   color: #dbeafe;
   border-color: rgba(99,102,241,0.28);
}
@media (max-width: 576px) {
   #gso-fauna-rescate-pane .fauna-rescate-badges { flex-direction: column; align-items: flex-start; }
   #gso-fauna-rescate-pane .fauna-rescate-badges .badge { width: 100%; justify-content: center; }
   #gso-fauna-rescate-pane .fauna-rescate-badges .fauna-rescate-stat { width: 100%; }
   #gso-fauna-rescate-pane .fauna-rescate-top-chipset .badge,
   #gso-fauna-rescate-pane #fauna-rescate-top-quadrants .badge { font-size: .9rem; width: 100%; justify-content: center; }
}

/* GSO: tarjeta multimedia y navegación rápida */
#fauna-section .gso-media-wrapper { max-width: 1100px; margin-left: auto; margin-right: auto; }
#fauna-section .gso-hero { border-radius: 1.5rem; overflow: hidden; box-shadow: 0 24px 60px -34px rgba(4,18,41,.65); }
#fauna-section .gso-hero::after {
   content: "";
   position: absolute;
   inset: 0;
   border-radius: inherit;
   box-shadow: inset 0 0 0 1px rgba(255,255,255,.08);
   pointer-events: none;
}
#fauna-section .gso-hero-media { width: 100%; height: 100%; object-fit: cover; filter: saturate(1.08) contrast(1.02); }
#fauna-section .gso-hero-overlay {
   position: absolute;
   inset: 0;
   background: linear-gradient(115deg, rgba(4,15,35,.55) 0%, rgba(4,32,84,.32) 42%, rgba(4,32,84,0) 100%);
   display: flex;
   align-items: center;
   justify-content: center;
   text-align: center;
   padding: 1.5rem;
   color: #f4f6fb;
   pointer-events: none;
}
#fauna-section .gso-hero-copy {
   max-width: 520px;
   padding: 1rem 1.25rem;
   backdrop-filter: blur(2px);
   border-radius: 1rem;
   background: linear-gradient(135deg, rgba(15,23,42,.32), rgba(15,23,42,.12));
   box-shadow: 0 12px 24px -18px rgba(4,10,24,.85);
}
#fauna-section .gso-hero-inner {
   pointer-events: auto;
   display: flex;
   flex-direction: column;
   align-items: center;
   justify-content: space-between;
   gap: 2.1rem;
   width: 100%;
   max-width: 560px;
   margin: 0 auto;
   height: 100%;
   padding: 2.4rem 1.5rem 2.1rem;
}
#fauna-section .gso-hero-actions {
   width: 100%;
   margin-top: auto;
}
#fauna-section .gso-hero-title {
   font-size: clamp(1.85rem, 2.6vw, 2.7rem);
   font-weight: 700;
   color: inherit;
   text-shadow: 0 14px 22px rgba(2,9,29,.55);
}
#fauna-section .gso-hero-caption {
   margin-top: .65rem;
   font-size: .9rem;
   font-weight: 500;
   letter-spacing: .04em;
   text-transform: uppercase;
   color: rgba(226,232,240,.92);
   display: inline-flex;
   align-items: center;
   gap: .35rem;
}
#fauna-section .gso-tab-buttons {
   display: flex;
   flex-wrap: wrap;
   justify-content: center;
   gap: .7rem;
   padding: .85rem 1.1rem;
   border-radius: 1.25rem;
   background: linear-gradient(140deg, rgba(15,23,42,.46), rgba(15,23,42,.2));
   box-shadow: 0 18px 34px -26px rgba(4,12,32,.85);
   backdrop-filter: blur(8px);
}
#fauna-section .gso-nav-btn {
   position: relative;
   border: 0;
   border-radius: 999px;
   padding: .75rem 1.35rem;
   flex: 1 1 220px;
   display: inline-flex;
   align-items: center;
   gap: .65rem;
   background: rgba(255,255,255,.16);
   color: #f8fafc;
   font-weight: 600;
   letter-spacing: .01em;
   text-transform: uppercase;
   font-size: .85rem;
   transition: transform .2s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
   cursor: pointer;
}
#fauna-section .gso-nav-btn .gso-nav-icon {
   width: 2.4rem;
   height: 2.4rem;
   border-radius: 50%;
   display: inline-flex;
   align-items: center;
   justify-content: center;
   background: rgba(15,23,42,.35);
   color: #dbeafe;
   font-size: 1.05rem;
   box-shadow: inset 0 0 0 1px rgba(148,197,255,.28);
}
#fauna-section .gso-nav-btn.active {
   background: linear-gradient(135deg, rgba(59,130,246,.95), rgba(14,165,233,.9));
   color: #fff;
   box-shadow: 0 14px 30px -18px rgba(56,128,255,.75);
}
#fauna-section .gso-nav-btn.active .gso-nav-icon {
   background: rgba(255,255,255,.25);
   color: #fff;
   box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
}
#fauna-section .gso-nav-btn:hover {
   transform: translateY(-2px);
   box-shadow: 0 18px 36px -22px rgba(82,150,255,.6);
}
#fauna-section .gso-nav-btn:focus-visible {
   outline: 0;
   box-shadow: 0 0 0 3px rgba(125,197,255,.45);
}
body.dark-mode #fauna-section .gso-tab-buttons {
   background: linear-gradient(140deg, rgba(9,20,46,.6), rgba(6,16,36,.32));
   box-shadow: 0 18px 36px -24px rgba(2,10,28,.95);
}
body.dark-mode #fauna-section .gso-nav-btn { background: rgba(255,255,255,.18); color: #e8f1ff; }
body.dark-mode #fauna-section .gso-nav-btn .gso-nav-icon { background: rgba(15,23,42,.42); color: #e0edff; }
body.dark-mode #fauna-section .gso-nav-btn.active { background: linear-gradient(135deg, rgba(99,102,241,.95), rgba(45,212,191,.9)); box-shadow: 0 18px 36px -22px rgba(88,155,255,.7); }
body.dark-mode #fauna-section .gso-nav-btn.active .gso-nav-icon { background: rgba(255,255,255,.32); color: #fff; }
body.dark-mode #fauna-section .gso-hero-overlay { background: linear-gradient(115deg, rgba(2,8,23,.78) 0%, rgba(3,21,55,.44) 52%, rgba(3,21,55,.16) 100%); }
body.dark-mode #fauna-section .gso-hero-copy { background: linear-gradient(135deg, rgba(15,23,42,.45), rgba(15,23,42,.18)); box-shadow: 0 16px 30px -18px rgba(1,7,18,.9); }

@media (max-width: 576px) {
   #fauna-section .gso-media-wrapper { padding: 0 0.75rem; }
   #fauna-section .gso-media-wrapper .ratio { --bs-aspect-ratio: 85%; }
   #fauna-section .gso-hero { border-radius: 1rem; }
   #fauna-section .gso-hero-copy { padding: 0.9rem 1rem; }
   #fauna-section .gso-hero-inner { gap: 1.2rem; padding: 1.4rem 1rem 1.1rem; }
   #fauna-section .gso-hero-title { font-size: clamp(1.35rem, 6vw, 1.75rem); }
   #fauna-section .gso-hero-caption { font-size: .78rem; letter-spacing: .02em; }
   #fauna-section .gso-tab-buttons { flex-direction: column; align-items: stretch; gap: .6rem; padding: .75rem; }
   #fauna-section .gso-nav-btn { flex: 1 1 auto; width: 100%; padding: .65rem 1rem; }
   #fauna-section .gso-nav-btn .gso-nav-icon { width: 2rem; height: 2rem; font-size: .95rem; }
   #fauna-section #fauna-total-badge { width: 100%; min-width: 0; padding: .9rem 1.2rem; align-items: center; gap: .35rem; }
   #fauna-section #fauna-total-badge .fauna-total-value { font-size: 1.6rem; }
   #fauna-section #fauna-total-badge::after { top: 10px; right: 12px; width: 10px; height: 10px; }
   #fauna-section #fauna-period-badge { width: 100%; text-align: center; font-size: .85rem; margin-left: 0; }
}

#fauna-section .gso-return {
   display: flex;
   justify-content: flex-start;
}
#fauna-section .gso-return-btn {
   border-radius: 999px;
   padding: .45rem 1.1rem;
   font-weight: 600;
}

/* Gráficas de Fauna: alturas menores en móviles/tablets para evitar scroll excesivo */
@media (max-width: 576px) {
   #fauna-section .chart-container { height: 280px !important; }
   #fauna-section .heatmap-container { height: 320px !important; }
   /* Permitir scroll horizontal si los labels son largos o hay muchos meses */
   #fauna-section .heatmap-container { overflow-x: auto; -webkit-overflow-scrolling: touch; }
   #fauna-section #fauna-heatmap { min-width: 520px; }
}
@media (min-width: 577px) and (max-width: 991.98px) {
   #fauna-section .chart-container { height: 300px !important; }
   #fauna-section .heatmap-container { height: 360px !important; }
}

/* Tabla de Fauna: asegurar scroll horizontal suave y encabezados pegajosos visibles */
#fauna-section .table-responsive { overflow-x: auto; -webkit-overflow-scrolling: touch; }
/* Dejamos el scroll vertical al documento completo (no caja interna) */
#fauna-section .fauna-table thead th { position: sticky; top: 0; z-index: 5; }
#fauna-section .fauna-table { font-variant-numeric: tabular-nums; }

/* ===================== Fauna: resúmenes más grandes ===================== */
#fauna-section #fauna-total-badge {
   position: relative;
   display: inline-flex;
   flex-direction: column;
   align-items: flex-start;
   gap: .4rem;
   padding: 1rem 1.6rem;
   border-radius: 20px;
   background: linear-gradient(135deg,#0061ff 0%,#4facfe 45%,#38b6ff 100%);
   box-shadow: 0 16px 34px -18px rgba(0,97,255,0.75), 0 8px 20px -12px rgba(0,64,148,0.55);
   color: #fff;
   font-weight: 600;
   min-width: 210px;
   min-height: 82px;
   border: none;
}
#fauna-section #fauna-total-badge .fauna-total-label {
   display: block;
   font-size: .85rem;
   text-transform: uppercase;
   letter-spacing: .18em;
   opacity: .78;
}
#fauna-section #fauna-total-badge .fauna-total-value {
   display: block;
   font-size: 2.1rem;
   font-weight: 800;
   line-height: 1;
}
#fauna-section #fauna-total-badge::after {
   content: '';
   position: absolute;
   top: 14px;
   right: 16px;
   width: 12px;
   height: 12px;
   border-radius: 50%;
   background: rgba(255,255,255,0.55);
   box-shadow: 0 0 0 8px rgba(255,255,255,0.16), 0 0 20px rgba(255,255,255,0.35);
}
#fauna-section #fauna-period-badge {
   font-size: 1rem;
   padding: .6rem 1rem;
   border-radius: 999px;
   background: rgba(0,97,255,0.08);
   color: #03409a;
   font-weight: 600;
   border: 1px solid rgba(0,97,255,0.18);
}
#fauna-section .card .d-flex.flex-wrap.gap-3.mb-3 .badge { /* asegurar consistencia si el layout cambia */
   font-size: 1rem;
}
body.dark-mode #fauna-section #fauna-total-badge {
   background: linear-gradient(135deg,#0d61ff 0%,#3a7dff 50%,#2aa1ff 100%);
   box-shadow: 0 18px 34px -16px rgba(0,72,214,0.7), 0 8px 22px -12px rgba(0,48,140,0.6);
}
body.dark-mode #fauna-section #fauna-period-badge {
   background: rgba(80,142,255,0.15);
   border-color: rgba(80,142,255,0.28);
   color: #cfe2ff;
}
#fauna-section .fauna-rescate-metric {
   position: relative;
   display: inline-flex;
   flex-direction: column;
   align-items: flex-start;
   gap: .35rem;
   padding: .9rem 1.45rem 1.1rem;
   border-radius: 18px;
   min-width: 200px;
   background: #ffffff;
   color: #0f172a;
   font-weight: 600;
   box-shadow: 0 18px 32px -22px rgba(15,23,42,0.38);
   border: none;
   transition: box-shadow .25s ease, transform .25s ease;
}
#fauna-section .fauna-rescate-metric:hover {
   transform: translateY(-2px);
   box-shadow: 0 22px 36px -22px rgba(15,23,42,0.45);
}
#fauna-section .fauna-rescate-metric .fauna-rescate-label {
   font-size: .78rem;
   text-transform: uppercase;
   letter-spacing: .16em;
   opacity: .78;
}
#fauna-section .fauna-rescate-metric .fauna-rescate-value {
   font-size: 2rem;
   font-weight: 800;
   line-height: 1;
}
#fauna-section .fauna-rescate-metric::after {
   content: '';
   position: absolute;
   top: 12px;
   right: 16px;
   width: 11px;
   height: 11px;
   border-radius: 50%;
   background: rgba(255,255,255,0.6);
   box-shadow: 0 0 0 8px rgba(255,255,255,0.2), 0 0 20px rgba(255,255,255,0.28);
}
#fauna-section #fauna-rescate-total-badge {
   background: linear-gradient(135deg,#0ea960 0%,#22c07c 48%,#74f0a5 100%);
   color: #ffffff;
   box-shadow: 0 20px 38px -20px rgba(14,169,96,0.55), 0 10px 20px -14px rgba(11,122,71,0.45);
}
#fauna-section #fauna-rescate-total-badge::after {
   background: rgba(255,255,255,0.75);
}
#fauna-section #fauna-rescate-individuals-badge {
   background: linear-gradient(135deg,#4f46e5 0%,#6366f1 52%,#8b5cf6 100%);
   color: #ffffff;
   box-shadow: 0 20px 38px -20px rgba(79,70,229,0.55), 0 10px 20px -14px rgba(69,60,201,0.45);
}
#fauna-section #fauna-rescate-individuals-badge::after {
   background: rgba(255,255,255,0.7);
}
body.dark-mode #fauna-section .fauna-rescate-metric {
   background: linear-gradient(135deg, rgba(15,23,42,0.92), rgba(30,41,59,0.82));
   color: #e2e8f0;
   box-shadow: 0 22px 36px -18px rgba(5,11,22,0.7);
}
body.dark-mode #fauna-section #fauna-rescate-total-badge {
   background: linear-gradient(135deg,#0b7d4a 0%,#11a05f 48%,#33d086 100%);
   box-shadow: 0 22px 38px -18px rgba(11,120,76,0.6);
}
body.dark-mode #fauna-section #fauna-rescate-individuals-badge {
   background: linear-gradient(135deg,#4338ca 0%,#5850ec 52%,#7c3aed 100%);
   box-shadow: 0 22px 38px -18px rgba(66,60,201,0.6);
}
@media (max-width: 576px) {
   #fauna-section .fauna-rescate-metric {
      width: 100%;
      min-width: 0;
      align-items: center;
      text-align: center;
   }
   #fauna-section .fauna-rescate-metric::after {
      right: 14px;
   }
   #fauna-section .fauna-rescate-metric .fauna-rescate-label {
      font-size: .74rem;
      letter-spacing: .13em;
   }
   #fauna-section .fauna-rescate-metric .fauna-rescate-value {
      font-size: 1.8rem;
   }
}
#fauna-top-hours {
   display: flex; flex-wrap: wrap; gap: .4rem .5rem;
}
#fauna-top-hours .badge {
   font-size: .95rem;
   padding: .45rem .6rem;
}
#fauna-section .fauna-active-filter {
   display: flex;
   flex-wrap: wrap;
   align-items: center;
   justify-content: space-between;
   gap: .75rem;
   margin-bottom: 1rem;
   padding: .85rem 1.15rem;
   border-radius: 16px;
   background: linear-gradient(120deg, rgba(0,97,255,0.12), rgba(72,149,255,0.18));
   border: 1px solid rgba(0,97,255,0.18);
   box-shadow: inset 0 0 0 1px rgba(255,255,255,0.22);
}
#fauna-section .fauna-active-filter-label {
   display: flex;
   align-items: baseline;
   gap: .65rem;
   font-size: 1rem;
   color: #0b3a7d;
}
#fauna-section .fauna-active-filter-label i {
   font-size: 1.05rem;
   color: #0050d1;
}
#fauna-section .fauna-active-filter-total {
   font-weight: 600;
   font-size: .95rem;
   color: #06306a;
}
body.dark-mode #fauna-section .fauna-active-filter {
   background: linear-gradient(120deg, rgba(44,124,255,0.18), rgba(80,160,255,0.18));
   border-color: rgba(80,142,255,0.26);
   box-shadow: inset 0 0 0 1px rgba(17,38,92,0.7);
}
body.dark-mode #fauna-section .fauna-active-filter-label { color: #d6e4ff; }
body.dark-mode #fauna-section .fauna-active-filter-label i { color: #8ab5ff; }
body.dark-mode #fauna-section .fauna-active-filter-total { color: #a8c8ff; }
#fauna-section #fauna-summary-reset { font-weight: 600; }
#fauna-section #fauna-summary-reset:hover { transform: translateY(-1px); }
#fauna-section h6.text-muted { /* títulos como "Top horas críticas" y "Resumen por fase" */
   font-size: 1.05rem !important;
}
#fauna-phase-summary .badge {
   font-size: 1rem;
   padding: .5rem .7rem;
}
/* Ajustes para pantallas pequeñas: mantenerlos grandes también en móvil */
@media (max-width: 576px) {
   #fauna-section #fauna-total-badge {
      width: 100%;
      padding: 1rem 1.25rem 1rem 1.35rem;
      min-height: 74px;
   }
   #fauna-section #fauna-total-badge .fauna-total-label {
      font-size: .78rem;
      letter-spacing: .1em;
   }
   #fauna-section #fauna-total-badge .fauna-total-value {
      font-size: 2rem;
   }
   #fauna-section #fauna-period-badge { font-size: 1.05rem; }
   #fauna-section .fauna-active-filter {
      flex-direction: column;
      align-items: flex-start;
      gap: .6rem;
   }
   #fauna-top-hours .badge { font-size: 1rem; }
   #fauna-phase-summary .badge { font-size: 1.05rem; }
}

/* Etiquetas de badges y títulos compactos en móvil */
@media (max-width: 576px) {
   #fauna-section h6.text-muted { font-size: .95rem; }
   #fauna-section .badge { font-size: .8rem; }
}

/* ===================== Manifiestos: Alineación de campos ===================== */
.mf-body .form-label{ display:block; min-height:1.35rem; }
.mf-body .form-text{ display:block; min-height:1rem; }
.mf-body .row.g-2{ row-gap:.75rem; }
.mf-body .row.g-3{ row-gap:.75rem; }
/* Unificar fondo de bloques de tiempos */
.mf-times{ background: var(--bs-light-bg-subtle, rgba(0,0,0,0.03)); }

/* ================================================
   Time inputs: force 24h UI (hide AM/PM on WebKit)
   ================================================ */
/* Prefer a 24-hour UI by hiding the AM/PM subfield in Chromium-based browsers */
input[type="time"]::-webkit-datetime-edit-ampm-field { display: none; }
/* Also hide spin buttons for a cleaner, unified look */
input[type="time"]::-webkit-inner-spin-button { display: none; }
/* Keep value text aligned and legible */
input[type="time"] { font-variant-numeric: tabular-nums; }

/* ===================== Puntualidad: separadores y acentos visuales ===================== */
.punc-card .card-header { background: rgba(0,0,0,0.02); border-bottom: 2px solid var(--border-color); font-weight: 700; }
.punc-passengers .card-header { border-left: 4px solid #0d6efd; }
.punc-cargo .card-header { border-left: 4px solid #fd7e14; }
.punc-best-col { border-right: 1px dashed var(--border-color); }
@media (max-width: 767.98px) {
   .punc-best-col { border-right: none; border-bottom: 1px dashed var(--border-color); padding-bottom: .5rem; margin-bottom: .5rem; }
}
.punc-col-title { display: inline-flex; align-items: center; gap: .4rem; padding: .25rem .45rem; border-left: 4px solid transparent; border-radius: 6px; }
.punc-col-best { border-left-color: #198754; background: rgba(25,135,84,0.06); }
.punc-col-worst { border-left-color: #dc3545; background: rgba(220,53,69,0.06); }
body.dark-mode .punc-card .card-header { background: rgba(255,255,255,0.04); }
body.dark-mode .punc-col-best { background: rgba(25,135,84,0.12); }
body.dark-mode .punc-col-worst { background: rgba(220,53,69,0.12); }

/* Puntualidad: insignias de ranking Top 1–3 */
.punc-rank-badge {
   display: inline-flex;
   align-items: center;
   justify-content: center;
   width: 22px;
   height: 22px;
   border-radius: 50%;
   background: linear-gradient(180deg,#ffe680,#ffbf00);
   color: #1a1a1a;
   font-weight: 800;
   font-size: 0.8rem;
   line-height: 1;
   border: 1px solid rgba(0,0,0,0.12);
   box-shadow: 0 1px 1px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.6);
   margin-right: 4px; /* separación del logo/nombre */
}
@media (max-width: 576px) {
   .punc-rank-badge { width: 18px; height: 18px; font-size: 0.75rem; }
}
body.dark-mode .punc-rank-badge {
   background: linear-gradient(180deg,#ffe082,#ffca28);
   color: #111;
   border-color: rgba(255,255,255,0.18);
   box-shadow: 0 1px 2px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.28);
}

/* ===================== Aviación general: comparativo dinámico ===================== */
.ag-wrapper {
   display: flex;
   flex-direction: column;
   gap: 1.5rem;
}

.ag-controls-card {
   border: 1px solid rgba(108,117,125,0.18);
   box-shadow: 0 10px 30px rgba(15,23,42,0.05);
}

#ag-controls-row .form-label {
   letter-spacing: .04em;
}

.ag-summary-card {
   position: relative;
   border-radius: 14px;
   padding: 1.25rem 1.5rem;
   background: linear-gradient(135deg, rgba(13,110,253,0.08), rgba(13,110,253,0.02));
   border: 1px solid rgba(13,110,253,0.12);
   box-shadow: 0 10px 24px rgba(15,23,42,0.08);
   overflow: hidden;
   min-height: 140px;
}

.ag-summary-card[data-variant="contrast"] {
   background: linear-gradient(135deg, rgba(25,135,84,0.12), rgba(25,135,84,0.03));
   border-color: rgba(25,135,84,0.16);
}

.ag-summary-card[data-variant="alert"] {
   background: linear-gradient(135deg, rgba(220,53,69,0.12), rgba(220,53,69,0.03));
   border-color: rgba(220,53,69,0.16);
}

.ag-summary-heading {
   font-size: 0.85rem;
   font-weight: 700;
   text-transform: uppercase;
   color: #495057;
   letter-spacing: .08em;
}

.ag-summary-value {
   font-size: 2rem;
   font-weight: 700;
   color: #0b3d91;
   line-height: 1.1;
}

.ag-summary-caption {
   margin-top: .25rem;
   color: #6c757d;
   font-size: .85rem;
}

.ag-summary-trend {
   display: inline-flex;
   align-items: center;
   gap: .35rem;
   margin-top: .8rem;
   padding: .35rem .6rem;
   border-radius: 999px;
   font-size: .8rem;
   font-weight: 600;
}

.ag-summary-trend.up {
   background: rgba(32,201,151,0.12);
   color: #198754;
}

.ag-summary-trend.down {
   background: rgba(248,215,218,0.8);
   color: #dc3545;
}

.ag-summary-trend.flat {
   background: rgba(108,117,125,0.1);
   color: #6c757d;
}

.ag-summary-trend i {
   font-size: .9rem;
}

#ag-chart-tag,
#ag-table-tag {
   border-radius: 999px;
   padding: .35rem .75rem;
}

.ag-insights {
   padding: 1.25rem 1.5rem;
   border-radius: 14px;
   background: rgba(13,110,253,0.05);
   border: 1px dashed rgba(13,110,253,0.35);
   color: #0b3d91;
   font-size: 0.95rem;
}

.ag-insights strong {
   color: #0a1f44;
}

.ag-insights ul {
   margin: 0.5rem 0 0;
   padding-left: 1rem;
}

.ag-insights li {
   margin-bottom: .25rem;
}

.ag-variation-pill {
   display: inline-flex;
   align-items: center;
   gap: .3rem;
   padding: .3rem .55rem;
   border-radius: 999px;
   font-size: .75rem;
   font-weight: 600;
}

.ag-variation-pill.up {
   background: rgba(25,135,84,0.12);
   color: #198754;
}

.ag-variation-pill.down {
   background: rgba(220,53,69,0.12);
   color: #dc3545;
}

.ag-variation-pill.flat {
   background: rgba(108,117,125,0.08);
   color: #495057;
}

.ag-table-meta {
   font-size: .85rem;
   color: #6c757d;
}

.ag-wrapper > .ag-insights {
   width: 100%;
}

@media (max-width: 1399.98px) {
   #ag-controls-row .card {
      height: auto !important;
   }
}

@media (max-width: 767.98px) {
   .ag-summary-card {
      min-height: auto;
      padding: 1rem 1.2rem;
   }

   .ag-summary-value {
      font-size: 1.6rem;
   }
}